---
TOCTitle: '10장: 추가 레지스트리 항목'
Title: '10장: 추가 레지스트리 항목'
ms:assetid: 'fac86d0d-2a33-4409-a647-b3949eef75b0'
ms:contentKeyID: 20214107
ms:mtpsurl: 'https://technet.microsoft.com/ko-kr/library/Dd547952(v=TechNet.10)'
---

위협 및 대책
============

### 10장: 추가 레지스트리 항목

업데이트 날짜: 2005년 12월 27일

이 장에서는 관리 템플릿(.adm) 파일 내에는 정의되어 있지 않은 기본 보안 템플릿 파일의 레지스트리 키 항목(레지스트리 값)에 대한 추가 정보를 제공합니다. .adm 파일은 Microsoft Windows Server 2003의 데스크톱, 셸 및 보안에 대한 정책과 제한 사항을 정의합니다.

##### 이 페이지에서

[](#egaa)[사용자 지정 보안 구성 편집기](#egaa)
[](#efaa)[TCP/IP 관련 레지스트리 항목](#efaa)
[](#eeaa)[기타 레지스트리 항목](#eeaa)
[](#edaa)[Windows XP SP2 및 Windows Server 2003 SP1에서 사용할 수 있는 레지스트리 항목](#edaa)
[](#ecaa)[Windows XP SP2에서 사용할 수 있는 레지스트리 항목](#ecaa)
[](#ebaa)[Windows Server 2003 SP1에서 사용할 수 있는 레지스트리 항목](#ebaa)
[](#eaaa)[추가 정보](#eaaa)

### 사용자 지정 보안 구성 편집기

MMC(Microsoft Management Console) 보안 템플릿 스냅인을 로드하고 보안 템플릿을 보는 경우 다음 표의 항목은 표시되지 않습니다. 이러한 항목은 SCE(보안 구성 편집기)의 사용자 지정 버전을 사용하여 .inf 파일에 추가된 항목입니다. 메모장 같은 텍스트 편집기를 사용하여 이러한 항목을 보거나 수정할 수도 있습니다. 이러한 항목은 컴퓨터의 SCE 사용자 인터페이스를 수정했는지 여부에 관계 없이 항목에 대해 정책을 다운로드할 때 컴퓨터에 적용됩니다.

그런 다음 이러한 항목은 보안 템플릿 내에 포함되어 변경 내용을 자동으로 적용합니다. 정책을 제거하는 경우 이러한 항목은 자동으로 함께 제거되지 않으므로 Regedt32.exe 같은 레지스트리 편집 도구를 사용하여 수동으로 변경해야 합니다. 이 설명서에 포함된 Microsoft Excel 통합 문서 "Windows Default Security and Services Configuration"(Windows 기본 보안 및 서비스 구성)에서 기본 설정을 확인할 수 있습니다.

#### 보안 구성 편집기 사용자 인터페이스를 수정하는 방법

SCE는 개별 컴퓨터 또는 그룹 정책을 통해 여러 컴퓨터에 적용할 수 있는 보안 템플릿을 정의하는 데 사용됩니다. 보안 템플릿에는 암호 정책, 잠금 정책, Kerberos 프로토콜 정책, 감사 정책, 이벤트 로그 설정, 레지스트리 값, 서비스 시작 모드, 서비스 사용 권한, 사용자 권한, 그룹 구성원 제한, 레지스트리 권한 및 파일 시스템 권한이 포함될 수 있습니다. SCE는 다양한 MMC 스냅인과 관리 도구에 표시되며 보안 템플릿 스냅인과 보안 구성 및 분석 스냅인에 사용됩니다. 그룹 정책 편집기 스냅인은 컴퓨터 구성 트리의 보안 설정 부분에 SCE를 사용합니다. 또한 SCE는 로컬 보안 설정, 도메인 컨트롤러 보안 정책 및 도메인 보안 정책 도구에도 사용됩니다.

이 설명서에는 **%systemroot%\\inf** 폴더에 있는 Seregvl.inf 파일을 수정하고 Scecli.dll 파일을 다시 등록하면 SCE에 추가되는 추가 항목이 포함되어 있습니다. 원래 보안 설정 및 추가 설정은 모두 이 가이드 앞부분에서 설명한 스냅인 및 도구의 **로컬 정책\\보안** 아래에 표시됩니다. 이 설명서와 함께 제공되는 보안 템플릿 및 그룹 정책을 편집할 모든 컴퓨터에서 다음 섹션의 설명에 따라 Sceregvl.inf 파일을 업데이트하고 Scecli.dll을 다시 등록해야 합니다. 그러나 Sceregvl.inf 파일의 사용자 지정 정보는 Microsoft Windows XP Professional 서비스 팩 1(SP1) 및 Windows Server 2003에서만 제공되는 기능을 사용하므로 이전 버전의 Windows에는 설치하지 마십시오.

Sceregvl.inf 파일을 수정 및 등록하면 사용자 지정 레지스트리 값이 해당 컴퓨터의 SCE 사용자 인터페이스에 나타납니다. 이름 앞부분에 "MSS:"가 붙은 새 설정이 SCE 항목 목록 아래쪽에 표시됩니다. MSS는 이 설명서를 작성한 그룹의 이름, 즉 Microsoft Solutions for Security를 의미합니다. 그런 다음 이러한 새 레지스트리 값을 정의하는 보안 템플릿 또는 정책을 만들 수 있습니다. 이 정책 또는 템플릿은 대상 컴퓨터에서 Sceregvl.inf 파일이 수정되었는지 여부에 상관없이 모든 컴퓨터에 적용할 수 있습니다. 다음 번에 SCE UI를 실행하면 사용자 지정 레지스트리 값이 표시됩니다.

SCE 사용자 인터페이스를 수정하는 방법에 대한 지침은 다음 절차에서 확인할 수 있습니다. 이 절차는 SCE에 대해 다른 사용자 지정 작업을 이미 수행한 경우 따라야 하는 수동 지침입니다. 최소한의 사용자 작업만을 수행하여 설정을 추가하기 위한 스크립트가 제공됩니다. 이 스크립트에는 오류 검출 및 복구 기능이 기본적으로 포함되어 있지만 실패할 수도 있습니다. 스크립트가 실패하는 경우 실패의 원인을 확인하여 문제를 해결하거나 수동 지침을 수행해야 합니다. 또한 SCE 사용자 인터페이스를 기본 상태로 복원하는 데 사용할 수 있는 다른 스크립트도 제공됩니다. 이 스크립트를 실행하면 모든 사용자 지정 설정이 제거되며 SCE가 Windows XP SP2 또는 Windows Server 2003 SP1을 기본 설치할 때 표시되는 상태로 돌아갑니다.

**sceregvl.inf를 수동으로 업데이트하려면**

1.  메모장 같은 텍스트 편집기를 사용하여 이 설명서의 다운로드 버전에 있는 **SCE Update** 폴더에서 **Values-sceregvl.txt** 파일을 엽니다.

2.  텍스트 편집기를 다른 창으로 연 다음 **%systemroot%\\inf\\sceregvl.inf** 파일을 엽니다.

3.  **sceregvl.inf** 파일의 "\[Register Registry Values\]" 섹션 아래쪽으로 이동합니다. **Values-sceregvl.txt** 파일의 텍스트를 페이지 나누기 없이 복사하여 **sceregvl.inf** 파일의 이 섹션에 붙여 넣습니다.

4.  **Values-sceregvl.txt** 파일을 닫고 다운로드 버전 설명서의 **SCE Update** 폴더에서 **Strings-sceregvl.txt** 파일을 엽니다.

5.  **sceregvl.inf** 파일의 "\[Strings\]" 섹션 아래쪽으로 이동합니다. Strings-sceregvl.txt 파일의 텍스트를 페이지 나누기 없이 복사하여 **sceregvl.inf** 파일의 이 섹션에 붙여 넣습니다.

6.  **sceregvl.inf** 파일을 저장하고 텍스트 편집기를 닫습니다.

7.  명령 프롬프트를 열고 **regsvr32 scecli.dll** 명령을 실행하여 DLL 파일을 다시 등록합니다.

다음 번에 SCE를 실행하면 이러한 사용자 지정 레지스트리 값이 표시됩니다.

**sceregvl.inf를 자동으로 업데이트하려면**

1.  다운로드 버전 설명서의 **SCE Update** 폴더에 있는 **Values-sceregvl.txt,** **Strings-sceregvl.txt및Update\_SCE\_with\_MSS\_Regkeys.vbs** 파일이 같은 위치에 있어야 스크립트가 제대로 작동합니다.

2.  업데이트하려는 컴퓨터에서 **Update\_SCE\_with\_MSS\_Regkeys.vbs** 스크립트를 실행합니다.

3.  화면에 표시되는 메시지에 따라 작업을 진행합니다.

이 절차를 수행하면 앞의 절차에서 설명한 **Update\_SCE\_with\_MSS\_Regkeys.vbs** 스크립트를 통해 생성되는 사용자 지정 항목만 제거됩니다. 자동 업데이트 스크립트를 통해 수행한 변경 내용을 되돌릴 수도 있습니다.

**Update\_SCE\_with\_MSS\_Regkeys.vbs 스크립트를 통해 수행한 변경 내용을 되돌리려면**

1.  업데이트하려는 컴퓨터에서 **Rollback\_SCE\_for\_MSS\_Regkeys.vbs** 스크립트를 실행합니다.

2.  화면에 표시되는 메시지에 따라 작업을 진행합니다.

이 절차를 수행하면 이 설명서에 포함된 사용자 지정 항목 및 이전 버전 설명서와 다른 보안 설명서에서 제공되었던 사용자 지정 항목을 포함하여 SCE 사용자 인터페이스에 추가한 모든 사용자 지정 항목이 제거됩니다.

**SCE를 Windows XP SP2 및 Windows Server 2003 SP1의 기본 상태로 복원하려면**

1.  다운로드 버전 설명서의 **SCE Update** 폴더에 있는 **sceregvl\_W2K3\_SP1.inf.txt,** **sceregvl\_XPSP2.inf.txt및Restore\_SCE\_to\_Default.vbs** 파일이 같은 위치에 있어야 스크립트가 제대로 작동합니다.

2.  업데이트하려는 컴퓨터에서 **Restore\_SCE\_to\_Default.vbs** 스크립트를 실행합니다.

3.  화면에 표시되는 메시지에 따라 작업을 진행합니다.

**SCE 사용자 인터페이스의 기본 모양을 수동으로 복원하려면**

1.  **시작**, **실행**을 클릭하고 **regedit.exe**를 입력한 다음 Enter 키를 눌러 레지스트리 편집기 도구를 엽니다.

2.  **HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\SecEdit\\Reg Values**로 이동합니다.

3.  이 위치의 각 하위 키는 SCE의 보안 옵션 섹션에 있는 각 항목을 나타냅니다. 주의 깊게 확인하면서 하위 키를 모두 삭제합니다. **상위 키(레지스트리 값)는 삭제하지 말고** 상위 키에 포함된 하위 키만 삭제하십시오.

4.  명령 프롬프트를 열고 **regsvr32 scecli.dll** 명령을 실행하여 SCE DLL을 다시 등록합니다.

5.  다음 번에 SCE를 실행하면 사용 중인 Windows 버전에 포함되어 있던 원래 레지스트리 값만 표시됩니다.

[](#mainsection)[페이지 위쪽](#mainsection)

### TCP/IP 관련 레지스트리 항목

DoS(서비스 거부) 공격을 방지하려면 컴퓨터를 최신 보안 수정 프로그램으로 업데이트하고 공격자에게 노출될 수 있는 Windows Server 2003 컴퓨터의 TCP/IP 프로토콜 스택을 강화해야 합니다. 기본 TCP/IP 스택 구성은 표준 인트라넷 트래픽을 처리하도록 조정되어 있습니다. 컴퓨터를 인터넷에 직접 연결하는 경우에는 DoS 공격에 대비하여 TCP/IP 스택을 강화하는 것이 좋습니다.

TCP/IP 스택을 대상으로 하는 DoS 공격은 수많은 TCP 연결을 여는 등 시스템 리소스를 과도하게 사용하는 공격과 네트워크 스택 또는 전체 운영 체제에서 오류가 발생하도록 하는 특수 제작된 패킷을 보내는 공격의 두 가지 유형으로 분류됩니다. 다음 레지스트리 설정을 사용하면 TCP/IP 스택을 대상으로 하는 공격을 방지할 수 있습니다.

다음 표의 레지스트리 설정은 **HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\Services\\Tcpip\\Parameters\\** 하위 키의 템플릿 파일에 추가된 설정입니다. 각 설정에 대한 자세한 정보는 표 다음에 나오는 하위 섹션 및 [http://www.microsoft.com/technet/prodtechnol/windowsserver2003/technologies/networking/tcpip03.mspx (영문)](http://www.microsoft.com/technet/prodtechnol/windowsserver2003/technologies/networking/tcpip03.mspx)의 [Microsoft Windows Server 2003 TCP/IP Implementation Details (영문)](http://www.microsoft.com/technet/prodtechnol/windowsserver2003/technologies/networking/tcpip03.mspx)(Microsoft Windows Server 2003 TCP/IP 구현 정보) 페이지에서 확인할 수 있습니다.

**표 10.1 Windows Server 2003 SP1 및 Windows XP SP2의 TCP/IP 관련 레지스트리 항목**

 
<table style="border:1px solid black;">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th>레지스트리 항목</th>
<th>형식</th>
<th>XP SP2 기본값</th>
<th>2003 SP1 기본값</th>
<th>가장 안전한 값(십진수)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">DisableIPSourceRouting</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">2</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">EnableDeadGWDetect</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">0</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">EnableICMPRedirect</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">0</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">KeepAliveTime</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">7200000</td>
<td style="border:1px solid black;">7200000</td>
<td style="border:1px solid black;">300,000달러</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">PerformRouterDiscovery</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">2</td>
<td style="border:1px solid black;">2</td>
<td style="border:1px solid black;">0</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">SynAttackProtect</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">0</td>
<td style="border:1px solid black;">1</td>
<td style="border:1px solid black;">1</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">TcpMaxConnectResponseRetransmissions</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">2</td>
<td style="border:1px solid black;">2</td>
<td style="border:1px solid black;">2</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">TcpMaxDataRetransmissions</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">5</td>
<td style="border:1px solid black;">5</td>
<td style="border:1px solid black;">3</td>
</tr>
</tbody>
</table>
  
#### DisableIPSourceRouting: IP source routing protection level (protects against packet spoofing)
  
이 항목은 SCE에서 **MSS: (DisableIPSourceRouting) IP source routing protection level (protects against packet spoofing)**로 나타납니다. IP 원본 라우팅은 데이터그램이 네트워크를 통해 이동해야 하는 IP 경로를 보낸 사람이 결정할 수 있도록 하는 메커니즘입니다.
  
##### 보안 문제
  
공격자는 원본에서 라우팅한 패킷을 사용하여 해당 ID와 위치를 모호하게 만들 수 있습니다. 원본 라우팅을 사용하면 패킷을 보내는 컴퓨터가 패킷 이동 경로를 지정할 수 있습니다.
  
##### 대책
  
**MSS: (DisableIPSourceRouting) IP source routing protection level (protects against packet spoofing)** 항목의 값을 **Highest protection,** **source routing is completely disabled**로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   0, 1 또는 2, 기본 구성은 1(원본에서 라우팅한 패킷이 전달되지 않음)
  
SCE UI에는 다음 옵션 목록이 표시됩니다.
  
-   No additional protection, source routed packets are allowed
  
-   Medium, source routed packets ignored when IP forwarding is enabled.
  
-   Highest protection, source routing is completely disabled
  
-   정의되지 않음
  
##### 잠재적 영향
  
이 값을 **2**로 구성하면 원본에서 라우팅한 들어오는 패킷이 모두 삭제됩니다.
  
#### EnableDeadGWDetect: Allow automatic detection of dead network gateways (could lead to DoS)
  
이 항목은 SCE에서 **MSS: (EnableDeadGWDetect) Allow automatic detection of dead network gateways (could lead to DoS)**로 나타납니다. 작동하지 않는 게이트웨이 검색 기능을 사용하는 경우 많은 연결에서 문제가 발생하면 IP는 백업 게이트웨이로 변경될 수 있습니다.
  
##### 보안 문제
  
공격자는 서버가 게이트웨이를 의도하지 않은 다른 게이트웨이로 전환하도록 만들 수 있습니다. 그러나 이러한 방식의 공격을 수행하기는 매우 어려우므로 이 항목은 값이 작습니다.
  
##### 대책
  
**MSS: (EnableDeadGWDetect) Allow automatic detection of dead network gateways (could lead to DoS)** 항목의 값을 **사용 안 함**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, Windows Server 2003에서 기본 구성은 1(사용)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   사용
  
-   사용 안 함
  
-   정의되지 않음
  
##### 잠재적 영향
  
이 값을 **0**으로 구성하면 Windows에서 작동하지 않는 게이트웨이를 검색할 수 없으므로 대체 게이트웨이로 자동 전환합니다.
  
#### EnableICMPRedirect: Allow ICMP redirects to override OSPF generated routes
  
이 항목은 SCE에서 **MSS: (EnableICMPRedirect) Allow ICMP redirects to override OSPF generated routes**로 나타납니다. ICMP(Internet Control Message Protocol) 리디렉션을 통해 스택은 호스트 경로를 연결합니다. 이러한 경로는 OSPF(Open Shortest Path First)에서 생성한 경로보다 우선합니다.
  
##### 보안 문제
  
이 동작은 예상 가능한 동작입니다. 그러나 문제는 ICMP 리디렉션 연결 경로의 10분 제한 시간으로 인해 트래픽이 더 이상 해당 호스트에 대해 제대로 라우팅되지 않는 일시적인 네트워크 문제 상황이 발생한다는 것입니다.
  
##### 대책
  
**MSS: (EnableICMPRedirect) Allow ICMP redirects to override OSPF generated routes** 항목의 값을 **사용 안 함**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, 기본 구성은 1(사용)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   사용
  
-   사용 안 함
  
-   정의되지 않음
  
##### 잠재적 영향
  
ASBR(자치 시스템 경계 라우터)로 구성된 RRAS(라우팅 및 원격 액세스 서비스)는 연결된 인터페이스 서브넷 경로를 제대로 가져올 수 없습니다. 대신 이 라우터는 OSPF 경로에 호스트 경로를 삽입합니다. 그러나 OSPF 라우터를 ASBR 라우터로 사용할 수는 없으므로 연결된 인터페이스 서브넷 경로를 OSPF로 가져오는 경우 알 수 없는 라우팅 경로가 지정된 라우팅 테이블이 생성될 수 있습니다.
  
#### KeepAliveTime: How often keep–alive packets are sent in milliseconds (300,000 is recommended)
  
이 항목은 SCE에서 **MSS: (KeepAliveTime) How often keep-alive packets are sent in milliseconds (300,000 is recommended)**로 나타납니다. 이 항목은 TCP가 연결 유지 패킷을 보냄으로써 유휴 연결이 여전히 유지되고 있는지 확인하는 빈도를 지정합니다. 원격 컴퓨터에 계속 연결할 수 있는 경우 TCP는 연결 유지 패킷을 승인합니다.
  
##### 보안 문제
  
네트워크 응용 프로그램에 연결할 수 있는 공격자는 많은 연결을 설정하여 DoS 상황을 발생시킬 수 있습니다.
  
##### 대책
  
**MSS: (KeepAliveTime) How often keep-alive packets are sent in milliseconds (300,000 is recommended)** 항목의 값을 **300000** **or 5 minutes**로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1에서 0xFFFFFFFF 사이의 값 기본 구성은 7,200,000(2시간)입니다.
  
SCE UI에는 다음 옵션 목록이 표시됩니다.
  
-   150000 or 2.5 minutes
  
-   300000 or 5 minutes **(recommended)**
  
-   600000 or 10 minutes
  
-   1200000 or 20 minutes
  
-   2400000 or 40 minutes
  
-   3600000 or 1 hour
  
-   7200000 or 2 hours **(default value)**
  
-   정의되지 않음
  
##### 잠재적 영향
  
Windows에서는 연결 유지 패킷을 기본적으로 보내지 않습니다. 그러나 일부 응용 프로그램에서는 연결 유지 패킷을 필요로 하는 TCP 스택 플래그를 구성할 수 있습니다. 이러한 구성의 경우에는 이 값을 기본 설정인 2시간에서 5분으로 줄여 비활성 상태인 세션의 연결을 보다 빨리 끊을 수 있습니다.
  
#### PerformRouterDiscovery: Allow IRDP to detect and configure Default Gateway addresses (could lead to DoS)
  
이 항목은 SCE에서 **MSS: (PerformRouterDiscovery) Allow IRDP to detect and configure Default Gateway addresses (could lead to DoS)**로 나타납니다. 이 항목을 통해 IRDP(Internet Router Discovery Protocol)를 사용하거나 사용하지 않도록 설정할 수 있습니다. IRDP는 컴퓨터가 인터페이스별로 RFC 1256의 설명과 같이 기본 게이트웨이 주소를 자동으로 검색 및 구성할 수 있도록 합니다.
  
##### 보안 문제
  
같은 네트워크 세그먼트에서 컴퓨터를 제어할 수 있는 공격자는 네트워크에서 컴퓨터가 라우터를 가장하도록 구성할 수 있습니다. 그러면 IRDP를 사용하는 다른 컴퓨터에서 이와 같이 손상된 컴퓨터를 통해 해당 트래픽을 라우팅하려고 시도하게 됩니다.
  
##### 대책
  
**MSS: (PerformRouterDiscovery) Allow IRDP to detect and configure Default Gateway addresses (could lead to DoS)** 항목의 값을 **사용 안 함**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   0, 1 또는 2, 기본 구성은 2 (enable only if DHCP sends the Perform Router Discovery option)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   0 (Disabled)
  
-   1 (Enabled)
  
-   2 (enable only if DHCP sends the Perform Router Discovery option)
  
-   정의되지 않음
  
##### 잠재적 영향
  
이 설정을 사용하지 않으면 IRDP를 지원하는 Windows Server 2003에서 컴퓨터의 기본 게이트웨이 주소를 자동으로 검색 및 구성할 수 없습니다.
  
#### SynAttackProtect: Syn attack protection level (protects against DoS)
  
이 항목은 SCE에서 **MSS: (SynAttackProtect) Syn attack protection level (protects against DoS)**로 나타납니다. 이 항목을 통해 TCP가 SYN-ACK 재전송을 조정하도록 할 수 있습니다. 이 항목을 구성하면 연결 요청(SYN) 공격의 불완전한 전송 오버헤드가 감소합니다.
  
이 항목을 사용하여 Windows가 RFC 1256의 설명과 같이 라우터 검색 메시지를 멀티캐스트가 아닌 브로드캐스트로 보내도록 구성할 수 있습니다. 기본적으로 라우터 검색을 사용하는 경우 라우터 검색 요청을 모든 라우터의 멀티캐스트 그룹(224.0.0.2)으로 보냅니다.
  
##### 보안 문제
  
공격자는 SYN 플러드 공격을 통해 지속적인 SYN 패킷 스트림을 서버로 보낼 수 있습니다. 서버는 부분적으로 연결된 상태로 유지되기 때문에 스트림을 지속적으로 받으면 더 이상 올바른 요청에 대해 응답할 수 없는 상태가 됩니다.
  
##### 대책
  
**MSS: (SynAttackProtect) Syn attack protection level (protects against DoS)** 항목의 값을 **Connections time out sooner if a SYN attack is detected**로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, Windows Server 2003 SP1의 기본 구성은 1(사용)이며 Windows XP SP2의 기본 구성은 0(사용 안 함)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   Connections time–out more quickly if a SYN attack is detected
  
-   No additional protection, use default settings
  
-   정의되지 않음
  
##### 잠재적 영향
  
이 값을 사용하면 연결 표시가 지연되어 SYN 공격이 진행될 때 TCP 연결 요청의 시간 제한이 더 빨리 초과됩니다. 이 레지스트리 항목을 구성하면 초기 RTT(왕복 시간)와 창 크기 등 각 어댑터에 대해 구성된 조정 가능한 창 및 TCP 매개 변수 등의 소켓 옵션이 더 이상 작동하지 않습니다. 즉, 컴퓨터가 공격을 받으면 모든 소켓의 조정 가능한 창(RFC 1323) 및 어댑터별로 구성된 TCP 매개 변수(초기 RTT, 창 크기) 옵션을 더 이상 사용할 수 없습니다. 이러한 옵션을 사용할 수 없는 이유는 보호 기능이 작동 중일 때 경로 캐시 항목은 SYN-ACK을 보낸 후에 쿼리되며 이 연결 단계에서는 Winsock 옵션을 사용할 수 없기 때문입니다.
  
#### TcpMaxConnectResponseRetransmissions: SYN – ACK retransmissions when a connection request is not acknowledged
  
이 항목은 SCE에서 **MSS: (TcpMaxConnectResponseRetransmissions) SYN-ACK retransmissions when a connection request is not acknowledged**로 나타납니다. 이 항목은 전송 시도를 중단할 때까지 TCP에서 SYN을 재전송하는 횟수를 결정합니다. 재전송 시간 제한은 지정한 연결 시도에서 각 재전송 작업을 연속적으로 시도할 때마다 두 배로 증가합니다. 초기 시간 제한 값은 3초입니다.
  
##### 보안 문제
  
공격자는 SYN 플러드 공격을 통해 지속적인 SYN 패킷 스트림을 서버로 보낼 수 있습니다. 서버는 부분적으로 연결된 상태로 유지되기 때문에 스트림을 지속적으로 받으면 더 이상 올바른 요청에 대해 응답할 수 없는 상태가 됩니다.
  
##### 대책
  
**MSS: (TcpMaxConnectResponseRetransmissions) SYN-ACK retransmissions when a connection request is not acknowledged** 항목의 값을 **3 seconds,** **half-open connections dropped after nine seconds**로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   0에서 0xFFFFFFFF 사이의 값. 기본 구성은 2입니다.
  
SCE UI에는 다음 옵션 목록이 표시되며 각 옵션은 0, 1, 2, 3 값에 해당합니다.
  
-   No retransmission, half–open connections dropped after 3 seconds
  
-   3 seconds, half–open connections dropped after 9 seconds
  
-   3 &amp; 6 seconds, half–open connections dropped after 21 seconds
  
-   3, 6, &amp; 9 seconds, half–open connections dropped after 45 seconds
  
-   정의되지 않음
  
##### 잠재적 영향
  
이 값을 **2** 이상으로 구성하는 경우 스택에서 SYN-ATTACK 보호를 내부적으로 적용합니다. 이 항목을 **2** 미만의 값으로 구성하는 경우에는 스택에서 SYN-ATTACK 보호를 위한 레지스트리 값을 읽을 수 없습니다. 이 항목은 부분적 TCP 연결을 정리하는 데 필요한 시간을 줄입니다. 공격을 많이 받는 사이트의 경우 이 값을 **1**과 같이 낮은 값으로 설정할 수 있으며 **0**도 사용할 수 있습니다. 그러나 이 값을 **0**으로 설정하면 SYN-ACK는 재전송되지 않으며 시간 제한이 3초 이내에 초과됩니다. 이와 같이 이 값을 낮게 설정하면 먼 거리의 클라이언트에서 합법적으로 연결을 시도해도 연결되지 않습니다.
  
#### TcpMaxDataRetransmissions: How many times unacknowledged data is retransmitted (3 recommended, 5 is default)
  
이 항목은 SCE에서 **MSS: (TcpMaxDataRetransmissions) How many times unacknowledged data is retransmitted (3 recommended,** **5 is default)**로 나타납니다. 이 매개 변수는 연결을 중단하기 전까지 TCP에서 개별 데이터 세그먼트(연결되지 않은 세그먼트)를 재전송하는 횟수를 제어합니다. 재전송 시간 제한은 연결에서 각 재전송 작업을 연속적으로 시도할 때마다 두 배로 증가하며 응답이 재개되면 다시 설정됩니다. 기본 시간 제한 값은 연결 시 측정된 왕복 시간에 따라 동적으로 결정됩니다.
  
##### 보안 문제
  
대상 컴퓨터에서 전송한 데이터에 대해 승인 메시지를 보내지 않는 경우 악의적인 사용자는 대상 컴퓨터의 리소스를 모두 소모할 수 있습니다.
  
##### 대책
  
**MSS: (TcpMaxDataRetransmissions) How many times unacknowledged data is retransmitted (3 recommended,** **5 is default)** 항목의 값을 **3**으로 구성합니다. 이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   0에서 0xFFFFFFFF 사이의 값. 기본 구성은 5입니다.
  
SCE UI에서는 텍스트 항목 상자를 사용해 이 설정을 조정할 수 있습니다.
  
-   사용자 정의 수
  
-   정의되지 않음
  
##### 잠재적 영향
  
TCP는 각 아웃바운드 세그먼트가 IP로 전달될 때 재전송 타이머를 시작합니다. 타이머가 만료되기 전에 해당 세그먼트에서 데이터에 대한 승인이 수신되지 않은 경우 세그먼트가 세 번까지 재전송됩니다.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
### 기타 레지스트리 항목
  
다음 표에 있는 레지스트리 항목 역시 사용하는 것이 좋습니다. 각 레지스트리 키 설정의 위치를 포함하여 각 항목에 대한 추가 정보는 표 다음에 나오는 하위 섹션에서 확인할 수 있습니다.
  
**표 10.2 Windows Server 2003의 레지스트리에 추가된 TCP/IP가 아닌 항목**

 
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>레지스트리 항목</th>
<th>형식</th>
<th>가장 안전한 값(십진수)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">MSS: (AutoAdminLogon) Enable Automatic Logon (not recommended)</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">0을 사용해야 하는 매우 안전한 환경을 제외하고는 정의되지 않음</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">MSS: (AutoReboot) Allow Windows to automatically restart after a system crash (recommended except for highly secure environments)</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">0을 사용해야 하는 매우 안전한 환경을 제외하고는 정의되지 않음</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">MSS: (AutoShareWks) Enable Administrative Shares (not recommended except for highly secure environments)</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1을 사용해야 하는 매우 안전한 환경을 제외하고는 정의되지 않음</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">MSS: (DisableSavePassword) Prevent the dial-up passsword from being saved (recommended)</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">MSS: (Hidden) Hide Computer From the Browse List (not recommended except for highly secure environments)</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1을 사용해야 하는 매우 안전한 환경을 제외하고는 정의되지 않음</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">MSS: (NoDefaultExempt) Enable NoDefaultExempt for IPSec Filtering (recommended)</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">Windows XP를 실행하는 컴퓨터의 경우 1, Windows Server 2003을 실행하는 컴퓨터의 경우 3</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">MSS: (NoDriveTypeAutoRun) Disable Autorun for all drives (recommended)</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">0xFF</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">MSS: (NoNameReleaseOnDemand) WINS 서버에서 제외되는 NetBIOS 이름 해제 요청을 컴퓨터에서 무시할 수 있도록 허용</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">MSS: 컴퓨터에서 8.3 스타일 파일 이름의 생성을 중지할 수 있음</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">MSS: 안전한 DLL 검색 모드 사용(권장)</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">1</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">MSS: 화면 보호기 유예 기간 만료 시간(초)(0 권장)</td>
<td style="border:1px solid black;">String</td>
<td style="border:1px solid black;">0</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">MSS: 시스템에서 경고를 생성할 보안 이벤트 로그 용량에 대한 백분율 임계값</td>
<td style="border:1px solid black;">DWORD</td>
<td style="border:1px solid black;">0</td>
</tr>
</tbody>
</table>
  
#### Disable Automatic Logon: Disable Automatic Logon
  
이 항목은 SCE에서 **MSS: (AutoAdminLogon) Enable Automatic Logon (not recommended)**으로 나타납니다. 이 항목은 자동 로그온 기능 사용 여부를 결정합니다. 이 항목은 Windows XP의 시작 화면 기능과는 다른 별도의 항목입니다. 해당 기능을 사용하지 않아도 이 항목은 영향을 받지 않습니다. 기본적으로 이 항목은 사용되지 않습니다. 자동 로그온 기능은 레지스트리에 저장된 도메인, 사용자 이름 및 암호를 사용하여 컴퓨터가 시작할 때 사용자가 컴퓨터에 로그온되도록 합니다. 로그온 대화 상자는 표시되지 않습니다.
  
자세한 내용은 <http://support.microsoft.com/default.aspx?kbid=315231>의 Microsoft 기술 자료 문서 "[Windows XP에서 자동 로그온을 설정하는 방법](http://support.microsoft.com/default.aspx?kbid=315231)"을 참조하십시오.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\**  
**Winlogon\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
컴퓨터에 자동 로그온 기능을 구성하면 실제로 해당 컴퓨터에 액세스할 수 있는 모든 사용자는 컴퓨터가 연결된 네트워크를 포함하여 컴퓨터의 모든 내용에도 액세스할 수 있게 됩니다. 또한 자동 로그온을 사용하는 경우 암호가 일반 텍스트로 레지스트리에 저장됩니다. 그러면 이 설정이 저장되는 특정 레지스트리 키를 **Authenticated Users** 그룹이 원격으로 읽을 수 있습니다. 그러므로 이 항목은 실제로 안전한 컴퓨터에만 적절한 항목이며 신뢰하지 않는 사용자가 원격으로 레지스트리를 확인할 수 없는 경우에만 사용해야 합니다.
  
##### 대책
  
매우 안전한 컴퓨터를 제외하고는 **MSS: (AutoAdminLogon) Enable Automatic Logon (not recommended)** 항목을 구성하지 마십시오. 매우 안전한 컴퓨터의 경우에는 이 항목의 값을 **사용 안 함**으로 구성해야 합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, 기본 구성은 0(사용 안 함)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   사용
  
-   사용 안 함
  
-   정의되지 않음
  
##### 잠재적 영향
  
없음: 이 항목은 기본적으로 사용되지 않습니다.
  
#### Configure Automatic Reboot from System Crashes
  
이 항목은 SCE에서 **MSS: (AutoReboot) Allow Windows to automatically restart after a system crash (recommended except for highly secure environments)**로 나타납니다. 이 항목은 컴퓨터에 오류가 발생하면 자동으로 다시 시작되도록 할 것인지를 결정합니다.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\CrashControl\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
이 항목을 사용하는 경우 컴퓨터에서 오류와 다시 부팅의 무한 루프가 계속 반복되는 경우가 있습니다. 그러나 이 항목을 대체하는 설정을 사용하는 경우 컴퓨터의 실행 자체가 중지됩니다.
  
##### 대책
  
**MSS: (AutoReboot) Allow Windows to automatically restart after a system crash (recommended except for highly secure environments)** 항목의 값을 **사용 안 함**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, 기본 구성은 1(사용)
  
자세한 내용은 <http://support.microsoft.com/?kbid=307973>의 Microsoft 기술 자료 문서 "[Windows에서 시스템 오류 및 복구 옵션을 구성하는 방법](http://support.microsoft.com/?kbid=307973)"을 참조하십시오.
  
SCE UI에서는 다음 옵션을 사용할 수 있습니다.
  
-   사용
  
-   사용 안 함
  
-   정의되지 않음
  
##### 잠재적 영향
  
컴퓨터가 오류 발생 후에 더 이상 자동으로 다시 부팅되지 않습니다.
  
#### Enable Administrative Shares
  
이 항목은 SCE에서 **MSS: (AutoShareWks) Enable Administrative Shares (not recommended except for highly secure environments)**로 나타납니다 Windows XP Professional에서는 기본적으로 C$ 및 IPC$ 같은 관리 공유 위치가 자동으로 만들어집니다.
  
자세한 내용은 <http://support.microsoft.com/default.aspx?kbid=314984>의 Microsoft 기술 자료 문서 "[클라이언트 컴퓨터에서 숨겨진 공유 또는 관리자 공유를 만들고 삭제하는 방법](http://support.microsoft.com/default.aspx?kbid=314984)"을 참조하십시오.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\Services\\LanmanServer\\**  
**Parameters\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
이와 같은 기본 제공 관리 공유 위치는 널리 알려져 있으며 대부분의 Windows 컴퓨터에 존재하기 때문에 악의적인 사용자는 이러한 위치에 대해 무단 공격을 수행하여 암호를 추측하며 여러 가지 다른 유형의 공격도 수행할 수 있습니다.
  
##### 대책
  
매우 안전한 컴퓨터를 제외하고는 **MSS: (AutoShareWks) Enable Administrative Shares (not recommended except for highly secure environments)** 항목을 구성하지 마십시오. 매우 안전한 컴퓨터의 경우에는 이 항목의 값을 **사용**으로 구성해야 합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
●    1 또는 0, 기본 구성은 1(사용)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
●    사용
  
●    사용 안 함
  
●    정의되지 않음
  
##### 잠재적 영향
  
이러한 공유 위치를 삭제하면 관리자 및 해당 공유 위치를 사용하는 프로그램이나 서비스에 문제가 발생할 수 있습니다. 예를 들어 Microsoft SMS(Systems Management Server) 및 Microsoft Operations Manager 2000을 올바르게 설치 및 작동하려면 관리 공유 위치가 필요합니다. 또한 많은 타사 네트워크 백업 응용 프로그램에도 관리 공유 위치가 필요합니다.
  
#### Disable Saving of Dial-Up Passwords
  
이 항목은 SCE에서 **MSS: (DisableSavePassword) Prevent the dial-up passsword from being saved (recommended)**로 나타납니다. 이 항목은 네트워크 연결 전화 번호부와 연결된 암호가 저장되는지 여부를 결정합니다. 사용자에게 전화 번호부 항목이 많은 경우 저장된 암호가 누적되면 사용자의 자격 증명을 **연결 대상** 대화 상자에 입력한 후에 작업이 약간 지연될 수 있습니다.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\RasMan\\**  
**Parameters\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
전화 접속 항목에 대해 **이 암호 저장** 확인란을 선택하는 경우 공격자가 모바일 사용자의 컴퓨터를 훔쳐 자동으로 조직 네트워크에 연결할 수 있습니다.
  
##### 대책
  
**MSS: (DisableSavePassword) Prevent the dial-up password from being saved (recommended)** 항목의 값을 **사용 안 함**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, 기본 구성은 0(사용 안 함)
  
자세한 내용은 <http://support.microsoft.com/default.aspx?kbid=172430>의 Microsoft 기술 자료 문서 "[Disabling Save Password Option in Dial-Up Networking](http://support.microsoft.com/default.aspx?kbid=172430)"(전화 접속 네트워크에서 암호 저장 안 함)을 참조하십시오.
  
SCE UI에서는 다음 옵션을 사용할 수 있습니다.
  
-   사용
  
-   사용 안 함
  
-   정의되지 않음
  
##### 잠재적 영향
  
사용자가 전화 접속 및 VPN 연결에 대해 로그온 자격 증명을 자동으로 저장할 수 없게 됩니다.
  
#### Hide the Computer from Network Neighborhood Browse Lists: 찾아보기 목록에서 컴퓨터 숨기기
  
이 항목은 SCE에서 **MSS: (Hidden) Hide Computer From the Browse List (not recommended except for highly secure environments)**로 나타납니다. 컴퓨터가 도메인의 브라우저에 알림을 보내지 않도록 구성할 수 있습니다. 이렇게 구성하면 컴퓨터가 찾아보기 목록에서 숨겨지며 같은 네트워크의 다른 컴퓨터에 대해 자신의 존재를 알리지 않습니다.
  
자세한 내용은 Microsoft 기술 자료 문서 "[HOW TO: Hide a Windows 2000–Based Computer from the Browser List](http://support.microsoft.com/default.aspx?kbid=321710)"(HOW TO: Windows 2000 기반 컴퓨터를 찾아보기 목록에서 숨기기)(<http://support.microsoft.com/default.aspx?kbid=321710>)를 참조하십시오.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\Services\\Lanmanserver\\**  
**Parameters\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
컴퓨터 이름을 아는 공격자는 컴퓨터에 대한 추가 정보를 보다 쉽게 수집할 수 있습니다. 이 항목을 사용하면 공격자가 이와 같이 손쉬운 방법으로 네트워크의 컴퓨터에 대한 정보를 수집할 수 없게 됩니다. 또한 이 항목을 통해 네트워크 트래픽도 줄일 수 있습니다. 그러나 공격자는 다른 방법을 사용하여 공격 대상 컴퓨터를 식별하고 찾을 수 있으므로 보안 문제는 그다지 크지 않습니다.
  
##### 대책
  
매우 안전한 컴퓨터를 제외하고는 **MSS: (Hidden) Hide Computer From the Browse List (not recommended except for highly secure environments)** 항목을 구성하지 마십시오. 매우 안전한 컴퓨터의 경우에는 이 항목의 값을 **사용**으로 구성해야 합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
●    1 또는 0, 기본 구성은 0(사용 안 함)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
●    사용
  
●    사용 안 함
  
●    정의되지 않음
  
##### 잠재적 영향
  
컴퓨터가 같은 네트워크에 있는 다른 컴퓨터에서 찾아보기 목록 또는 네트워크 환경에 더 이상 표시되지 않습니다.
  
#### Enable IPSec to protect Kerberos RSVP Traffic: Enable NoDefaultExempt for IPSec Filtering
  
이 항목은 SCE에서 **MSS: (NoDefaultExempt) Enable NoDefaultExempt for IPSec Filtering (recommended)**으로 나타납니다. IPsec 정책 필더의 기본 예외는 Microsoft Windows Server 2003 및 Microsoft Windows XP 온라인 도움말에 설명되어 있습니다. 이러한 필터를 사용하면 IKE(인터넷 키 교환) 및 Kerberos 인증 프로토콜이 작동하도록 할 수 있습니다. 또한 이러한 필터를 사용하여 IPsec에서 데이터 트래픽을 보호할 때 및 IPsec에서 보호하지 않는 멀티캐스트 및 브로드캐스트 트래픽 등에 대해 네트워크 QoS(Quality of Service)에 신호를 보내도록 할 수 있습니다(RSVP).
  
자세한 내용은 [http://www.microsoft.com/technet/prodtechnol/windowsserver2003/library/DepKit/c9a7d986-5b9a-4e01-bb80-82d5e3a87d5c.mspx (영문)](http://www.microsoft.com/technet/prodtechnol/windowsserver2003/library/depkit/c9a7d986-5b9a-4e01-bb80-82d5e3a87d5c.mspx)의 TechNet 문서 "[Specifying Default Exemptions to IPSec Filtering (영문)](http://www.microsoft.com/technet/prodtechnol/windowsserver2003/library/depkit/c9a7d986-5b9a-4e01-bb80-82d5e3a87d5c.mspx)"(IPSec 필터링에 대한 기본 예외 지정) 및 <http://support.microsoft.com/default.aspx?kbid=811832>의 Microsoft 기술 자료 문서 "[일부 시나리오에서 IPSec 기본 면제를 사용하여 IPSec 보호를 무시할 수 있다](http://support.microsoft.com/default.aspx?kbid=811832)"를 참조하십시오.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\Services\\IPSEC\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
특히 인터넷 제공 시나리오에서 기본 호스트 방화벽 패킷 필터링에 대한 IPsec의 사용 빈도는 점점 증가하고 있지만 이러한 기본 예외의 영향에 대한 이해도는 높지 않은 편입니다. 일부 IPsec 관리자가 안전한 것으로 간주하여 작성하는 IPsec 정책도 실제로는 기본 예외를 사용하는 인바운드 공격에 대해 안전하지 않습니다. 공격자는 합법적인 IKE, RSVP 또는 Kerberos 프로토콜 패킷으로 구성된 것처럼 보이지만 관리자가 호스트의 다른 네트워크 서비스로 이동하도록 하는 네트워크 트래픽을 위조할 수 있습니다.
  
##### 대책
  
매우 안전한 컴퓨터를 제외하고는 **MSS: (NoDefaultExempt) Enable NoDefaultExempt for IPSec Filtering (recommended)** 항목을 구성하지 마십시오. 매우 안전한 컴퓨터의 경우에는 이 항목의 값을 **사용**으로 구성해야 합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   항목 값을 0으로 구성하면 멀티캐스트, 브로드캐스트, RSVP, Kerberos 및 IKE(ISAKMP) 트래픽이 IPsec 필터에서 예외 대상으로 지정됩니다. 이는 Windows 2000 및 Windows XP의 기본 구성입니다. 이 설정은 Windows 2000 및 Windows XP에 이미 있는 IPsec 정책과의 호환성이 필요한 경우에만 사용하십시오.
  
-   항목 값을 1로 구성하면 Kerberos 프로토콜 및 RSVP 트래픽은 IPsec 필터의 예외 대상으로 지정되지 않지만 멀티캐스트, 브로드캐스트 및 IKE 트래픽은 예외 대상으로 지정됩니다. 이 설정은 Windows 2000 및 Windows XP의 권장 값입니다.
  
-   항목 값을 2로 구성하면 멀티캐스트 및 브로드캐스트 트래픽은 IPsec 필터의 예외 대상으로 지정되지 않지만 RSVP, Kerberos 및 IKE 트래픽은 예외 대상으로 지정됩니다. 이 설정은 Windows Server 2003에서만 지원됩니다.
  
-   항목 값을 3으로 구성하면 IKE 트래픽만이 IPsec 필터의 예외 대상으로 지정됩니다. 이 설정은 레지스트리 키가 기본적으로 존재하지 않아도 이러한 기본 동작을 포함하는 Windows Server 2003에서만 지원됩니다.
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   0
  
-   1
  
-   2
  
-   3
  
##### 잠재적 영향
  
이 항목을 사용하면 이미 존재하는 보안 정책이 제대로 작동하도록 하려면 변경해야 할 수 있습니다. 자세한 내용은 이 섹션 앞부분에서 설명한 <http://support.microsoft.com/default.aspx?kbid=811832>의 Microsoft 기술 자료 문서 "[일부 시나리오에서 IPSec 기본 면제를 사용하여 IPSec 보호를 무시할 수 있다](http://support.microsoft.com/default.aspx?kbid=811832)"를 참조하십시오.
  
#### 자동 실행 사용 안 함: 모든 드라이브에 대해 자동 실행 사용 안 함
  
이 항목은 SCE에서 **MSS: (NoDriveTypeAutoRun) Disable Autorun for all drives (recommended)**로 나타납니다. 자동 실행은 컴퓨터의 드라이브에 미디어가 삽입되는 즉시 해당 미디어를 읽기 시작하는 기능입니다. 따라서 프로그램의 설치 파일과 오디오 미디어 사운드 재생이 즉시 시작됩니다.
  
모든 드라이브에서 자동 실행을 사용하지 않으려면 이 레지스트리 값을
  
**HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\**  
**Policies\\Explorer\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
또한 CD/DVD 드라이브에 대해서만 자동 실행을 사용하지 않으려는 경우에는 이 레지스트리 값을
  
**HKEY\_LOCAL\_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Cdrom\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
미디어를 삽입할 때 악의적인 프로그램이 실행되지 않도록 하기 위해 그룹 정책을 통해 모든 드라이브에서 자동 실행을 사용할 수 없도록 설정합니다.
  
컴퓨터에 실제로 액세스할 수 있는 공격자는 자동 실행이 가능한 DVD 또는 CD를 컴퓨터에 삽입할 수 있으므로 이로 인해 악의적인 프로그램이 자동으로 시작됩니다.
  
##### 대책
  
**MSS: (NoDriveTypeAutoRun) Disable Autorun for all drives (recommended)** 항목의 값을 **255,** **disable Autorun for all drives**로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   16진수 범위의 값
  
자세한 내용은 <http://support.microsoft.com/default.aspx?kbid=330135>의 Microsoft 기술 자료 문서 "[드라이브에 CD-ROM을 넣어도 자동 실행 기능이 작동하지 않는다](http://support.microsoft.com/default.aspx?kbid=330135)"를 참조하십시오.
  
SCE UI에서는 다음 옵션을 사용할 수 있습니다.
  
-   Null, allow Autorun
  
-   255, 모든 드라이브에 대해 자동 실행 사용 안 함
  
-   정의되지 않음
  
##### 잠재적 영향
  
자동 실행되도록 설정된 디스크를 컴퓨터에 삽입해도 자동 실행 기능이 더 이상 작동하지 않습니다. 또한 빈 CD가 인식되지 않으므로 CD 굽기 유틸리티가 예상대로 작동하지 않을 수 있습니다. Windows Media Player 같은 미디어 응용 프로그램이 삽입되는 새 CD 또는 DVD를 인식하지 않으므로 사용자가 수동으로 응용 프로그램을 실행해야 합니다.
  
#### NetBIOS 이름 해제 보안 구성: (NoNameReleaseOnDemand) WINS 서버에서 제외되는 NetBIOS 이름 해제 요청을 컴퓨터에서 무시할 수 있도록 허용
  
이 항목은 SCE에서 **MSS: (NoNameReleaseOnDemand) Allow the computer to ignore NetBIOS name release requests except from WINS servers (Only recommended for servers)**로 나타납니다. NetBT(NetBIOS over TCP/IP)는 Windows 기반 컴퓨터에 등록된 NetBIOS 이름을 해당 컴퓨터에 대해 구성된 IP 주소로 쉽게 확인할 수 있도록 하는 네트워킹 프로토콜입니다. 이 값은 컴퓨터에서 이름 해제 요청을 받을 경우 NetBIOS 이름을 해제할지 여부를 결정합니다.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\Services\\Netbt\\Parameters\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
NetBT 프로토콜은 인증을 사용하지 않으므로 스푸핑에 취약합니다. 스푸핑은 작업을 수행한 사용자가 아닌 다른 사용자가 전송을 실행한 것처럼 표시합니다. 따라서 악의적인 사용자가 이와 같은 프로토콜의 비인증 특성을 악용하여 이름 충돌 데이터그램을 대상 컴퓨터에 보낼 수 있으며, 그러면 컴퓨터는 해당 이름을 포기하고 쿼리에 응답하지 않게 됩니다.
  
이러한 공격이 발생하면 대상 컴퓨터에서 임시로 연결이 중단되는 문제가 발생할 수 있으며 네트워크 환경, 도메인 로그온, NET SEND 명령 또는 추가적인 NetBIOS 이름 확인 기능 등을 사용할 수 없을 수도 있습니다.
  
자세한 내용은 Microsoft 기술 자료 문서 "[NetBIOS 보안 문제로 인해 네트워크 충돌 시 이름이 중복될 수 있다](http://support.microsoft.com/default.aspx?kbid=269239)"(<http://support.microsoft.com/default.aspx?kbid=269239>)를 참조하십시오.
  
##### 대책
  
**MSS: (NoNameReleaseOnDemand) Allow the computer to ignore NetBIOS name release requests except from WINS servers (Only recommended for servers)** 항목의 값을 **사용**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, 기본 구성은 1(사용)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   사용
  
-   사용 안 함
  
-   정의되지 않음
  
사용자 환경에서 WINS를 사용하지 않도록 설정하고 모든 응용 프로그램이 이름 확인 서비스에 DNS를 사용하도록 할 수도 있습니다. 이 방법은 장기적인 측면에서 보면 권장되지만 일반적으로 대부분의 조직에 있어서 단기적 솔루션으로 사용하기에는 실용적이지 않습니다. 일반적으로 WINS를 실행하는 조직의 경우 업그레이드 및 소프트웨어 롤아웃을 수행해야만 응용 프로그램 종속성을 신속하게 해결할 수 있는데 이러한 작업을 수행하려면 신중한 계획이 필요하며 상당한 시간이 소요됩니다.
  
이 대책을 배포할 수 없을 때 NetBIOS 이름 확인 기능을 사용하려면 특정 컴퓨터의 LMHOSTS 파일에서 NetBIOS 이름 "미리 로드" 단계를 추가로 수행하면 됩니다. LMHOSTS 파일을 미리 로드하는 방법에 대한 자세한 내용은 이 섹션 앞부분에서 설명한 Microsoft 기술 자료 문서 "NetBIOS 보안 문제로 인해 네트워크 충돌 시 이름이 중복될 수 있다"를 참조하십시오.
  
**참고**: 대부분의 환경에서 LMHOSTS 파일을 유지 관리하려면 많은 작업을 수행해야 합니다. 그러므로 LMHOSTS 대신 WINS를 사용하는 것이 좋습니다.
  
##### 잠재적 영향
  
공격자는 네트워크를 통해 요청을 보내 컴퓨터가 해당 NetBIOS 이름을 해제하도록 쿼리할 수 있습니다. 응용 프로그램에 영향을 줄 수 있는 변경 내용과 마찬가지로 프로덕션 환경을 변경하기 전에 해당 변경 내용을 비프로덕션 환경에서 테스트해 보는 것이 좋습니다.
  
#### 8.3 파일 이름의 자동 생성 사용 안 함: 컴퓨터에서 8.3 스타일 파일 이름의 생성을 중지할 수 있음
  
이 항목은 SCE에서 **MSS: (NtfsDisable8dot3NameCreation) Enable the computer to stop generating 8.3 style filenames (recommended)**로 나타납니다. Windows Server 2003에서는 이전 버전인 16비트 응용 프로그램과의 호환성을 위해 8.3 파일 이름 형식을 지원합니다. 8.3 파일 이름 규칙은 파일 이름에 최대 8자를 사용할 수 있는 명명 형식입니다.
  
이 레지스트리 값은
  
HKEY\_LOCAL\_MACHINE\\**SYSTEM**\\CurrentControlSet\\Control\\FileSystem
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
8.3 스타일 파일 이름을 허용하면 공격자는 이름이 20자인 파일을 참조하려 할 때 8자만 추측하면 됩니다. 예를 들어 이름이 Thisisalongfilename.doc인 파일은 8.3 파일 이름인 Thisis~1.doc를 통해 참조할 수 있습니다. 그러므로 16비트 응용 프로그램을 사용하는 경우가 아니면 이 기능을 해제하는 것이 좋습니다. 또한 NTFS 파일 시스템(NTFS) 파티션에서 약식 이름 생성 기능을 사용하지 않으면 디렉터리 열거 성능도 향상됩니다.
  
약식 파일 이름을 사용하면 침입자는 파일 이름이 길어 일반적으로는 찾기가 어려운 데이터 파일 및 응용 프로그램에 액세스할 수 있습니다. 해당 파일 시스템에 액세스할 수 있는 침입자는 데이터에 액세스하거나 응용 프로그램을 실행할 수 있습니다.
  
##### 대책
  
**MSS: (NtfsDisable8dot3NameCreation) Enable the computer to stop generating 8.3 style filenames (recommended)** 항목의 값을 **사용**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, 기본 구성은 0(사용 안 함)
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   사용
  
-   사용 안 함
  
-   정의되지 않음
  
##### 잠재적 영향
  
조직이 16비트 응용 프로그램에서 8.3 형식으로 명명되지 않은 파일에 액세스할 수 없게 됩니다. 약식 이름에는 공백이 포함되지 않으므로 명령줄에 사용할 때 따옴표가 필요하지 않기 때문에 일부 32비트 응용 프로그램 역시 약식 이름을 사용합니다. 일부 프로그램의 설치 루틴이 실패할 수 있습니다. 복수 CPU 아키텍처에서 실행되도록 디자인된 프로그램은 보통 16비트 응용 프로그램입니다. 이 항목을 사용하는 경우 Exchange 2000 SP2 설치가 실패합니다. 이 항목을 사용하며 시스템 변수 %temp%의 경로에 공백이 포함되어 있으면 SQL 2000 서비스 팩 설치가 실패합니다. 이 문제는 해당 변수를 공백이 없는 C:\\temp 등의 경로로 다시 정의하는 방법으로 간단하게 해결할 수 있습니다.
  
**참고**: 이미 8.3 파일 이름이 자동으로 생성된 파일이 들어 있는 서버에 이 항목을 적용해도 해당 파일 이름은 제거되지 않습니다. 기존 8.3 파일 이름을 제거하려면 해당 파일을 서버 외부 복사하고 원래 위치에서 파일을 삭제한 다음 다시 원래 위치로 파일을 복사해야 합니다.
  
#### 안전한 DLL 검색 순서 사용: 안전한 DLL 검색 모드 사용(권장)
  
이 항목은 SCE에서 **MSS: (SafeDllSearchMode) Enable Safe DLL search mode (recommended)**로 나타납니다. 다음 두 가지 중 한 가지 방법을 사용하여 요청된 DLL(동적 연결 라이브러리)을 검색하도록 DLL 검색 순서를 구성할 수 있습니다.
  
SafeDllSearchMode가 1로 구성된 경우 검색 순서는 다음과 같습니다.
  
-   응용 프로그램이 로드된 디렉터리
  
-   시스템 디렉터리
  
-   16비트 시스템 디렉터리. 이 디렉터리의 경로를 수집하는 기능은 없지만 디렉터리는 검색됩니다.
  
-   Windows 디렉터리
  
-   현재 디렉터리
  
-   PATH 환경 변수에 나열된 디렉터리
  
SafeDllSearchMode가 0으로 구성된 경우 검색 순서는 다음과 같습니다.
  
-   응용 프로그램이 로드된 디렉터리
  
-   현재 디렉터리
  
-   시스템 디렉터리
  
-   16비트 시스템 디렉터리. 이 디렉터리의 경로를 수집하는 기능은 없지만 디렉터리는 검색됩니다.
  
-   Windows 디렉터리
  
-   PATH 환경 변수에 나열된 디렉터리
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\SYSTEM\\CurrentControlSet** \\Control\\Session Manager\\EnhancedSecurityLevel
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
수정된 버전의 시스템 DLL에 포함된 추가 파일과 함께 패키지되어 있는 악성 코드를 사용자가 실수로 실행하는 경우 이러한 DLL의 고유 버전이 로드되어 해당 코드로 인해 초래될 수 있는 손상 유형 및 정도가 커집니다.
  
##### 대책
  
**MSS: (SafeDllSearchMode) Enable Safe DLL search mode (recommended)** 항목의 값을 **사용**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   1 또는 0, Windows XP의 기본 구성은 0이며 Windows Server 2003의 기본 구성은 1
  
SCE UI에서 이러한 옵션은 다음과 같이 표시됩니다.
  
-   사용
  
-   사용 안 함
  
-   정의되지 않음
  
##### 잠재적 영향
  
응용 프로그램은 먼저 시스템 경로에서 DLL을 검색하게 됩니다. 응용 프로그램에 포함된 이러한 DLL의 고유 버전을 필요로 하는 응용 프로그램의 경우에는 이 항목을 사용하면 성능 또는 안정성 문제가 발생할 수 있습니다.
  
#### 화면 보호기 암호 보호 즉시 적용: 화면 보호기 유예 기간 만료 시간(초)(0 권장)
  
이 항목은 SCE에서 **MSS: (ScreenSaverGracePeriod) The time in seconds before the screen saver grace period expires (0 recommended)**로 나타납니다. Windows에는 화면 보호기 잠금을 사용하는 경우 화면 보호기가 실행된 후 실제로 콘솔이 자동으로 잠길 때까지의 유예 기간이 설정되어 있습니다.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\**  
**Winlogon\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
화면 보호기 잠금이 적용될 때까지 사용자 동작에 허용된 기본 유예 기간은 5초입니다. 기본 유예 기간 구성을 그대로 사용하면 컴퓨터가 콘솔에 접근하여 잠금이 적용되기 전에 컴퓨터에 로그온하려는 공격자의 공격을 받기 쉬운 상태가 됩니다. 레지스트리 항목을 만들어 유예 기간을 조정할 수 있습니다.
  
##### 대책
  
**MSS: (ScreenSaverGracePeriod) The time in seconds before the screen saver grace period expires (0 recommended)** 항목의 값을 **0**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   0에서 255 사이의 값, 기본값은 5초
  
SCE UI에서 이 항목의 값은 텍스트 입력 상자로 표시됩니다.
  
-   사용자 정의 수
  
-   정의되지 않음
  
##### 잠재적 영향
  
화면 보호기가 활성화되는 즉시 콘솔 세션을 다시 시작하려면 사용자는 암호를 입력해야 합니다.
  
#### 보안 로그 용량 경고: 시스템에서 경고를 생성할 보안 이벤트 로그 용량에 대한 백분율 임계값
  
이 항목은 SCE에서 **MSS: (WarningLevel) Percentage threshold for the security event log at which the system will generate a warning**으로 나타납니다. Windows Server 2003과 Windows 2000 서비스 팩 3에는 보안 이벤트 로그가 사용자 정의 임계값에 도달하는 경우 해당 로그에 보안 감사를 생성하는 새로운 기능이 포함되어 있습니다. 예를 들어 이 값을 90으로 설정하는 경우 보안 로그 용량의 90%에 도달하면 eventID가 523인 이벤트 항목이 로그에 입력됩니다. 이 항목에는
  
보안 이벤트 로그가 90% 찼습니다.라는 텍스트가 표시됩니다.
  
**참고**: 필요에 따라 이벤트를 덮어쓰도록 보안 이벤트 로그를 구성한 경우에는 이 설정이 적용되지 않습니다.
  
이 레지스트리 값은
  
**HKEY\_LOCAL\_MACHINE\\ SYSTEM\\CurrentControlSet\\Services\\Eventlog\\Security\\**
  
하위 키의 템플릿 파일에 추가할 수 있습니다.
  
##### 보안 문제
  
필요에 따라 이벤트를 덮어쓰도록 컴퓨터를 구성하지 않은 경우 보안 로그 용량의 90%에 도달하면 최신 이벤트가 로그에 기록되지 않습니다. 보안 로그에 더 이상 이벤트를 기록할 수 없을 때 컴퓨터를 종료하도록 구성한 경우 로그가 꽉 차면 컴퓨터가 종료되고 네트워크 서비스를 더 이상 제공할 수 없게 됩니다.
  
##### 대책
  
**MSS: (WarningLevel) Percentage threshold for the security event log at which the system will generate a warning** 항목의 값을 **90**으로 구성합니다.
  
이 레지스트리 항목에 사용할 수 있는 값은 다음과 같습니다.
  
-   0에서 100 사이의 값, 기본 구성은 0(경고 이벤트가 생성되지 않음)
  
SCE UI에서는 다음 옵션을 사용할 수 있습니다.
  
-   50%
  
-   60%
  
-   70%
  
-   80%
  
-   90%
  
-   정의되지 않음
  
##### 잠재적 영향
  
필요에 따라 이벤트를 덮어쓰도록 로그를 구성하지 않은 경우 이 설정을 사용하면 보안 로그가 임계값의 90%에 도달할 때 감사 이벤트가 생성됩니다.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
### Windows XP SP2 및 Windows Server 2003 SP1에서 사용할 수 있는 레지스트리 항목
  
이 장의 앞부분에서 설명한 레지스트리 항목은 Microsoft Windows XP SP1 및 Windows Server 2003에 적용됩니다.
  
Windows XP SP2 및 Windows Server 2003 SP1이 출시됨에 따라 사용자 환경의 특정 보안 요구 사항을 해결하기 위해 구성할 수 있는 추가적인 보안 관련 레지스트리 항목이 제공되었습니다.
  
다음 레지스트리 항목은 Windows XP SP2 및 Windows Server 2003 SP1에서 모두 사용할 수 있습니다.
  
#### RestrictRemoteClients
  
RpcServerRegisterIf를 통해 인터페이스를 등록할 때 RPC는 서버 응용 프로그램이 일반적으로 보안 콜백을 통해 인터페이스에 대한 액세스를 제한할 수 있도록 허용합니다. **RestrictRemoteClients** 레지스트리 키는 인터페이스에 등록된 보안 콜백이 없는 경우에도 RPC가 모든 인터페이스에 대해 추가 보안 검사 작업을 수행하도록 합니다. 명명된 파이프 프로토콜 시퀀스(ncacn\_np)를 사용하는 RPC 클라이언트는 이러한 제한의 예외 대상입니다. 명명된 파이프 프로토콜 시퀀스는 여러 가지 중요한 이전 버전과의 호환성 문제로 인해 제한할 수 없습니다.
  
**RestrictRemoteClients** 레지스트리 키에는 다음과 같은 세 가지 DWORD 값 중 하나를 적용할 수 있습니다.
  
-   **0**. Windows Server 2003 SP1의 기본값이며 이 값을 사용하는 경우 컴퓨터가 RPC 인터페이스 제한을 건너뜁니다. 그러므로 적절한 RPC 제한을 적용하는 작업은 전적으로 서버 응용 프로그램에서 담당합니다. 이 구성은 이전 버전 Windows에서 사용되었던 구성에 해당합니다.
  
-   **1**. Windows XP SP2의 기본값이며 이 값을 사용하는 경우 명명된 파이프(ncacn\_np)를 통해 수신되는 호출을 제외한 모든 원격 익명 호출이 RPC 런타임에 의해 거부됩니다.
  
-   **2**. 이 값을 사용하는 경우 모든 원격 익명 호출이 예외 없이 RPC 런타임에 의해 거부됩니다. 이 구성을 사용하면 컴퓨터가 RPC를 사용하는 원격 익명 호출을 받을 수 없습니다.
  
개발자는 사용 중인 응용 프로그램을 수정하여 클라이언트 또는 서버가 익명 RPC 요청을 허용할 것인지 여부를 나타내는 플래그를 RPC 하위 시스템으로 전달할 수 있습니다.
  
##### 보안 문제
  
인증되지 않은 연결을 허용하는 RPC 인터페이스가 원격으로 버퍼 언더런 공격을 수행하고 악성 코드를 전파하는 데 사용될 수 있습니다.
  
##### 대책
  
Windows Server 2003 SP1 및 Windows XP SP2의 **RestrictRemoteClients** 값 기본 구성은 이전 버전과의 호환성을 허용합니다. RPC 서비스에서 원격으로 버퍼 언더런 공격을 수행하려고 시도하는 웜을 방지하려면 **RestrictRemoteClients**를 **1** 또는 **2**로 구성합니다.
  
##### 잠재적 영향
  
**RestrictRemoteClients** 레지스트리 키를 사용하면 RPC 끝점 매퍼 인터페이스에 원격으로 액세스할 수 없게 됩니다. 이러한 제한 기능은 중요한 보안 개선 사항이지만 이로 인해 끝점 확인 방식이 변경됩니다. 현재 동적 끝점을 사용하여 호출을 수행하려는 RPC 클라이언트는 먼저 서버에서 RPC 끝점 매퍼를 쿼리하여 연결해야 하는 끝점을 확인합니다. RPC 클라이언트 호출에서 RPC 보안을 사용하는 경우에도 이 쿼리는 익명으로 수행됩니다. **RestrictRemoteClients** 키를 1 이상으로 설정하는 경우 Windows Server 2003 SP1에서 RPC 끝점 매퍼 인터페이스에 대한 익명 호출이 실패합니다. 그러므로 RPC 클라이언트 런타임을 수정하여 끝점 매퍼에 대한 인증된 쿼리를 수행하도록 해야 합니다. **EnableAuthEpResolution** 키를 설정하는 경우 RPC 클라이언트 런타임에서는 NTLM을 사용하여 끝점 매퍼에 대한 인증을 수행합니다. 이와 같은 인증된 쿼리는 실제 RPC 클라이언트 호출이 RPC 인증을 사용하는 경우에만 수행됩니다.
  
이 키를 사용하면 제대로 작동하지 않는 응용 프로그램과 서비스도 있습니다. 그러므로 사용자 환경에 키를 배포하기 전에 철저히 테스트해야 합니다. 이 키를 사용하려는 경우에는 RPC 끝점 매퍼에 대한 인증을 활성화하기 위해 **EnableAuthEpResolution** 키도 사용해야 합니다.
  
#### EnableAuthEpResolution
  
새로운 **RestrictRemoteClients** 키의 기본값으로 인해 Windows XP SP2에서는 RPC 끝점 매퍼 인터페이스에 대한 익명 호출이 기본적으로 실패합니다. 그러므로 RPC 클라이언트 런타임을 수정하여 끝점 매퍼에 대한 인증된 쿼리를 수행하도록 해야 합니다. 이렇게 하려면 **EnableAuthEpResolution** 키를 1로 구성합니다. 이 구성을 적용하면 RPC 클라이언트 런타임에서는 NTLM을 사용하여 끝점 매퍼 인터페이스 인증을 수행합니다. 이와 같은 인증된 쿼리는 실제 RPC 클라이언트 호출이 RPC 인증을 사용하는 경우에만 수행됩니다.
  
##### 보안 문제
  
인증되지 않은 연결을 허용하는 RPC 인터페이스가 원격으로 버퍼 언더런 공격을 수행하고 악성 코드를 전파하는 데 사용될 수 있습니다.
  
##### 대책
  
RPC 서비스에서 원격으로 버퍼 언더런 공격을 수행하려고 시도하는 웜을 방지하려면 **RestrictRemoteClients**를 이전 섹션에 설명되어 있는 대로 구성하고 **EnableAuthEpResolution**을 사용하여 컴퓨터 RPC 요청에 대해 NTLM 인증을 사용합니다.
  
##### 잠재적 영향
  
**EnableAuthEpResolution** 키 집합이 없는 클라이언트는 **RestrictRemoteClients**를 사용하는 서버에 대해 RPC 서비스를 요청할 수 없습니다. 이러한 제한으로 인해 RPC 기반 서비스의 작동이 중지될 수 있습니다.
  
#### RunInvalidSignatures
  
기본적으로 Windows Server 2003 SP1 및 Windows XP SP2에서는 잘못된 서명이 포함되어 있는 서명된 코드 개체를 설치할 수 없습니다. 서명이 잘못되는 이유는 코드가 수정되었기 때문이거나 서명 인증서가 만료되었거나 CRL(인증서 해지 목록)에 있기 때문입니다. Internet Explorer 6.0에서는 잘못된 서명이 포함되어 있는 서명된 코드 설치가 기본적으로 차단되지만 서비스 팩에서는 이 동작이 모든 응용 프로그램에 대해 확대 적용됩니다.
  
##### 보안 문제
  
변조된 상태의 서명된 Microsoft ActiveX 컨트롤을 응용 프로그램에서 다운로드하여 실행할 수 있으므로 해당 응용 프로그램을 실행 중인 컴퓨터가 손상될 수 있습니다.
  
##### 대책
  
**RunInvalidSignatures**의 기본값을 사용하면 이러한 보안 문제를 차단할 수 있습니다.
  
##### 잠재적 영향
  
합법적인 서명 컨트롤의 서명이 잘못되는 경우 해당 컨트롤을 사용하는 응용 프로그램이 작동하지 않습니다. 응용 프로그램의 서명이 잘못된 것으로 보이면 컨트롤 다운로드 및 실행을 허용하도록 이 키 구성을 변경할 수 있습니다. 그러나 이를 수행하면 보안 문제가 발생합니다. 이 경우에는 응용 프로그램에 사용되는 컨트롤의 개발자에게 문의하여 올바른 서명이 포함된 버전을 얻는 것이 좋습니다.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
### Windows XP SP2에서 사용할 수 있는 레지스트리 항목
  
다음 레지스트리 항목은 Windows XP SP2에서만 사용할 수 있습니다.
  
#### XP의 보안 센터 레지스트리 항목
  
보안 센터에는 사용자가 지정된 기능에 대해 경고를 받을 것인지 여부를 결정하는 세 가지 레지스트리 값이 있습니다. 키 값이 0이거나 없으면 해당 기능의 알림 아이콘 및 경고 시스템이 사용됩니다. 키 값이 있으며 0이 아니면 해당 기능의 알림 아이콘 및 경고 시스템은 사용되지 않습니다.
  
이러한 값은 모두 **HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\**  
**Security Center**에 있으며 해당 값은 다음과 같습니다.
  
-   **AntiVirusDisableNotify**
  
-   **FirewallDisableNotify**
  
-   **UpdatesDisableNotify**
  
##### 보안 문제
  
보안 센터의 경고 기능을 사용하지 않는 사용자는 사용 중인 컴퓨터에 설치되어 있는 바이러스 백신, 방화벽 또는 자동 업데이트 서비스가 제대로 작동하지 않는 경우 적절한 경고를 받지 못합니다.
  
##### 대책
  
그룹 정책 레지스트리를 적용하여 사용자 환경에서 적절한 경고 구성을 사용합니다.
  
##### 잠재적 영향
  
이러한 레지스트리 값은 보안 센터 기능을 사용하는 경우 보안 센터 사용자 인터페이스에 표시됩니다. 로컬 관리자 권한이 있는 사용자는 보안 센터 값을 변경할 수 있습니다.
  
#### StorageDevicePolicies\\WriteProtect
  
기본적으로 사용자는 Windows XP 컴퓨터에 USB 블록 저장소 장치를 탑재하여 아무런 제한 없이 이러한 장치의 내용을 읽거나 장치에 내용을 쓸 수 있습니다. SP2에는 관리자가 사용자의 USB 블록 저장소 장치에 쓰기 기능을 제한할 수 있는 기능이 추가되었습니다.
  
사용자가 이러한 장치에 쓰는 기능을 제한하려면 **WriteProtect** DWORD 값을 **HKEY\_LOCAL\_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\StorageDevicePolicies**에 추가하고 **1**로 구성하면 됩니다. 이 값을 구성하면 USB 블록 저장소 장치용 Windows 드라이버에서 탑재된 USB 블록 저장소 장치에 대한 쓰기 요청을 거부합니다.
  
##### 보안 문제
  
공격자가 이동식 USB 장치 데이터를 복사하여 훔칠 수 있습니다.
  
##### 대책
  
**WriteProtect** 값을 1로 설정하면 Windows XP SP2에서는 USB 블록 저장소 장치에 대한 쓰기를 차단합니다.
  
##### 잠재적 영향
  
컴퓨터가 심각한 공격을 받는 경우 이 레지스트리 키를 사용하면 공격을 일부분 완화할 수 있습니다. 그러나 숙련된 공격자는 USB 장치의 데이터를 다양한 방식으로 훔칠 수 있습니다. 예를 들어 USB 장치가 프린터나 CD-ROM 장치 같은 블록 저장소 장치가 아닌 장치로 열거되도록 프로그래밍하면 이 컨트롤은 무시됩니다. 사용자나 공격자가 중요한 데이터를 훔치지 못하도록 하려는 조직에서는 쓰기 가능한 USB 장치에 대한 액세스를 제한하기 위한 실제 액세스 컨트롤 및 기타 대책과 함께 이 항목을 광범위한 보안 전략의 일부분으로 사용할 수 있습니다.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
### Windows Server 2003 SP1에서 사용할 수 있는 레지스트리 항목
  
다음 레지스트리 항목은 Windows Server 2003 SP1에서만 사용할 수 있습니다.
  
#### UseBasicAuth
  
DAV(Distributed Authoring and Versioning)는 파일 시스템 및 파일 서버에 대한 원격 액세스를 허용하는 HTTP 기반 프로토콜입니다. 사용자는 UNC 경로를 사용하여 DAV 서버의 리소스에 액세스할 수 있습니다. 그러나 Windows Server 2003의 WebDAV 리디렉터는 DAV through HTTP를 지원하는 웹 서버와 통신하며 SSL로 보호된 HTTP 세션은 사용할 수 없습니다. 이러한 웹 사이트에서 기본 인증을 사용하도록 허용하면 DAV 요청은 사용자의 인증 자격 증명을 일반 텍스트로 전송합니다.
  
Windows Server 2003 SP1에서 WebDAV 리디렉터는 기본 인증을 통해서는 사용자 자격 증명을 보내지 않도록 수정되었습니다. 이러한 수정 사항으로 인해 컴퓨터의 기본 DAV 리디렉터를 사용하는 응용 프로그램 또는 비즈니스 프로세스가 영향을 받을 수 있습니다. Microsoft Office에서는 고유한 DAV 클라이언트를 사용하므로 이 항목의 영향을 받지 않습니다.
  
Windows Server 2003 SP1에는 **HKEY\_LOCAL\_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\WebClient\\**  
**Parameters\\UseBasicAuth** 하위 키가 새롭게 도입되었습니다. 이 키의 값을 1로 구성하면 컴퓨터의 WebDAV 리디렉터는 기본 인증만을 지원하는 웹 서버와도 통신할 수 있습니다.
  
##### 보안 문제
  
공격자는 기본 인증을 사용하는 웹 서버를 설정한 다음 사용자를 속여 해당 서버에 접속하도록 함으로써 사용자의 자격 증명을 캡처할 수 있습니다.
  
##### 대책
  
기본적으로 Windows Server 2003 WebDAV 리디렉터는 기본 인증을 사용하지 않으므로 이러한 보안 문제가 효과적으로 차단됩니다.
  
##### 잠재적 영향
  
웹 서버에서 기본 인증만을 지원하는 경우 기본 제공되는 WebDAV 리디렉터를 사용하여 웹 리소스에 액세스하는 응용 프로그램에 오류가 발생합니다. 이 문제를 해결하려면 웹 서버에서 보다 안전한 인증 방법을 지원하도록 구성하거나 **UseBasicAuth** 값을 사용하면 됩니다. 그러나 이보다 권장되는 메커니즘은 웹 서버를 다시 구성하는 것입니다. 그러면 사용자의 자격 증명이 노출되지 않습니다.
  
#### DisableBasicOverClearChannel
  
WebDAV 리디렉터는 원격 파일 시스템 스택의 일부분입니다. 사용자가 원격 컴퓨터에서 URL을 열려고 시도할 때 원격 서버가 기본 인증만을 지원하면 해당 사용자의 자격 증명이 노출될 수 있습니다. 그러면 공격자는 사용자에게 스푸핑 공격을 수행하여 DAV를 통한 자격 증명을 요청하며 기본 인증을 사용하는 웹 사이트로 이동하도록 합니다. 사용자가 이에 응답하는 경우 자격 증명이 악의적인 호스트에 노출됩니다.
  
**UseBasicAuth** 레지스트리 키는 기본 인증을 WebDAV 요청에 사용할 수 있는지 여부를 제어합니다. **HKEY\_LOCAL\_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\WebClient\\**  
**Parameters\\ DisableBasicOverClearChannel** 값을 1로 구성하면 다른 웹 리소스에 대한 기본 인증 사용이 차단됩니다.
  
##### 보안 문제
  
공격자는 기본 인증을 사용하는 웹 서버를 설정한 다음 사용자를 속여 해당 서버에 접속하도록 함으로써 사용자의 자격 증명을 캡처할 수 있습니다.
  
##### 대책
  
클라이언트 컴퓨터에서 **DisableBasicOverClearChannel** 값을 1로 구성하여 기본 인증을 통해 HTTP 서버에 연결할 수 있는 기능을 제한합니다.
  
##### 잠재적 영향
  
라우터, 인쇄 서버, 복사기 등 HTTP 액세스를 제공하는 대부분의 임베디드 장치는 일부 비즈니스 응용 프로그램과 마찬가지로 기본 인증만을 지원합니다. **DisableBasicOverClearChannel**을 1로 구성하면 클라이언트 컴퓨터에서 이러한 장치나 응용 프로그램을 인증할 수 없습니다.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
### 추가 정보
  
다음 링크에서는 이 장에서 설명하는 일부 항목에 대한 자세한 내용을 확인할 수 있습니다.
  
-   DLL이 Windows에서 로드되는 방식 및 SafeDllSearchMode 항목의 영향을 받는 방식에 대한 자세한 내용은 [http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/base/dynamic-link\_library\_search\_order.asp (영문)](http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/base/dynamic-link_library_search_order.asp)의 "[Dynamic-Link Library Search Order (영문)](http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/base/dynamic-link_library_search_order.asp)"(동적 연결 라이브러리 검색 순서)를 참조하십시오.
  
-   Microsoft의 I/O 장치 드라이버를 사용할 수 없도록 레지스트리 항목을 구성하는 방법에 대한 자세한 내용은 Microsoft 기술 자료 문서 "[HOWTO: Use Group Policy to disable USB, CD-ROM, Floppy Disk and LS-120 drivers](http://support.microsoft.com/default.aspx?kbid=555324)"(HOWTO: 그룹 정책을 사용하여 USB, CD-ROM, 플로피 디스크 및 LS-120 드라이버를 사용할 수 없도록 설정)(<http://support.microsoft.com/default.aspx?kbid=555324>)를 참조하십시오.
  
-   보안 템플릿 작성, 편집 및 처리의 기본이 되는 아키텍처에 대한 자세한 내용은 [http://www.microsoft.com/technet/prodtechnol/windowsserver2003/library/TechRef/f546e58e-8473-4985-a05d-0b038dea4a9f.mspx](http://www.microsoft.com/technet/prodtechnol/windowsserver2003/library/techref/f546e58e-8473-4985-a05d-0b038dea4a9f.mspx)의 "[How Security Settings Extension Works (영문)](http://www.microsoft.com/technet/prodtechnol/windowsserver2003/library/techref/f546e58e-8473-4985-a05d-0b038dea4a9f.mspx)"(보안 설정 확장 작동 방식)를 참조하십시오. 이 문서에는 그룹 정책 저장소와 우선 순위에 대한 자세한 내용 및 특정 그룹 정책이 더 이상 컴퓨터에 적용되지 않을 때도 계속해서 적용되는 일부 설정(일반적으로는 '기록(tattooing)'이라고 함)에 대한 자세한 내용이 포함되어 있습니다.
  
-   보안 구성 편집기 사용자 인터페이스를 사용자 지정하는 방법에 대한 자세한 내용은 [http://support.microsoft.com/?scid=214752](http://support.microsoft.com/?id=214752)의 Microsoft 기술 자료 문서 "[사용자 지정 레지스트리 설정을 보안 구성 편집기에 추가하는 방법](http://support.microsoft.com/?id=214752)"을 참조하십시오.
  
-   일반적인 공격 유형에 대한 자세한 내용은 Windows 2000 Server Resource Kit에서 발췌하였으며 [http://www.microsoft.com/resources/documentation/Windows/2000/server/reskit/en-us/cnet/cndb\_ips\_ddui.asp (영문)](http://www.microsoft.com/resources/documentation/windows/2000/server/reskit/en-us/cnet/cnbd_trb_gdhe.asp)에서 온라인으로 확인할 수 있는 "[Common Types of Network Attacks (영문)](http://www.microsoft.com/resources/documentation/windows/2000/server/reskit/en-us/cnet/cnbd_trb_gdhe.asp)"(일반 네트워크 공격 유형)를 참조하십시오.
  
-   Windows Server 2003 TCP/IP 스택을 강화하는 방법에 대한 자세한 내용은 [http://support.microsoft.com/?scid=324270](http://support.microsoft.com/?id=324270)의 Microsoft 기술 자료 문서 "[HOWTO: Windows 2003에서 서비스 거부 공격에 대비한 TCP/IP 스택 강화](http://support.microsoft.com/?id=324270)"를 참조하십시오.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
**다운로드**
  
[위협 및 대책 설명서 받기 (영문)](http://go.microsoft.com/fwlink/?linkid=15160)
  
**업데이트 알림**
  
[등록을 통한 업데이트 및 새 릴리스 확인 (영문)](http://go.microsoft.com/fwlink/?linkid=54982)
  
**사용자 의견**
  
[의견 또는 제안 보내기](mailto:secwish@microsoft.com?subject=threats%20and%20countermeasures%20guide)
  
[](#mainsection)[페이지 맨 위로](#mainsection)

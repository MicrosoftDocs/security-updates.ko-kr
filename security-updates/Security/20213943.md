---
TOCTitle: SUS를 사용하여 패치 관리를 수행하는 방법
Title: SUS를 사용하여 패치 관리를 수행하는 방법
ms:assetid: 'f6e2cd08-58c7-485d-b187-d5f97d1b4cc8'
ms:contentKeyID: 20213943
ms:mtpsurl: 'https://technet.microsoft.com/ko-kr/library/Cc723499(v=TechNet.10)'
---

Description
===========

##### 이 페이지에서

[](#xsltsection121121120120)[목적](#xsltsection121121120120)  
[](#xsltsection122121120120)[적용 대상](#xsltsection122121120120)  
[](#xsltsection123121120120)[모듈 사용법](#xsltsection123121120120)  
[](#xsltsection124121120120)[요약](#xsltsection124121120120)  
[](#xsltsection125121120120)[시작하기 전에](#xsltsection125121120120)  
[](#xsltsection126121120120)[알아 둘 사항](#xsltsection126121120120)  
[](#xsltsection127121120120)[평가 단계 - 업데이트 검색](#xsltsection127121120120)  
[](#xsltsection128121120120)[평가 단계 - 작업 환경의 기준선 설정](#xsltsection128121120120)  
[](#xsltsection129121120120)[평가 단계 - SUS 인프라 디자인](#xsltsection129121120120)  
[](#xsltsection130121120120)[확인 단계 - 알림 받기](#xsltsection130121120120)  
[](#xsltsection131121120120)[확인 단계 - 알림 처리](#xsltsection131121120120)  
[](#xsltsection132121120120)[확인 단계 - 보안 업데이트의 안정성 보장](#xsltsection132121120120)  
[](#xsltsection133121120120)[평가 및 계획 단계 - 업데이트 예약](#xsltsection133121120120)  
[](#xsltsection134121120120)[평가 및 계획 단계 - 응급 변경 요청 배포](#xsltsection134121120120)  
[](#xsltsection135121120120)[평가 및 계획 단계 - 릴리스 빌드](#xsltsection135121120120)  
[](#xsltsection136121120120)[배포 단계 - 롤아웃 일정 전송](#xsltsection136121120120)  
[](#xsltsection137121120120)[배포 단계 - SUS 서버의 업데이트 준비](#xsltsection137121120120)  
[](#xsltsection138121120120)[배포 단계 - 클라이언트 컴퓨터에 소프트웨어 업데이트 보급 알림](#xsltsection138121120120)  
[](#xsltsection139121120120)[배포 단계 - 배포 진행 상태 모니터링 및 보고](#xsltsection139121120120)  
[](#xsltsection140121120120)[배포 단계 - 실패한 배포 처리](#xsltsection140121120120)

목적
----

이 모듈을 사용하여 다음을 수행할 수 있습니다.

-   SUS와 MBSA를 사용하여 패치 관리 프로세스의 네 단계를 모두 구현합니다.

적용 대상
---------

이 모듈은 다음과 같은 제품 및 기술에 적용됩니다.

-   Microsoft Software Update Services(SUS) 1.0 서비스 팩 1
-   Microsoft Baseline Security Analyzer(MBSA) 버전 1.1.1

[](#mainsection)[페이지 위쪽](#mainsection)

모듈 사용법
-----------

이 모듈에서는 SUS와 MBSA를 사용하여 4단계 패치 관리 프로세스를 구현하는 방법을 자세히 설명합니다.
이 모듈을 최대한 활용하려면 다음을 수행해야 합니다.

-   "패치 관리 프로세스" 모듈을 읽어 보십시오. 이 모듈에는 패치 관리 프로세스의 네 단계 각각에 대한 개요와 Microsoft Windows 운영 체제 환경에서 패치 관리를 지원할 수 있는 도구에 대한 소개가 있습니다.
-   4단계 패치 관리 프로세스에 대한 자세한 설명이 나오는 다음 네 개의 모듈을 읽어 보십시오.
-   "패치 관리 1단계 - 평가" 모듈을 읽어 보십시오.
-   "패치 관리 2단계 - 확인" 모듈을 읽어 보십시오.
-   "패치 관리 3단계 - 평가 및 계획" 모듈을 읽어 보십시오.
-   "패치 관리 4단계 - 배포" 모듈을 읽어 보십시오.
-   <http://www.microsoft.com/korea/windowsserversystem/sus/default.asp>의 SUS 사이트에서 다운로드할 수 있는 "Software Update Services Deployment White Paper"를 읽어 보십시오.
-   <http://www.microsoft.com/korea/technet/security/tools/tools/mbsahome.asp>에서 "Microsoft Baseline Security Analyzer" 소개를 읽어 보십시오.

[](#mainsection)[페이지 위쪽](#mainsection)

요약
----

이 모듈에서는 SUS와 MBSA를 사용한 엔터프라이즈 패치 관리에 대해 설명합니다. 이 모듈에 나오는 설명과 정보는 Microsoft에서 권장하는 4단계 패치 관리 프로세스를 구현하는 방법을 보여 줍니다.

[](#mainsection)[페이지 위쪽](#mainsection)

시작하기 전에
-------------

이 모듈을 사용하려면 먼저 다음과 같은 준비 단계를 수행해야 합니다.

-   **MBSA 다운로드**

    MBSA 홈 페이지(<http://www.microsoft.com/korea/technet/security/tools/tools/mbsahome.asp>)에서 MBSA를 다운로드합니다.

-   **최신 MBSA XML 파일 다운로드**

    사용 중인 컴퓨터에서 인터넷 액세스가 가능하면 필요할 경우 최신 보안 XML 파일이 자동으로 다운로드됩니다. 그러나 컴퓨터에서 인터넷 액세스가 불가능한 경우에는 [http://download.microsoft.com/download/xml/security/1.0/NT5/EN-US/mssecure.cab](http://download.microsoft.com/download/xml/security/1.0/nt5/en-us/mssecure.cab)에서 서명된 .cab 파일을 사용하여 최신 XML 파일을 다운로드해야 합니다.

    .cab 파일의 서명은 수정되지 않았음을 보장하기 위해 이루어지는 것입니다. 이 파일의 압축을 풀어 MBSA가 저장되어 있는 폴더에 저장해야 합니다.

    **참고** 최신 XML 파일을 다운로드하지 않은 상태로 보려면 <http://www.microsoft.com/technet/security/search/mssecure.xml> ![](images/Cc723499.tous(ko-kr,TechNet.10).gif)을 사용하십시오.

-   **MBSA 설치**

    Mbsasetup.msi를 사용하여 MBSA를 설치할 수 있습니다. 기본 설치 디렉터리는 \\Program Files\\Microsoft Baseline Security Analyzer\\입니다.

    **참고** 이 디렉터리에서 명령을 실행해야 합니다. MBSA가 사용자를 대신하여 환경 변수를 만들어 주지 않습니다.

-   **SUS 1.0 SP1 다운로드**

    [https://www.microsoft.com/download/details.aspx?FamilyId=A7AA96E4-6E41-4F54-972C-AE66A4E4BF6C&displaylang=en](https://www.microsoft.com/download/details.aspx?familyid=a7aa96e4-6e41-4f54-972c-ae66a4e4bf6c&displaylang=en)  ![](images/Cc723499.tous(ko-kr,TechNet.10).gif)에서 SUS 1.0 SP1을 다운로드할 수 있습니다.

-   **SUS 1.0 서비스 팩 1 설치**

    SUS10SP1.exe를 사용하여 설치합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

알아 둘 사항
------------

이 모듈을 사용하는 경우에는 다음 사항에 유의해야 합니다.

-   GUI(Mbsa.exe)를 사용하거나 명령줄(Mbsacli.exe)에서 MBSA를 작동할 수 있습니다.
-   MBSA는 포트 138과 139를 사용하여 검색을 수행합니다.
-   사용자가 검색하는 컴퓨터에 대한 관리자 권한이 MBSA에 필요합니다. 검색을 실행할 사용자 이름을 지정하는 데는 **/u**(사용자 이름)와 **/p**(암호) 옵션을 사용할 수 있습니다. 사용자 이름과 암호를 명령 파일이나 스크립트 같은 텍스트 파일에 저장하지 마십시오.
-   MBSA에는 다음 소프트웨어가 필요합니다.
    -   Microsoft Windows XP, Microsoft Windows 2000 또는 Microsoft Windows NT 4.0 SP4 이상 운영 체제(모든 사용자에게 동일한 폴더 공유 권한이 지정된 Windows XP 컴퓨터의 경우만 로컬 검색)
    -   IIS(인터넷 정보 서비스) 4.0, 5.0(IIS 보안 문제 검사에 필요)
    -   Microsoft SQL Server™ 7.0, 2000(SQL 보안 문제 검사에 필요)
    -   Microsoft Office 2000, XP(Office 보안 문제 검사에 필요)
-   MBSA의 경우 다음 서비스를 설치 및 사용해야 합니다.
    -   서버 서비스
    -   원격 레지스트리 서비스
    -   파일 및 인쇄 공유
-   SUS는 포트 80에서만 작동합니다. 클라이언트의 자동 업데이트 구성 요소만이 해당 포트에서 SUS 서버와 통신할 수 있습니다.
-   SUS 1.0 SP1은 Windows 2000 Server 서비스 팩 2 이상에서 실행됩니다. 서버에서 IIS를 사용해야 합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

평가 단계 - 업데이트 검색
-------------------------

SUS를 사용하여 소프트웨어 업데이트를 프로덕션 환경에 배포하려면 먼저 감사를 수행해야 합니다. 배경 정보를 보려면 "패치 관리 1단계 - 평가 모듈의 "기존 컴퓨터 자산 검색/인벤토리” 섹션을 참조하십시오.

<li>
Microsoft Windows Server™ 2003 Windows XPWindows 2000Windows NT 4.0
</li>
또한 컴퓨터 구성이 일반적인 최적의 보안 방식(예: 강력한 암호)을 따르는지 여부도 보고합니다.

뿐만 아니라 MBSA에서는 다음 응용 프로그램에 대한 보안 업데이트 누락을 보고합니다.

-   Microsoft Internet Information Server 4.0
-   Microsoft Internet Information Services 5.0 및 6.0
-   Microsoft SQL Server 7.0 및 SQL Server 2000(Microsoft SQL Server Desktop Engine(MSDE) 1.0 및 MSDE 2000 포함)
-   Microsoft Exchange Server 5.5 및 Exchange Server 2000(Exchange 관리 도구 포함)
-   Microsoft Internet Explorer 5.01 이상
-   Microsoft Windows Media Player 6.4 이상

MBSA에서는 다음 응용 프로그램에 대해 잘못 구성된 설정을 확인하기도 합니다.

-   Internet Information Server 4.0
-   Internet Information Services 5.0 및 6.0
-   Internet Explorer 5.01 이상
-   SQL Server 7.0 및 SQL Server 2000(MSDE 1.0 및 MSDE 2000 포함)
-   Office 2000 및 Office XP
-   **MBSA를 사용하여 업데이트를 검색하려면 다음을 수행합니다.**

    1.  MBSA가 설치된 워크스테이션에서 도메인 관리자로 로그온하여 MBSA GUI를 실행합니다.
    2.  **Pick multiple computers to scan**을 클릭하고 검색할 도메인 이름 또는 IP(인터넷 프로토콜) 주소 범위를 입력합니다. 전체 도메인을 검색하는 경우에 입력하는 이름은 DNS 내에서 사용하는 FQDN(정규화된 도메인 이름)이 아니라 도메인의 NetBIOS 이름이어야 합니다.
    3.  **Use SUS Server**를 선택하고 **http://**server를 입력합니다. 여기서 server는 그림 1에 나오는 것과 같이 필요한 SUS 서버 이름입니다.

        ![](images/Cc723499.SGFG19801(ko-kr,TechNet.10).jpg)

        그림 1
        도메인 또는 IP 주소 범위의 컴퓨터 검색

    4.  **Start scan**을 클릭하고 결과를 기다립니다.
    5.  **Pick a security report to view**를 클릭하고 보고된 내용을 볼 해당 컴퓨터를 클릭합니다.
    6.  자세한 내용을 보려면 **Results details**를 클릭합니다.

**참고**: MBSA에서는 <http://support.microsoft.com/default.aspx?scid=kb;ko-kr;306460>의 Microsoft 기술 자료 문서 306460 "Hfnetchk Returns Note Messages for Installed Patches"에 나열된 운영 체제와 응용 프로그램의 소프트웨어 업데이트가 있는지 여부만 검색합니다.

검색하도록 프로그래밍되어 있는 소프트웨어 응용 프로그램이 사용자 IT 인프라에 실제로 설치되어 있는 것은 물론 그러한 응용 프로그램의 보안을 위해 적용해야 하는 보안 업데이트가 MBSA의 처리 결과로 확인됩니다.

그림 2는 IIS 5.0이 Windows 2000 구성원 서버에 설치되어 있는 예를 보여 줍니다.![](images/Cc723499.SGFG19802(ko-kr,TechNet.10).jpg)

그림 2
MBSA 검색 결과

GUI 버전의 MBSA는 파일 버전과 레지스트리 키 정보를 검색합니다. 검색된 각 보안 업데이트에 대해 파일 체크섬 버전, 파일 버전 및 레지스트리 키 정보를 확인하는 MBSA(Mbsacli.exe) 명령줄 버전을 사용하면 프로덕션 환경에 대한 보다 포괄적인 검색을 수행할 수 있습니다.

MBSA 명령줄 버전 사용 옵션에는 다음 두 가지가 있습니다.

-   **/hf** 스위치를 사용하여 보안 업데이트 검색만 수행

-   **/hf** 스위치를 사용하지 않고 전체 컴퓨터 검색 수행

**/hf** 옵션과 함께 Mbsacli.exe를 사용하면 명령줄에 표시하거나 출력 파일로 보낼 수 있는 검색 결과가 만들어집니다. 반면에 **/hf** 스위치 없이 Mbsacli.exe를 사용하면 나중에 MBSA GUI에서 볼 수 있는 XML 검색 보고서가 만들어집니다. Mbsacli.exe /hf의 실행 결과를 자세히 분석할 수 있도록 Microsoft Excel 또는 텍스트 파일로 가져올 수 있습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

평가 단계 - 작업 환경의 기준선 설정
-----------------------------------

MBSA 명령줄 유틸리티(Mbsacli.exe /hf)의 실행 결과를 Microsoft Excel의 **피벗 테이블 및 피벗 차트 보고서** 기능과 함께 사용하여 프로덕션 환경에 배포되어 있는 항목을 확인하고 적절한 기준선을 설정할 수 있습니다. 배경 정보를 보려면 "패치 관리 1단계 - 평가 모듈의 "기존 컴퓨터 자산 검색/인벤토리" 섹션을 참조하십시오.

**참고**: SUS 클라이언트는 사용할 수 있게 된(그리고 승인된) 업데이트를 SUS 서버에서 자동으로 적용합니다. 따라서 이러한 업데이트는 빌드 이미지에 포함하지 않아도 되지만 새 컴퓨터가 도메인에 가입할 때 적용될 수 있습니다. 그러나 실제로 SUS를 통해 사용할 수 있게 된 업데이트 중 많은 경우가 올바른 컴퓨터 작동에 중요한 역할을 하거나 보안 문제에 노출될 가능성을 줄여 줍니다. 즉, 관리자는 새 보안 업데이트를 기본 빌드에 추가하여 새로운 컴퓨터가 프로덕션 환경에 배포되는 시점부터 보호되도록 해야 합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

평가 단계 - SUS 인프라 디자인
-----------------------------

소프트웨어 배포 인프라를 평가하는 것도 효과적인 패치 관리 프로세스의 중요한 부분입니다. 배경 정보를 보려면 "패치 관리 1단계 - 평가" 모듈의 “기존 소프트웨어 배포 인프라 평가” 섹션을 참조하십시오.

그림 3에 나오는 것처럼 오직 하나의 SUS 상위 서버만 Microsoft 공용 Windows Update 서버로부터 소프트웨어 업데이트를 자동으로 다운로드하도록 구성해야 합니다. 테스트가 끝나고 배포할 수 있도록 승인된 업데이트만 상위 서버에서 승인되어야 합니다. ![](images/Cc723499.SGFG19803(ko-kr,TechNet.10).jpg)

그림 3
권장되는 SUS 토폴로지

SUS 상위 서버는 미리 구성된 동기화 일정을 사용하여 공용 Microsoft Windows Update 서버로부터 중요 업데이트와 보안 업데이트를 매일 다운로드합니다. 방화벽을 통해 아웃바운드 TCP 포트 80이 열려 있어야 합니다.

SUS 테스트 서버는 SUS 상위 서버로부터 업데이트를 다운로드하도록 구성됩니다. 또한 이러한 다운로드는 SUS 상위 서버가 공용 Microsoft Windows Update 서버와 동기화된 후 동기화 시간이 한 시간으로 설정된 상태에서 매일 이루어집니다. 한 시간은 SUS 상위 서버 동기화 일정에 사용할 수 있는 가장 가까운 시간입니다. 패키지가 SUS 테스트 서버에 되도록 빨리 나타나서 승인과 테스트할 준비가 되도록 하기 위한 것입니다.

SUS 테스트 팀은 SUS 테스트 서버에 대한 새 업데이트를 승인해야 합니다. 승인된 후에는 모든 SUS 테스트 클라이언트에서 업데이트를 바로 사용할 수 있게 됩니다. 모든 SUS 테스트 클라이언트가 SUS 테스트 서버를 동시에 폴링하지 않도록 하기 위해 22시간마다 서버를 폴링합니다. 이 경우 무작위 추출을 위해 최대 20퍼센트까지 감축이 이루어집니다. 특정 업데이트에 대한 테스트가 성공적인 것으로 판단이 되면 SUS 관리자가 SUS 상위 서버에서 해당 업데이트를 승인해야 합니다.

업데이트가 SUS 상위 서버에서 승인되면 해당 서버에 보고하는 SUS 클라이언트가 기본적으로 22시간 내에 다운로드를 시작합니다. 지정한 일정에 따라 또는 로컬 관리자가 수행할 경우 설치가 시작됩니다. SUS 하위 서버에 보고하는 클라이언트 컴퓨터는 하위 서버에 승인이 이루어지는 시점부터 22시간 내에 업데이트를 다운로드하기 시작합니다.

SUS 하위 서버는 상위 서버와 매일 자동으로 동기화되도록 구성됩니다. 하위 서버는 SUS 상위 서버에서 승인된 항목은 물론 모든 콘텐트를 동기화하고 다운로드합니다. 동기화된 후 SUS 상위 서버의 승인된 모든 업데이트는 SUS 하위 서버로 미러되며 그러한 SUS 하위 서버로부터 중요 업데이트와 보안 업데이트를 폴링하도록 구성된 프로덕션 SUS 클라이언트가 이 업데이트를 바로 사용할 수 있게 됩니다.

그림 3에 나오는 토폴로지 디자인에서 관리자는 SUS 상위 서버의 업데이트가 모든 프로덕션 SUS 클라이언트에 사용될 수 있도록 승인하기만 하면 됩니다. 모든 SUS 서버에서 동기화를 수동으로 시작하는 것은 언제나 가능합니다.

Microsof에서는 소프트웨어 업데이트에 대한 검색 조건(메타데이터)을 업데이트하는 경우가 가끔 있는데, 이 경우 소프트웨어 업데이트가 “업데이트됨” 상태로 나타나게 됩니다. 소프트웨어 업데이트가 다시 나온 경우도 가끔 있을 수 있는데 이 때도 인터페이스에 "업데이트됨" 상태로 나타나게 됩니다. 소프트웨어 업데이트가 다시 릴리스되는 경우는 거의 없지만 만약 있을 경우에는 그에 대한 정보가 소프트웨어 업데이트 게시판에 표시됩니다. 원본 업데이트가 SUS GUI에서 이미 승인되었으면 SUS 관리자는 다시 릴리스된 버전의 업데이트에 대한 자동 승인 또는 수동 승인이 가능하도록 SUS 서버를 구성할 수 있습니다.

수정된 업데이트가 테스트 없이 프로덕션 환경으로 자동 릴리스되지 않도록 하기 위해 관리자는 SUS 서버에서 **Do not automatically approve new versions of approved updates. I will manually approve these updates later** 옵션을 선택해야 합니다.

### 동기화 간격

상위 서버는 공용 Microsoft Windows Update 서버에서 일일 동기화 일정으로 업데이트를 가져오도록 구성되어야 합니다. 하지만 관리자는 SUS 서버 관리자 페이지에서 **Synchronize now** 옵션을 직접 선택하여 업데이트를 더욱 자주 요청할 수 있습니다.

다운로드는 네트워크 사용량이 적을 때 이루어지도록 구성되어야 합니다. 일반적으로 그림 4에 나오는 것처럼 하루 한 번이면 충분합니다.![](images/Cc723499.SGFG19804(ko-kr,TechNet.10).jpg)

그림 4
업데이트를 다운로드하도록 SUS 구성

하위 서버는 정해진 간격으로 상위 서버에서 새 업데이트를 자동으로 가져오도록 구성되어야 합니다. 이 간격은 상위 서버가 공용 Microsoft Windows Update 서버에서 업데이트를 가져온 지 최소한 한 시간 후가 되어야 합니다.

관리자가 다음으로 예약된 다운로드가 이루어지기 전에 발생하는 업데이트를 인식할 수 있을 때는 **Synchronize now** 옵션을 사용할 수 있습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

확인 단계 - 알림 받기
---------------------

작업 환경을 평가한 후 그 다음 단계에는 문제 확인과 사용할 수 있는 업데이트에 대한 정보 얻기가 포함됩니다. 배경 정보를 보려면 "패치 관리 2단계 - 확인" 모듈의 "새 소프트웨어 업데이트 검색" 섹션을 참조하십시오.

### Microsoft Security Notification Service

가장 일반적인 소프트웨어 업데이트 알림의 형태는 전자 메일을 통한 알림입니다. 전자 메일 알림을 <http://www.microsoft.com/technet/security/bulletin/notify.asp>의 위해서는 Microsoft Security Notification Service에 가입할 수 있습니다.

### SUS 패치 경고 서비스

SUS 패치 경고 서비스에 등록한 경우에는 일반적으로 그림 5에 나오는 것과 비슷한 전자 메일 메시지를 통해 SUS를 사용하여 배포할 수 있는 새 업데이트에 대한 알림을 받습니다. 이 전자 메일은 공용 Windows Update 서버에서 새 업데이트를 다운로드할 수 있다는 것을 알려 주지만 어떤 업데이트인지는 알려 주지 않습니다.![](images/Cc723499.SGFG19805(ko-kr,TechNet.10).jpg)

그림 5
Microsoft Software Update Services를 통해 사용할 수 있는 새 소프트웨어 업데이트를 관리자에게 알려 주는 전자 메일 메시지의 예

[](#mainsection)[페이지 위쪽](#mainsection)

확인 단계 - 알림 처리
---------------------

알림을 받았으면 어떤 소프트웨어 업데이트를 사용할 수 있는지 확인해야 합니다. 배경 정보를 보려면 "패치 관리 2단계 - 확인" 모듈의 "새 소프트웨어 업데이트 검색" 섹션을 참조하십시오.

SUS에서는 새 전자 메일 업데이트 알림을 받을 때마다 SUS 서버와 공용 Windows Update 서버 사이에 동기화가 이루어지도록 지정해야 합니다. 그림 6에 나오는 것처럼 SUS 서버 관리자 페이지에서 **Synchronize Now** 옵션을 사용하여 지정할 수 있습니다.![](images/Cc723499.SGFG19806(ko-kr,TechNet.10).jpg)

그림 6
SUS 서버가 Microsoft Windows Update 서버와 컨텐트를 동기화하도록 지정

**참고:** SUS 서버 관리자 페이지에 나타나는 업데이트만 SUS를 통해 배포할 수 있습니다.

개별 소프트웨어 업데이트가 프로덕션 환경 내 컴퓨터에 어떤 연관성을 가지고 있는지 확인하려면 관련 보안 게시판이나 기술 자료 문서를 읽어 보아야 합니다. 아래 설명하는 절차에 따라 수행하면 SUS 서버 관리자 페이지에서 이 설명서에 액세스할 수 있습니다.

-   **소프트웨어 업데이트에 대한 세부 정보를 찾으려면 다음을 수행합니다.**

    1.  승인 로그 하이퍼링크를 클릭합니다.
    2.  검사할 특정 업데이트를 찾습니다.
    3.  그림 7에 나오는 것처럼 해당 특정 업데이트에 대해 **Details**를 클릭합니다.![](images/Cc723499.SGFG19807(ko-kr,TechNet.10).jpg)

        그림 7
        SUS 승인 로그

    4.  그림 8에 나오는 것처럼 **Update Details** 대화 상자에서 **Info** 아이콘을 클릭합니다.![](images/Cc723499.SGFG19808(ko-kr,TechNet.10).jpg)

        그림 8
        업데이트에 대한 지원 정보 액세스

**참고:** 관리자가 SUS 서버 관리자 페이지를 통한 승인을 위해 특정 업데이트를 선택하면 이 업데이트가 다른 업데이트에 대한 종속성을 관리자에게 자동으로 알립니다. 특정 업데이트를 승인하면 특정 업데이트가 종속되어 있는 다른 모든 업데이트가 자동으로 승인됩니다. 자동 업데이트 클라이언트는 이러한 업데이트가 올바른 순서로 설치되도록 합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

확인 단계 - 보안 업데이트의 안정성 보장
---------------------------------------

앞에서 설명한 바와 같이 Microsoft에서 공용 Windows Update 서버를 통해 제공하는 모든 보안 업데이트에는 디지털 서명이 되어 있습니다. SUS 서버가 보안 업데이트를 다운로드할 때 각각의 새 업데이트에 대한 서명이 자동으로 확인됩니다. 배경 정보를 보려면 "패치 관리 2단계 - 확인" 모듈의 "소프트웨어 업데이트의 관련성 여부 결정" 섹션을 참조하십시오.

SUS 상위 서버는 새 업데이트를 다운로드하여 임시 파일 확장명(.tmp)으로 저장합니다. 디지털 서명이 제대로 확인되어야만 파일이 원래 파일 확장명(예: .exe)으로 이름이 바뀌어 그림 9에 나오는 것처럼 \\Content\\Cabs 폴더에 놓여집니다.![](images/Cc723499.SGFG19809(ko-kr,TechNet.10).jpg)

그림 9
디지털 서명된 업데이트의 SUS 서버 위치

업데이트의 디지털 서명 검사가 통과되지 않으면 SUS 다운로드 서버의 이벤트 로그에 오류가 기록되며 동기화 로그에는 그림 10에 나오는 것처럼 서명 검사 오류로 인한 업데이트 다운로드 오류가 표시됩니다.![](images/Cc723499.SGFG19810(ko-kr,TechNet.10).jpg)

그림 10
디지털 서명의 유효성 검사 오류

SUS 관리자는 동기화 로그에서 다운로드 오류를 매일 확인해야 합니다. SUS 클라이언트도 업데이트를 공용 Windows Update 서버에서 다운로드하든 SUS 서버에서 다운로드하든 관계 없이 동일한 과정을 수행해야 합니다.

SUS 상위 서버가 조직 내 클라이언트와 SUS 서버에 대한 업데이트 원본 역할을 하므로 SUS 관리자는 바이러스 검색 프로그램이 이 컴퓨터에 서비스로 설치되어 있는지, 들어오고 나가는 모든 파일을 검색하도록 구성되어 있는지를 확인해야 합니다.

### 소프트웨어 업데이트 설치 절차 확인

제거 작업을 테스트하는 것도 중요합니다. 제거 후에는 서버가 예상대로 계속해서 실행되는지 확인하고 이벤트 로그 및 시스템 모니터 카운터를 계속 주시해야 합니다.

소프트웨어 업데이트는 SUS에 의해 자동으로 제거될 수 없으므로 제어판의 **Add or Remove Programs** 를 사용하여 직접 제거해야 합니다. 영향을 받는 컴퓨터가 많을 경우에는 이 작업을 수행하는 스크립트를 개발하는 것이 더 나을 수도 있습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

평가 및 계획 단계 - 업데이트 예약
---------------------------------

변경과 컴퓨터 재시작이 특정 시간(비활성 창)에만 가능한 업무용 컴퓨터를 사용하는 경우에는 소프트웨어 업데이트(및 그에 따른 시스템 재시작) 배포를 이러한 비활성 창에서 예약해야 합니다. 배경 정보를 보려면 "패치 관리 3단계 - 평가 및 계획" 모듈의 “릴리스 계획” 섹션을 참조하십시오.

-   **SUS 환경에서 업데이트를 예약하려면 다음을 수행합니다.**

    1.  **Automatic download and notify for installation** 설정을 사용하여 필요한 업데이트를 다운로드하고 설치는 하지 않도록 GPO(그룹 정책 개체)의 정책 설정을 구성합니다.

    2.  이러한 서버의 이벤트 로그를 모니터링하여 필요한 업데이트가 다운로드되었으며 설치 대기 중임을 확인합니다.

    3.  서버에 로그온하여 설치를 시작하고 필요할 경우 변경 관리자와 동의한 날짜 및 시간에 컴퓨터를 다시 시작할 수 있는 권한을 부여합니다.

워크스테이션에서 새 업데이트 설치 및 그에 따른 컴퓨터 재시작 작업을 정상 업무 시간 이외의 시간으로 예약할 경우에는 **Reschedule Automatic Updates scheduled installations** GPO 설정을 사용하여 예약만 되어 있고 아직 설치되지 않은 컴퓨터에서 자동 업데이트 서비스가 시작될 때 설치가 이루어지도록 일정을 변경하는 것이 중요합니다.

**참고:** 이 GPO 설정을 사용하지 않으면 클라이언트 컴퓨터 전원이 꺼져 있어서 예약된 설치가 이루어지지 않은 경우 이 시점 이후 컴퓨터를 다시 시작하더라도 설치가 수행되지 않습니다. 대신에 SUS 클라이언트 소프트웨어는 다음에 예약된 시작 시간까지 기다렸다가 설치를 다시 시도합니다. 이 경우 예약된 설치 시점까지 컴퓨터가 온라인 상태가 아니면 업데이트가 적용되지 않는 문제가 발생할 수 있습니다.

기본적으로 업데이트 설치 시 컴퓨터를 다시 시작해야 하는 경우 로컬 관리자 권한이 없는 사용자는 컴퓨터가 자동으로 다시 시작되기 전까지 5분 안에 작업을 저장하거나 보호해야 합니다.

-   **자동으로 다시 시작하지 않으려면 다음을 수행합니다.**

    1.  **No auto-restart for scheduled Automatic Updates installations** GPO 설정을 사용하여 다시 시작되는 기능을 제어합니다. 이 GPO 설정을 사용하면 사용자가 로그온되어 있는 상태에서 자동 업데이트가 컴퓨터를 자동으로 다시 시작하는 것이 방지됩니다.

    2.  최종 사용자가 자신의 컴퓨터에 대해 **restart** 권한이 있어야 이 설정이 효과를 갖습니다.

**참고:** 패치를 적용할 제품이 Windows Installer를 사용하여 배포된 경우에는 Windows Installer에서 원본 설치 파일에 액세스해야 할 수도 있습니다. 소프트웨어 업데이트의 무인 설치를 수행하는 경우 이 파일은 제품이 원래 설치될 때 있었던 위치와 동일한 위치에 있어야 합니다. 제품이 실제 미디어(예: CD 드라이브)로 설치되었으면 Windows Installer에서 현재 삽입된 CD에서 원본 파일을 찾습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

평가 및 계획 단계 - 응급 변경 요청 배포
---------------------------------------

응급 변경 요청에는 특정 절차와 고려가 필요합니다. 배경 정보를 보려면 "패치 관리 3단계 - 평가 및 계획" 모듈의 “릴리스 계획” 섹션을 참조하십시오.

변경 요청에 소프트웨어 업데이트가 업무상 중요한 것으로 표시되는 경우 다음을 수행해야 합니다.

-   그룹 정책을 사용하여 클라이언트가 정기적으로 예약된 유지 관리 창보다 먼저 소프트웨어 업데이트를 설치하도록 합니다.

-   SUS 서버 관리자 페이지의 **Synchronize now** 옵션을 사용하여 업데이트를 다운로드한 SUS 서버와 모든 하위 서버 간에 동기화를 강제로 수행하면 SUS 하위 서버가 네트워크 사용량이 적을 때 업데이트를 동기화하는 기본적인 동기화 일정을 무시할 수 있습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

평가 및 계획 단계 - 릴리스 빌드
-------------------------------

업데이트를 배포하려면 업데이트 실행 파일과 배포를 먼저 준비해야 할 수도 있습니다. 배경 정보를 보려면 "패치 관리 3단계 - 평가 및 계획" 모듈의 “릴리스 빌드” 섹션을 참조하십시오.

SUS에 의해 배포되는 업데이트는 공용 Windows Update 서버에서 직접 다운로드되며 .exe 파일 형식의 패키지로 이미 작성되어 있으므로 배포용으로 다시 패키지를 작성하기 위한 추가 작업이 필요 없습니다.

### SUS를 사용하여 시험 롤아웃 수행

배경 정보를 보려면 "패치 관리 3단계 - 평가 및 계획" 모듈의 “수락 테스트” 섹션을 참조하십시오.

-   **시험 롤아웃을 수행하려면 다음을 수행합니다.**

    1.  SUS 시험 서버의 업데이트만 승인합니다. 다른 SUS 서버의 경우는 승인하지 않습니다.

    2.  새 사이트 수준 GPO(SUS 시험 GPO라고 함)를 만들고 이 GPO가 적용되는 컴퓨터가 업데이트용 SUS 시험 서버를 참조하도록 정책 설정을 구성합니다.

    3.  SUS 시험 클라이언트만이 이 GPO에 대해 "정책 설정 읽기 및 적용" 권한을 갖도록 보안 필터링을 적용합니다.

    4.  SUS 시험 GPO를 사이트에 지정된 GPO 목록 맨 위에 배치하여 우선권을 갖도록 합니다. 정책이 적용되도록 하려면 **적용**(Windows 2003) 또는 **No Override**(Windows 2000) 옵션을 사용하는지 확인합니다.

    5.  업데이트가 프로덕션 환경에 제대로 배포되었으면 관리자는 SUS 시험 GPO를 삭제해야 합니다. 시험에 참여한 클라이언트는 그룹 정책을 새로 고친 경우 새 업데이트를 위한 프로덕션 SUS 서버로 돌아가야 합니다.

시험 결과가 성공적이지 않으면 SUS 시험 서버에서 “승인을 취소”하고 이미 설치된 클라이언트에서 이것을 제거해야 합니다. 관리자는 가능한 경우 언제든지 제어판의 **프로그램 추가/제거**를 사용하여 이 작업을 수행해야 합니다. 수동으로 제거할 수 없는 업데이트에 대해서는 Windows XP의 경우 시스템 복원 유틸리티, Windows Server 2003과 Windows 2000의 경우 백업 및 복원 도구(또는 사용 중인 그 밖의 복구 기술)를 사용하여 클라이언트를 업데이트 설치 전 마지막으로 정상적이었던 상태로 되돌립니다.

[](#mainsection)[페이지 위쪽](#mainsection)

배포 단계 - 롤아웃 일정 전송
----------------------------

업데이트를 안전하고 성공적으로 배포하려면 업데이트 설치 과정을 돕기 위해 사용자가 수행해야 할 특정 작업이 있을 수도 있기 때문에 사용자에게 업데이트 배포를 알려야 합니다. 배경 정보를 보려면 "패치 관리 4단계 - 배포" 모듈의 “배포 준비” 섹션을 참조하십시오.

-   **롤아웃 일정을 확실하게 전송하려면 다음을 수행합니다.**

    1.  업데이트를 경고하고 설치 방법에 대한 정보를 제공하는 쉽고도 확실한 내용의 전자 메일 메시지를 사용자와 관리자에게 보냅니다. 중요한 업무 시간 외의 데스크톱을 목표로 하는 업데이트의 경우는 전자 메일 메시지를 통해 최종 사용자에게 지정한 날 밤새 컴퓨터를 사용하지 말도록 전해야 합니다.

    2.  소프트웨어 업데이트 설치를 위해 취해야 할 작업을 사용자와 관리자에게 미리 알려 주기 위해 이 메일에는 추후 확인 플래그를 지정해야 합니다. 이러한 작업은 특정 SUS 클라이언트에 대해 적용된 다운로드 및 설치 정책 설정에 따라 달라집니다.

        -   다운로드 및 설치할 때 알림
            로컬 관리자 권한으로 로그온한 사용자는 클라이언트 컴퓨터에 적용되는 새로 승인된 업데이트에 대한 알림을 받으며 작업 표시줄에 **New update available for download notification**이 나타날 때마다 업데이트를 다운로드하는 옵션을 선택해야 합니다. 설치를 완료하려면 다운로드 완료 후 **New update available for installation notification**이 나타날 때 사용자가 소프트웨어 업데이트를 설치하는 옵션을 선택해야 합니다.
            현재 검색된 업데이트가 설치되지 않은 이상, 자동 업데이트 클라이언트는 더 이상의 업데이트를 위해 SUS 서버에 연결하지 않습니다.

        -   자동으로 다운로드 및 설치할 때 알림
            클라이언트 컴퓨터에 적용되는 새로 승인된 업데이트는 자동 업데이트 클라이언트에 의해 자동으로 다운로드됩니다. 소프트웨어 업데이트를 설치하려면 **New software update available for installation notification**이 나타날 때 로컬 관리자 권한으로 로그온한 사용자가 설치할 옵션을 선택해야 합니다.
            현재 검색된 업데이트가 설치되지 않은 이상, 자동 업데이트 클라이언트는 더 이상의 업데이트를 위해 SUS 서버에 연결하지 않습니다.

        -   자동으로 다운로드하고 설치를 예약
            이 옵션을 선택하는 경우 로컬 관리자 권한으로 로그온한 사용자는 새 업데이트를 사용할 수 있다는 알림을 받고 예약된 설치 시간 전에 업데이트를 설치하거나 설치가 완료된 후 다시 시작을 지연(필요할 경우)시킬 수 있는 옵션이 제공됩니다.
            로컬 관리자 권한이 없는 사용자는 이 옵션을 사용할 수 없으므로 예약된 시간에 백그라운드로 업데이트가 설치됩니다. 이러한 사용자는 **예약된 자동 업데이트 설치에 자동 다시 시작 사용 안 함** 정책 설정을 사용하도록 설정한 경우에만 컴퓨터 다시 시작을 지연시키는 옵션을 사용할 수 있습니다. 이 설정을 사용하지 않는 경우에는 자동 업데이트 클라이언트가 사용자에게 5분 내에 시스템이 종료된다는 것을 알리고 이 기간이 지나면 시스템을 자동으로 다시 시작합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

배포 단계 - SUS 서버의 업데이트 준비
------------------------------------

클라이언트에서 새 업데이트를 설치하려면 클라이언트가 해당 로컬 SUS 서버에 있어야 합니다. 배경 정보를 보려면 "패치 관리 4단계 - 배포" 모듈의 “배포 준비” 섹션을 참조하십시오. 정상적인 업무 운영에 영향을 미치지 않도록 하려면 네트워크 사용량이 적을 때 업데이트(및 승인된 업데이트 목록)를 동기화하도록 SUS 하위 사이트를 예약해야 합니다. 하위 서버에서 특정 업데이트를 사용할 수 있는지 여부를 확인하려면 각 해당 서버의 동기화 로그를 확인해야 합니다. 그림 11은 이 과정을 보여 줍니다.![](images/Cc723499.SGFG19811(ko-kr,TechNet.10).jpg)

그림 11
하위 서버에서 업데이트를 사용할 수 있는지 확인

업데이트가 SUS 하위 서버에 아직 없으면 수동 동기화를 수행하여 업데이트를 다운로드한 다음 동기화 로그를 검토하여 업데이트를 받았는지 확인합니다.

**참고:** 주변 네트워크에 SUS 서버가 있는 경우 SUS 다운로드 서버의 SUS 관련 콘텐트를 오프라인 미디어에 복사하고 주변 네트워크에 전송한 다음 로컬 SUS 서버가 원본 파일을 받아 오도록 구성되는 서버에 복사해야 합니다.

-   **단계적 롤아웃을 통한 업데이트를 릴리스하려면 다음을 수행합니다.**

    1.  SUS 상위 서버로부터 업데이트 “승인” 목록의 동기화를 사용하지 않습니다. 하위 서버에서 업데이트 내에 있는 파일의 복사본을 갖게 되더라도 승인 목록이 동기화되지 않았으므로 이 복사본이 클라이언트에 배포되지 않습니다.

    2.  다른 사이트로 롤아웃을 시작하려면 승인 목록의 동기화를 사용해야 합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

배포 단계 - 클라이언트 컴퓨터에 소프트웨어 업데이트 보급 알림
-------------------------------------------------------------

소프트웨어 업데이트를 프로덕션 환경에 배포하는 데 필요한 첫 단계는 소프트웨어 업데이트를 클라이언트 컴퓨터에 보급하는 것입니다. 롤아웃을 단계적으로 수행할 수도 있고 모든 클라이언트가 같은 배포 기간 내에 업데이트를 받을 수도 있습니다. 배경 정보를 보려면 "패치 관리 4단계 - 배포" 모듈의 “대상 컴퓨터로 소프트웨어 업데이트 배포” 섹션을 참조하십시오.

### 공개 롤아웃

단계적 롤아웃이 필요하지 않을 경우에는 다음 과정을 수행해야 합니다.

-   **공개 롤아웃을 구현하려면 다음을 수행합니다.**

    1.  SUS 상위 서버의 업데이트를 승인합니다. 이렇게 하면 그림 12에 나오는 것처럼 SUS 상위 서버를 사용하여 업데이트를 구하는 클라이언트가 업데이트를 사용할 수 있게 됩니다. ![](images/Cc723499.SGFG19812(ko-kr,TechNet.10).jpg)

        그림 12
        SUS 상위 서버의 업데이트 승인

    2.  자동 업데이트 클라이언트가 새 업데이트를 사용할 수 있게 되면 로컬 관리자에게 알리도록 구성된 경우 SUS 클라이언트는 다음 검색 주기에서 또는 로컬 관리자가 요청할 때 새로 승인된 업데이트를 다운로드하기 시작합니다.

SUS 클라이언트는 17 - 22시간마다 SUS 서버를 폴링하여 새 업데이트를 찾습니다. 새 업데이트가 승인되었으며 로컬 SUS 서버에서 사용할 수 있는 상태라고 가정하면 해당 업데이트가 자동으로 다운로드되고, 새 업데이트를 사용할 수 있다는 알림이 로그온한 사용자에게 전송됩니다(이 사용자에게 로컬 관리자 권한이 있을 경우). 다운로드가 완료되면 자동 업데이트 클라이언트에 대해 선택한 설치 옵션에 따라 설치가 이루어집니다.

**참고:** 다운로드 및 설치할 때 알림 옵션을 선택한 경우 업데이트가 자동으로 다운로드되지 않습니다. 로그온한 로컬 관리자가 이 다운로드를 요청해야 합니다.

자동 업데이트 설치 옵션은 다음과 같습니다.

-   Scheduled installation:
    로컬 관리자가 이전에 설치하지 않았다면 예약된 설치 시간에 업데이트가 설치됩니다. 설치가 이루어지기 위해서는 예약된 시간에 컴퓨터가 온라인 상태여야 합니다. 그러나 **예약된 자동 업데이트 설치 일정 변경** GPO 설정을 사용하면 예약된 설치를 하지 못한 컴퓨터에서 자동 업데이트 서비스가 다시 시작될 때 설치를 수행할 수 있습니다.

-   Notify for installation:
    로그온한 로컬 관리자가 업데이트 설치 준비가 완료되었다는 알림을 받습니다. 관리자가 업데이트를 바로 설치하거나 좀 더 적당한 시기로 설치를 연기할 수 있습니다. 로컬 관리자 권한이 없는 사용자는 보류 중인 업데이트를 인식하지 못하도록 되어 있습니다.

업데이트 설치 시 컴퓨터를 다시 시작해야 하는 경우 로컬 관리자는 좀 더 적당한 시기가 될 때까지 다시 시작하는 것을 지연시킬 수 있습니다. 다시 시작될 때까지는 업데이트가 더 이상 다운로드되거나 설치되지 않는다는 것을 인식해야 합니다.

예약된 설치 옵션과 **예약된 자동 업데이트 설치에 자동 다시 시작 사용 안 함** GPO 설정을 사용하면 컴퓨터를 다시 시작할 수 있는 권한을 가진 사용자와 로컬 관리자 권한을 가진 사용자에게 설치 후 다시 시작을 수행하라는 메시지가 나타납니다. 원격 데스크톱(예: 터미널 서비스)을 통해 컴퓨터에 대화형으로 로그온된 다른 사용자가 없을 때만 컴퓨터가 다시 시작될 수 있습니다.

SUS 하위 서버는 다음 동기화 시점에 업데이트 승인을 동기화하며 앞에서 설명한 방식으로 클라이언트에서 업데이트를 사용할 수 있게 됩니다.

로컬 관리자 권한을 가진 사용자는 그림 13에 나오는 작업 표시줄을 통해 예약된 설치 시간을 기다리고 있는 모든 업데이트에 대한 알림을 받습니다. 그러면 이 사용자는 바로 설치되도록 하거나 예약된 설치 시간에 자동 설치가 이루어지기를 기다릴 수 있습니다.![](images/Cc723499.SGFG19813(ko-kr,TechNet.10).jpg)

그림 13
로그온한 사용자에게 새 업데이트 알림

이러한 권한이 없는 사용자가 받는 유일한 알림 메시지는 **예약된 자동 업데이트 설치에 자동 다시 시작 사용 안 함** 정책 설정을 사용하는 것으로 가정할 경우 그림 14에 나오는 것처럼 업데이트가 설치되었으며 컴퓨터를 다시 시작해야 한다는 것입니다. ![](images/Cc723499.SGFG19814(ko-kr,TechNet.10).jpg)

그림 14
SUS 클라이언트 자동 다시 시작 사용 안 함

이런 경우가 아니라면 자동 업데이트 클라이언트가 사용자에게 5분 내에 시스템이 종료된다는 것을 알리고 이 기간이 지나면 시스템을 자동으로 다시 시작합니다.

### 단계적 롤아웃

단계적 롤아웃을 통해 업데이트를 릴리스하려면 다음 과정을 수행해야 합니다.

-   **단계적 롤아웃을 구현하려면 다음을 수행합니다.**

    1.  SUS 상위 서버의 업데이트를 승인합니다.

    2.  업데이트가 해당 서버에 의해 지원되는 클라이언트에 배포되었으면 롤아웃의 다음 단계에서 클라이언트를 지원하는 SUS 하위 서버에서 승인 목록의 동기화를 사용해야 합니다.

예를 들어 모든 Windows XP 클라이언트에 영향을 미치는 업데이트를 시애틀 클라이언트에 먼저 릴리스하고 이 배포가 완료된 후 캠브리지의 클라이언트에 릴리스하려는 경우 SUS 관리자는 시애틀 SUS 서버의 업데이트를 먼저 승인하고 클라이언트는 그 업데이트를 다운로드 및 설치하기 시작합니다. 시애틀의 배포가 완료되면 SUS 관리자는 롤아웃 준비 단계 중 사용할 수 없게 된 캠브리지 SUS 서버의 승인 목록 동기화를 사용하도록 설정합니다. 승인 목록이 동기화되었으면 시애틀 서버에서 승인된 업데이트를 캠브리지 서버에 의해 지원되는 클라이언트가 사용할 수 있게 됩니다.

#### 응급 변경 요청

경우에 따라 SUS 서버 관리자 페이지에서 업데이트 승인을 얻을 때와 대상 서버에 업데이트를 배포할 때 사이의 시간 지연을 피해야 할 수도 있습니다. 업무용 서버의 급작스런 보안 침해를 막도록 디자인된 업데이트는 예약된 다음 설치 시간을 기다리기 보다는 되도록 빨리 배포되어야 합니다.

다음 과정은 소프트웨어 업데이트를 배포하고 업무용 서버에서 업데이트가 자동으로 설치되도록 하기 위해 수행할 단계를 보여 줍니다. 워크스테이션에 적용되는 소프트웨어 업데이트에도 비슷한 과정을 수행할 수 있습니다.

**참고:** 이 과정은 SUS 서버에서 소프트웨어 업데이트 파일과 업데이트된 승인 목록을 사용할 수 있을 만큼 충분한 네트워크 대역폭을 사용할 수 있는 업무 위치에서만 가능합니다.

-   **SUS와 그룹 정책을 사용하여 업데이트를 신속하게 배포하려면 다음을 수행합니다.**

    1.  OU(조직 구성 단위) 구조의 해당 부분에 임시 GPO(그룹 정책 개체)를 지정하고 보안 필터링을 사용하여 해당 컴퓨터에 적용되도록 합니다. 이 임시 SUS GPO는 기본적으로 사용 중인 SUS GPO보다 우선 순위가 높아야 합니다. 이 GPO 내의 정책 설정은 자동 업데이트 클라이언트를 사용하지 않고 컴퓨터의 기본 그룹 정책 새로 고침 간격을 5분으로 변경하도록 구성되어야 합니다.

    2.  도메인 컨트롤러 복제가 자동으로 이루어지게 하여 모든 도메인 컨트롤러가 새 그룹 정책 개체의 복사본을 갖도록 합니다.

    3.  OU 내의 모든 클라이언트가 그룹 정책을 새로 고칠 때까지 최대 120분을 기다립니다.

    4.  자동 업데이트 클라이언트를 사용할 수 있고 자동 다운로드 및 자동 설치로 설정되도록 새 GPO 정책 내의 정책 설정을 수정합니다. 현재 시점에서 한 시간 후 자동 설치가 이루어지도록 설정합니다.

    5.  도메인 컨트롤러 복제가 자동으로 이루어지게 하여 모든 도메인 컨트롤러가 변경된 그룹 정책 개체의 복사본을 갖도록 합니다.

    6.  모든 SUS 클라이언트가 업데이트된 SUS GPO 설정을 새로 고칠 때까지 5분 정도 기다립니다. GPO가 적용되었으면 자동 업데이트 클라이언트는 SUS 서버로부터 새 업데이트를 다운로드하기 시작해야 합니다. 지정한 시간이 되면 설치가 시작됩니다.

    7.  업데이트가 모든 대상 컴퓨터에 설치되었으면 이러한 모든 변경 작업에 사용한 임시 GPO를 삭제합니다. 서버는 그룹 정책 설정을 새로 고친 후 기존 자동 업데이트 다운로드 및 설치 옵션으로 돌아갑니다.

**참고:** 업데이트가 업무 운영상 중요한 것으로 인식되는 경우에만 이 절차를 고려해야 합니다. 일반적인 상황에서는 관리자가 표준 SUS 설치 일정을 기다려야 합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

배포 단계 - 배포 진행 상태 모니터링 및 보고
-------------------------------------------

여러 가지 이유로 인해 컴퓨터에서 업데이트를 설치하지 못할 수도 있으므로 배포 진행 상태를 모니터링할 수 있어야 합니다. 배경 정보를 보려면 "패치 관리 4단계 - 배포" 모듈의 “대상 컴퓨터로 소프트웨어 업데이트 배포” 섹션을 참조하십시오.

SUS 환경에서 배포된 업데이트의 릴리스를 모니터링하려면 MBSA 도구를 실행하여 MBSA 출력 목록을 통해 만들어진 보고서에서 특정 소프트웨어 업데이트가 더 이상 누락된 것으로 표시되지 않는지 여부를 모니터링해야 합니다.

MBSA는 설치된 업데이트뿐 아니라 SUS 서버에서 승인되었지만 아직 설치되지 않은 업데이트도 확인할 수 있습니다.

-   **여러 컴퓨터를 검색하려면 다음을 수행합니다.**

    1.  MBSA가 설치된 워크스테이션에서 도메인 관리자로 로그온하여 MBSA GUI를 실행합니다.

    2.  **Pick multiple computers to scan**을 클릭하고 검색할 도메인 이름 또는 IP 주소 범위를 입력합니다. 전체 도메인을 검색하는 경우에 입력하는 이름은 DNS 내에서 사용하는 FQDN(정규화된 도메인 이름)이 아니라 도메인의 NetBIOS 이름이어야 합니다.

    3.  **Use SUS Server**를 선택하고 **http://**server를 입력합니다. 여기서 server는 그림 15에 나오는 것과 같이 필요한 SUS 서버 이름입니다.![](images/Cc723499.SGFG19815(ko-kr,TechNet.10).jpg)

        그림 15
        도메인 또는 IP 주소 범위의 컴퓨터 검색

    4.  **Start scan**을 클릭하고 결과를 기다립니다.

    5.  **Pick a security report to view**를 클릭하고 보고된 내용을 볼 해당 컴퓨터를 선택합니다.

    6.  자세한 내용을 보려면 **Results details**를 클릭합니다.

배포가 진행됨에 따라 컴퓨터에서 소프트웨어를 설치하지 못하는 이유는 다음을 비롯하여 여러 가지가 있을 수 있습니다.

-   여러 이유로 인해 컴퓨터가 오프라인 상태입니다. 예를 들어 사용자가 작업 중이 아니거나, 통화 중이거나, 외출 중이거나, 컴퓨터가 유지 보수 중인 상태입니다.

-   컴퓨터를 다시 구축하는 중이거나 이미지를 다시 작성하는 중입니다.

-   자동 업데이트 클라이언트가 있는 컴퓨터가 SUS 서버와 통신 중이 아닙니다.

-   자동 업데이트 클라이언트 서비스가 사용자에 의해 중지되었거나 유지 관리 작업으로 인해 중지되었습니다.

-   컴퓨터 디스크 공간이 부족합니다.

그러한 이유들 중 하나로 인해 클라이언트 컴퓨터 중 일부가 주어진 SLA 내에서 패치 적용이 되는 경우 이들 컴퓨터의 호환을 유지하기 위해 수행할 단계를 결정해야 합니다. 모든 컴퓨터에 패치를 적용하지는 못할 수도 있지만 컴퓨터에 패치를 적용할 수 없거나 적용해서는 안 되는 이유를 충분히 이해해야 합니다.

다음 설명은 설치할 소프트웨어 업데이트의 오류 해결을 도와 주며 더 많은 컴퓨터를 호환 상태로 유지할 수 있도록 도와 줍니다.

-   배포의 첫 단계가 끝난 후에는 항상 작업 환경을 다시 검색하여 첫 단계 중 누락된 컴퓨터를 확인합니다.

-   배포 진행 상태를 계속해서 모니터링하고 보고합니다. 다시 검색하고 모니터링을 수행하면 예외로 보고된 대상 컴퓨터에 대한 후속 재배포 단계가 발생합니다.

-   항상 배포 실패의 근본 원인을 찾아봅니다.

-   오프라인 상태이거나 다시 구축 중인 컴퓨터의 경우 자동 업데이트 클라이언트 서비스가 정상적인 상태라면 다음에 컴퓨터가 온라인 상태가 될 때 소프트웨어 업데이트가 다운로드되고 설치됩니다.

-   배포의 성공 비율을 높이려면 이 섹션의 설명을 참조하십시오.

-   **배포 오류를 처리하려면 다음을 수행합니다.**

    1.  이벤트 로그에서 자동 업데이트 클라이언트의 SUS 관련 오류를 검토합니다. 자동 업데이트 클라이언트에 대해 가능한 이벤트의 전체 목록은 [http://www.microsoft.com/korea/windowsserversystem/sus](http://www.microsoft.com/korea/windowsserversystem/sus/)에서 다운로드할 수 있는 Software Update Services Deployment 백서의 Appendix B "Software Updates Services Event Log Messages"에서 볼 수 있습니다.
    2.  SUS 서버의 IIS 로그를 검사하여 실패한 자동 업데이트 클라이언트를 찾습니다. 클라이언트의 IP 주소 항목과 로그 항목을 검사합니다. 각 항목의 HTTP 반환 코드(예: 404)를 확인하여 문제의 원인이 다운로드 오류인지 확인합니다.

    3.  Windows Update 로그 파일을 검사합니다. 이 파일은 자동 업데이트 클라이언트가 수행한 모든 작업을 기록하며 각 클라이언트 컴퓨터에 있는 시스템 폴더의 루트에 위치합니다. 이전 작업과 오류 메시지에 대한 자세한 정보를 검색해야 합니다.

    4.  설치된 업데이트에 대한 전체 기록과 다운로드 원본 위치가 보관되는 Iuhist.xml 파일을 검사합니다. 파일은 Program Files\\WindowsUpdate\\V4에서 찾을 수 있습니다.

자동 업데이트 클라이언트가 업데이트를 다운로드하지 않는 경우 레지스트리에서 자동 업데이트 클라이언트의 상태를 확인해야 합니다.

-   **자동 업데이트 클라이언트의 상태를 보려면 다음을 수행합니다.**

    1.  레지스트리에서 **HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\WindowsUpdate\\Auto Update**로 이동합니다.

    2.  자동 업데이트 클라이언트의 AUState 값을 찾습니다. 클라이언트가 새로 승인된 업데이트를 찾기 위해서는 AUState 값이 2로 설정되어야 합니다. AUState가 5로 설정되면 클라이언트가 다운로드된 업데이트 설치를 보류하고 있으며, 이 업데이트 설치가 끝날 때까지는 새로운 검색을 실행하지 않습니다. 설치가 완료되면 클라이언트가 AUState를 2로 직접 다시 설정합니다. AUState가 7로 설정되면 클라이언트를 사용할 수 없습니다. AUState가 8로 설정되면 설치는 실행되지만 컴퓨터는 다시 시작되지 않습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

배포 단계 - 실패한 배포 처리
----------------------------

배포가 제대로 완료되지 않아서 중지 및 롤백해야 할 경우에는 롤아웃을 중지하고 실패한 업데이트를 제거한 다음 다시 배포해야 합니다. 배경 정보를 보려면 "패치 관리 4단계 - 배포" 모듈의 “대상 컴퓨터로 소프트웨어 업데이트 배포” 섹션을 참조하십시오.

### 승인된 업데이트의 배포 중지

배포가 실패하였으므로 더 이상 설치되지 않도록 해야 할 경우에는 SUS 서버에서 업데이트 승인을 취소해야 합니다. 업데이트를 이미 다운로드했지만 아직 설치하지는 않은 클라이언트에서 로컬 관리자는 해당 업데이트를 설치할 업데이트 목록에서 직접 제거할 수 있습니다.

그림 16에서는 관리자가 Q318138 업데이트를 설치하지 않기로 선택했습니다.![](images/Cc723499.SGFG19816(ko-kr,TechNet.10).jpg)

그림 16
업데이트를 설치하지 않기로 선택

**참고:** 로컬 관리자가 그림 16에 나오는 것처럼 특정 업데이트를 설치하지 않기로 선택하면 SUS 관리자가 SUS 서버 관리자 페이지에서 해당 업데이트를 다시 승인하더라도 그 업데이트는 설치되지 않습니다. 이 경우 컴퓨터의 로컬 관리자는 해당 클라이언트의 제어판에서 자동 업데이트 내의 **거부된 업데이트** 단추를 통해서만 해당 업데이트를 설치할 수 있습니다.

컴퓨터에서 승인된 업데이트 설치가 완료되었으면 제어판의 **프로그램 추가/제거**를 통해서만 해당 업데이트를 제거할 수 있습니다. 모든 업데이트를 제거할 수 있는 것은 아니며 그러한 경우 Windows XP 컴퓨터는 시스템 복원 유틸리티를 사용하여 롤백할 수 있습니다. Windows 2000과 Windows Server 2003 시스템에서는 해당 백업 및 복구 기술을 사용하여 마지막 정상 상태로 컴퓨터를 되돌려야 합니다. 이 정보는 사용자가 특정 업데이트를 선별하고 테스트하면서 조사되고 입증된 정보입니다. 그러나 제거할 수 없는 업데이트를 배포하기 전에는 항상 백업을 만들어야 합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

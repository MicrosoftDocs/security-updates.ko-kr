---
TOCTitle: 'Microsoft 가상 사설망으로 차단 서비스 구현 계획 가이드 - 4장'
Title: 'Microsoft 가상 사설망으로 차단 서비스 구현 계획 가이드 - 4장'
ms:assetid: '909a7878-ae72-4771-88c9-3b69897c234b'
ms:contentKeyID: 20214125
ms:mtpsurl: 'https://technet.microsoft.com/ko-kr/library/Dd547970(v=TechNet.10)'
---

Microsoft 가상 사설망으로 차단 서비스 구현 계획 가이드
======================================================

### 4장 - 솔루션 설계

업데이트 날짜: 2005년 5월 24일

##### 이 페이지의 내용

[](#eeaa)[소개](#eeaa)  
[](#edaa)[재택 근무자들을 위한 원격 액세스 구현](#edaa)  
[](#ecaa)[추가 고려 사항](#ecaa)  
[](#ebaa)[모니터링 및 관리 구현](#ebaa)  
[](#eaaa)[요약](#eaaa)  

### 소개

지금까지 VPN(가상 사설망) 솔루션에서 다뤄야 할 요인들에 대해 자세히 알아 보았으므로 이제 디자인 프로세스를 시작할 수 있습니다. 이 디자인 프로세스에는 필수 계획 요소를 식별하고 솔루션 요구 사항을 논리적으로 분석하는 과정이 포함됩니다.

Woodgrove National Bank는 솔루션에서 해결해야 하는 비즈니스, 기술 및 보안 문제의 평가를 수행했습니다. 이 장에서는 시스템 설계자가 고려한 계획 문제, 이들이 도출한 결론, 이러한 결론을 바탕으로 선택한 솔루션을 만들기 위해 내린 결정에 대해 설명합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

### 재택 근무자들을 위한 원격 액세스 구현

원격 위치에서 근무하는 Woodgrove National Bank 재택 근무자들은 회사 네트워크에 안전하고 일관적으로 연결할 수 있어야 합니다. 연결하기가 어렵거나 너무 자주 연결이 지연되면 불만이 생기고 서비스의 신뢰도가 떨어질 수 있습니다. VPN 차단을 구현하면 네트워크에 연결하는 시간이 길어지기 때문에 사용자 불만이 늘어날 수 있습니다. Woodgrove National Bank IT에서는 연결 지연을 모니터하고 이러한 지연을 최소화하기 위한 조치를 취해야 합니다. 연결 스크립트는 연결 프로세스의 각 단계마다 사용자에게 연결 상태를 알려 주어야 합니다.

네트워크 관리자는 네트워크 정책을 준수하는 원격 액세스 컴퓨터만 네트워크 리소스에 액세스할 수 있도록 허용합니다. 회사 네트워크를 보호하는 최적의 방법은 원격 액세스 컴퓨터를 차단하고 네트워크 보안 정책을 만족하는 컴퓨터만 네트워크 리소스에 액세스할 수 있도록 하는 것입니다.

#### 솔루션 개념

솔루션에서는 연결 전 스크립트, 클라이언트 에이전트 및 Microsoft Windows Server 2003 서비스 팩 1(SP1) 구성 요소를 조합하여 사용합니다. 클라이언트 컴퓨터는 사용자 지정 연결 관리자 프로필을 사용하여 VPN 연결을 시작합니다. 연결 관리자 프로필은 CMAK(연결 관리자 관리 키트)를 사용하여 만든 자동 압축 풀기 실행 파일로, 스크립트와 설정을 포함합니다. 터널 전 작업 스크립트에서는 VPN 연결을 만들기 전에 클라이언트에서 보안 업데이트를 업데이트해야 합니다. 원격 액세스 컴퓨터는 Woodgrove National Bank에서 관리하는 인터넷 연결 서버, 바이러스 백신 공급업체, 그리고 Windows Update 웹 사이트를 통해 업데이트를 가져옵니다.

클라이언트 컴퓨터는 필요한 업데이트를 가져오고 IAS(인터넷 인증 서비스)를 사용하여 Active Directory 디렉터리 서비스에 대하여 사용자의 자격 증명을 인증한 후에 VPN 연결을 만듭니다. 그런 다음 원격 액세스 서버가 리소스에 대한 제한된 액세스만 허용하는 차단 패킷 필터를 사용하여 들어오는 연결을 제한합니다. 클라이언트 에이전트에서 컴퓨터가 필요한 보안 요구 사항을 만족하는 것으로 확인하면 원격 액세스 서버가 차단 제한을 해제하고 클라이언트 컴퓨터는 허가된 모든 인트라넷 리소스에 액세스할 수 있습니다.

#### 솔루션 전제 조건

이와 같은 프로젝트는 특정 전제 조건을 만족해야만 시작할 수 있습니다. 다음 섹션에서는 VPN 차단을 위한 일반적인 몇 가지 전제 조건을 제공합니다.

##### 사용자 및 그룹과 상담

사용자 서비스에 영향을 주는 변경을 계획할 때 가장 중요한 단계는 해당 사용자 및 그룹과 상담하는 것입니다. 사용자는 기존 서비스의 문제 및 성능에 대한 중요한 의견을 제공합니다. 새 서비스에서 기대하는 기능과 성능이 무엇인지 알려줄 수도 있습니다. 사용자는 서비스의 장점과 단점을 파악하고 있어야 합니다. 사용자가 기대하는 바에 대해 잘 알고 있으면 호응을 높일 수 있습니다. 평가 가능한 목표를 설정하면 프로젝트의 성공 여부를 판단할 수 있습니다.

Woodgrove는 전세계 여러 국가 및 지역에서 사업을 하고 있으며 현지 지원 센터를 운영하고 있습니다. 초기 팀은 사용자와 지원 팀의 의견을 포괄적으로 검토하여 시험 서비스에 포함할 잠재적인 사용자, 그룹 및 지원 담당자를 확인하고 참가하도록 했습니다.

##### 프로젝트 팀 채용

이러한 프로젝트를 구현하기 위해서는 인력과 기술을 적절히 혼합해야 합니다. 프로젝트 팀에서는 기술 요구 사항을 사내에서 충족할 수 있는지, 아니면 추가 인력을 채용해야 하는지를 고려해야 합니다. 전체 인력이 프로젝트의 모든 단계에서 필요한 것은 아니므로 프로젝트 계획 전반에 걸쳐 각 직원의 투입 가능 여부를 확인해야 합니다. 필요한 역할로는 네트워크 설계자, 네트워크 관리, 서버 관리 팀, 스크립트 개발자, 인프라 보안 팀 및 프로젝트 관리 팀이 있습니다.

#### 솔루션 계획

계획 과정 중에 Woodgrove에서는 다음과 같은 요구 사항을 고려했습니다.

-   시험 또는 테스트 구현

-   터미널 서비스로 경계 네트워크 서버 관리

-   차단 스크립트 업그레이드

-   성능 데이터 수집

##### 시험 또는 테스트 구현

조직의 크기 및 범위에 따라 시험의 크기와 수가 달라집니다. Woodgrove IT에서는 시험 두 개를 구현했는데, 이 중 첫 번째는 개념을 증명하고, 경험이 많은 원격 액세스 사용자를 통해 잠재적인 취약점을 밝혀내고 비즈니스 및 기술 문제를 완화하는 것을 목표로 합니다. 초기 시험의 경우 회사 리소스에 대한 액세스를 제한해 보안 확인을 따르는 컴퓨터에 보안 문제가 전혀 없도록 했습니다. VPN 차단 솔루션을 구현하는 모든 조직에서는 솔루션을 구현하고 회사 네트워크를 잠재적으로 노출하기 전에 감염되거나 적절한 업데이트가 없는 컴퓨터는 차단 보안 검사를 건너뛸 수 없다는 사실에 만족하게 됩니다. 두 번째 시험에서는 더 넓은 범위의 사용자 기반을 대상으로 경험이 없는 몇몇 사용자를 통해 발생할 수 있는 지원 문제에 대한 보다 현실적인 테스트를 제공하도록 했습니다.

##### 터미널 서비스로 경계 네트워크 서버 관리

Woodgrove IT 팀에서는 터미널 서비스 관리 모드를 사용하여 경계 네트워크에 있는 기존 서버를 관리합니다. Woodgrove IT 팀은 인터넷 연결 업데이트 서버 및 VPN 원격 액세스 서버 목록에 이 모드를 추가해야 합니다. Woodgrove는 이 중요한 서버를 업데이트 및 유지 관리하는 방법을 생각해 봐야 합니다.

##### 차단 스크립트 업그레이드

시간이 지남에 따라 차단 스크립트는 연결 관리자 프로필의 새 빌드로 업데이트해야 합니다. Woodgrove는 사용자 인증을 필요로 하는 웹 서버를 통해 연결 관리자 프로필을 배포하기로 결정했습니다. 원격 액세스 사용자는 배포 지점을 알려 주는 전자 메일을 받습니다.

##### 성능 데이터 수집

성능 평가는 서비스 개선에 중요한 요인입니다. Woodgrove IT는 서버의 성능, 안정성 및 보안을 모니터해야 합니다. 네트워크 팀에서는 VPN 차단 솔루션을 기존 모니터링 및 관리 구조에 통합할 수 있어야 합니다.

#### 솔루션 아키텍처

Woodgrove National Bank의 VPN 차단 솔루션에는 다음 구성 요소가 필요합니다.

-   Windows XP Professional SP2 이상을 실행하는 클라이언트 컴퓨터

-   CMAK로 만든 연결 관리자 프로필

-   연결 관리자 클라이언트 패키지에 포함된 클라이언트 쪽 스크립트

-   VPN 차단 클라이언트 구성 요소

-   Windows Server 2003 SP1 이상을 실행하고 원격 액세스 차단 서비스가 설치되어 있는 원격 액세스 서버

-   차단 IP 포트 필터

-   Windows Server 2003에서 실행되는 IAS(인터넷 인증 서비스)

-   Active Directory

처음에 Woodgrove IT 부서는 현재 배포되어 있는 모든 Windows 버전에 대한 지원 제공을 고려했습니다. 그러나 인터넷에 연결되어 있는 컴퓨터에 대한 위협이 알려지면서 IT 부서는 컴퓨터 운영 체제를 Windows XP Professional SP2로 표준화하기 시작했습니다. Windows XP Home Edition SP2를 실행하는 컴퓨터가 VPN을 통해 연결하도록 허용할 수도 있지만 Windows XP Home Edition 기반 컴퓨터는 도메인에 가입할 수 없기 때문에 Woodgrove IT에서는 이러한 구성은 지원하지 않기로 결정했습니다. IT 부서에서 초기 솔루션을 구현했을 때 Woodgrove는 작업자의 가정용 컴퓨터로까지 솔루션을 확대하고자 했습니다.

연결 전 검사 중 하나는 Windows 방화벽이 사용 가능한지 확인하는 것입니다. Woodgrove는 스크립트에서 예외를 지정하지 않지만 원격 데스크톱 연결 후 같은 예외는 설정합니다.

CMAK는 클라이언트 알림 구성 요소(RQC.exe) 및 초기 차단 스크립트를 포함해 연결을 시작하기 위해 사용 허가된 필수 소프트웨어가 모두 들어 있는 연결 관리자 프로필을 구성하는 데 사용되는 도구입니다. Woodgrove National Bank에서는 웹 서버를 사용해 이러한 프로필을 배포합니다. Woodgrove National Bank가 연결 관리자 프로필을 업데이트하면 특정일까지 새 프로필이 필요하다는 전자 메일이 사용자에게 발송됩니다.

**참고:** 대체 전략에서는 그룹 정책, Microsoft SMS(Systems Management Server) 2003과 같은 소프트웨어 배포 메커니즘을 사용하거나, 가정용 컴퓨터에서 회사 네트워크로 연결하려는 사용자를 위해 프로필을 암호로 보호된 USB 키에 보관할 수 있습니다.

Windows Server 2003의 원격 액세스에서는 VPN 호스트 및 라우터 역할을 하는 적절한 기능을 제공합니다. Windows Server 2003 SP1에는 VPN 차단 솔루션의 주요 구성 요소인 원격 액세스 임시 차단 서비스(RQS)가 포함되어 있습니다. RQS는 서버 수신기 구성 요소로서 RQS.exe 실행 파일로 구현되어 있습니다. CMAK에는 알림 구성 요소(RQC.exe)가 포함됩니다.

차단 포트 필터는 네트워크에서 차단된 VPN 클라이언트 및 제한된 리소스 사이의 통신만 허용합니다. 패킷 필터를 사용하면 클라이언트 에이전트가 원격 액세스 서버의 수신기 구성 요소와 통신할 수 있으며 사용자 인증이 활성화됩니다.

Windows Server 2003에서 실행되는 IAS는 Microsoft에서 구현한 RADIUS 서버 및 RADIUS 프록시 서버입니다. IETF(Internet Engineering Task Force)는 RFC 2865 및 2866에서 RADIUS에 대해 기술하고 있습니다. IAS는 원격 액세스 요청을 인증하고 계정 정보를 제공합니다. Woodgrove IT는 여러 ISP와 계약을 맺고 다양한 국가/지역에서 로밍 인터넷 액세스를 제공하고 있습니다. ISP는 Woodgrove IAS 서버를 통해 인증 요청을 전달하도록 RADIUS 서버를 구성합니다. 이 인증 과정에서는 Woodgrove IAS 서버를 다시 가리키도록 구성된 ISP에서 RADIUS 프록시를 RADIUS 서버와 함께 사용해야 합니다. 권한 부여를 위해 IAS를 사용할 경우 Woodgrove에서는 RADIUS 계정 기능을 활용해 원격 액세스 VPN 사용을 추적할 수 있습니다.

Active Directory의 사용자 계정과 그룹 구성원은 Woodgrove National Bank의 회사 리소스에 대한 원격 연결과 후속 액세스를 제어합니다. Woodgrove National Bank에서는 또한 GPO(그룹 정책 개체)를 사용하여 회사 네트워크 보안 정책에 맞게 Windows 워크스테이션을 구성합니다.

#### 솔루션 작동 방식

다음 그림은 Woodgrove National Bank에서 VPN 차단 솔루션을 구현한 방법을 보여 줍니다.

[![](images/Dd547970.QPGFG0401(ko-kr,TechNet.10).gif)](https://technet.microsoft.com/ko-kr/dd547970.qpgfg0401_big(ko-kr,technet.10).gif)

**그림 4.1 Woodgrove National Bank의 VPN 차단 프로세스**

Woodgrove National Bank의 VPN 차단 솔루션은 다음과 같은 방법으로 작동합니다.

1.  사용자가 VPN 연결 프로필을 선택합니다. 또는 응용 프로그램에서 회사 인트라넷에 있는 리소스를 요청할 수 있습니다.

2.  연결 관리자 프로필이 전화 접속 항목을 사용해 인터넷 연결을 시작합니다. 클라이언트가 이미 인터넷에 연결되어 있으면 연결 관리자가 이 단계를 건너뜁니다.

3.  터널 전 사용자 지정 작업은 컴퓨터에 최신 업데이트 및 바이러스 백신 서명이 있는지 확인하기 위해 스크립트를 실행합니다. 클라이언트 컴퓨터는 Windows Update에 연결하여 이러한 업데이트를 설치합니다. 터널 전 사용자 지정 작업에 적합한 사용자 지정 스크립트의 예를 보려면 이 가이드의 부록 A "예제 차단 스크립트"를 참조하십시오.

4.  업데이트가 성공적으로 적용되면 연결 관리자 프로필이 VPN 서버에 연결됩니다. 업데이트가 실패하면 연결 관리자 프로필이 이 사실을 사용자에게 알려 주고 VPN 연결 시도를 종료합니다.

5.  원격 액세스 클라이언트 컴퓨터는 RADIUS 액세스 요청 메시지를 IAS 서버에 보내는 원격 액세스 서버에 인증 자격 증명을 전달합니다. IAS는 Active Directory에 대하여 사용자의 자격 증명을 인증합니다. 자격 증명이 유효하면 IAS가 해당 사용자에 대한 원격 액세스 정책을 확인합니다.

6.  VPN 서버가 연결을 허용하고 차단 시간 제한 및 IP 필터 특성을 설정합니다. IAS 서버는 MS-Quarantine-IPfilter 및 MS-Quarantine-Session-Timeout 특성이 들어 있는 RADIUS 액세스 허용 메시지를 보냅니다. VPN 서버는 이러한 특성을 차단 필터에 적용하고 세션 타이머를 설정합니다. 원격 액세스 클라이언트 컴퓨터는 차단 필터와 일치하는 트래픽만 성공적으로 전송할 수 있습니다. 원격 액세스 클라이언트는 MS-Quarantine-Session-Timeout 카운터에서 지정한 시간(초)이 끝나기 전에 차단 스크립트가 성공적으로 완료되었다는 사실을 원격 액세스 서버에게 알려 주어야 합니다.

7.  수신기 구성 요소는 클라이언트가 정책 요구 사항을 만족한다는 사실을 원격 액세스 서버에게 알려 줍니다. 원격 액세스 서버는 MS-Quarantine-IPfilter 특성에 지정된 트래픽 규칙(포트 7250)과 일치하기 때문에 이 알림을 받습니다. 원격 액세스 서버는 연결에서 MS-Quarantine-IPfilter 및 MS-Quarantine-Session-Timeout 설정을 제거하고 원격 액세스 정책에서 지정한 일반적인 연결 제약 조건을 구성합니다.

8.  이제 사용자는 허가된 네트워크 리소스에 액세스할 수 있습니다.

**참고:** 연결 후 스크립트는 연결 관리자 패키지의 버전을 확인합니다. 원격 컴퓨터의 버전이 부 버전 두 개 또는 주 버전 하나보다 이전 버전이면 원격 컴퓨터가 최신 연결 관리자 패키지를 다운로드하고 사용자에게 알려 준 다음 연결을 끊습니다. 원격 컴퓨터에는 이제 최신 핫픽스 목록이 있기 때문에 원격 사용자가 다시 연결할 수 있습니다.

이 솔루션을 구현하려면 클라이언트 및 서버 쪽에서 여러 개의 프로세스를 실행해야 합니다. 다음 섹션에서는 이러한 요구 사항에 대해 설명합니다.

##### 스크립트를 사용하여 사용자 지정 작업 구현

연결 주기의 다양한 지점에서 실행되는 스크립트는 VPN 차단 솔루션의 클라이언트 쪽 작업 대부분을 수행합니다. 이 솔루션의 중요한 요소 하나는 특정 검사가 터널 전 또는 연결 후로 실행되는지 여부에 따라 달라집니다. 특정한 검사에 시퀀스가 없으면 컴퓨터가 불필요한 취약점에 노출될 수 있으며 다른 문제의 원인이 될 수 있습니다. 다음 섹션에는 이러한 솔루션을 위해 디자인된 검사 목록이 들어 있습니다.

###### 연결 전 검사 구현

클라이언트가 이미 연결되어 있지 않으면 연결 관리자가 인터넷 연결을 시작합니다. 클라이언트가 인터넷에 연결되면 VPN 터널을 설정하기 전에 동기화된 터널 전 작업이 필수 보안 검사를 수행합니다.

연결 관리자는 모든 필수 보안 검사를 순차적으로 실행합니다. 연결 관리자는 이러한 검사를 일련의 스크립트로 구현합니다. 다음 단계에서는 스크립트에 필요한 작업 논리를 제공합니다.

1.  **지원되는 클라이언트 운영 체제입니까?**

    -   아닐 경우 사용자에게 메시지 상자가 표시되고 연결이 실패합니다.

    -   맞는 경우 계속하십시오.

2.  **바이러스 백신 소프트웨어가 설치되었으며 실행 중입니까?** 

    -   아닐 경우 사용자에게 메시지 상자가 표시되고 연결이 실패합니다. 터널 전 작업의 일부로 필요한 사용 허가된 소프트웨어를 연결 관리자 설치와 함께 제공하면 원격 서버에서 설치하지 않아도 됩니다.

    -   맞는 경우 계속하십시오.

3.  **바이러스 백신 서명 파일을 업데이트합니다.**

    -   성공한 경우 계속하십시오.

    -   그렇지 않은 경우 경고와 함께 계속하거나 사용자에게 메시지 상자가 표시되고 연결이 실패합니다.

4.  **Windows 자동 업데이트 클라이언트가 구성되어 있습니까?**

    -   아닌 경우 Windows 자동 업데이트 서비스 클라이언트를 구성하십시오.

    -   성공한 경우 계속하십시오.

    -   그렇지 않은 경우 경고와 함께 계속하거나 사용자에게 메시지 상자가 표시되고 연결이 실패합니다.

    -   맞는 경우 계속하십시오.

5.  **중요 소프트웨어 업데이트를 다운로드 및 설치합니다.**

    -   성공한 경우 계속하십시오.

    -   그렇지 않은 경우 경고와 함께 계속하거나 사용자에게 메시지가 표시되고 연결이 실패합니다.

6.  **"전화 접속 연결을 사용하여 로그온"을 사용해야 합니다(옵션).**

    -   사용한 경우 계속하십시오.

    -   사용하지 않은 경우 경고와 함께 계속하거나 사용자에게 메시지가 표시되고 연결이 실패합니다. 이 검사를 사용하면 도메인 가입된 컴퓨터만 연결할 수 있으며 원격 클라이언트의 경우 회사 LAN에 최소 한 번은 연결하여 도메인에 가입해야 합니다. 이 옵션을 사용하는 경우 Woodgrove IT에서 필수 보안 검사에 대한 일시적 예외를 제공한 경우가 아니면 원격 연결을 통해 도메인을 가입할 수 없습니다(이 장 후반부의 예외 및 제외 처리 항목 참조).

7.  **추가 사용자 지정 보안 검사를 실행합니다(옵션).**

    인터넷 액세스는 현재 연결 과정에서만 가능하므로 이러한 제약을 염두에 두고 사용자 지정 보안 검사를 디자인해야 합니다.

**참고:** 예제 스크립트 세트의 설명을 보려면 이 가이드의 부록 A, "예제 차단 스크립트"를 참조하십시오.

연결 관리자는 이 터널 전 작업의 결과를 다음 키 아래의 레지스트리에 기록합니다.

**HKEY\_CURRENT\_USER\\Software\\MyCompany\\MyConnectionManager\\PreTunnelResults.**

터널 전 작업의 결과는 항상 성공적이어야 하며 원격 액세스 임시 차단 서비스 에이전트 연결 후 작업에서는 이러한 결과를 확인해 어떤 상태를 VPN 서버에 보낼지 결정해야 합니다. 이 방법을 사용하면 연결 관리자를 수정하지 않고 유연하게 예외를 관리할 수 있습니다. 다음 그림은 Woodgrove National Bank에서 사용하는 터널 전 사용자 지정 작업 스크립트 논리를 보여 줍니다.

[![](images/Dd547970.QPGFG0402(ko-kr,TechNet.10).gif)](https://technet.microsoft.com/ko-kr/dd547970.qpgfg0402_big(ko-kr,technet.10).gif)

**그림 4.2 Woodgrove National Bank 터널 전 작업**

###### 연결 후 검사 구현

클라이언트가 터널 전 검사를 통과하면 연결 관리자에서 VPN 연결을 설정합니다. 연결 후 스크립트는 회사 네트워크에 대한 클라이언트의 액세스가 허용되면 필수가 아닌 추가 검사 및 관리 작업을 수행할 수 있습니다.

1.  **VPN 연결**

    모든 터널 전 작업을 완료하면 연결 관리자가 VPN 서버에 대한 연결을 설정합니다.

2.  **알림 보내기**

    연결 관리자는 클라이언트 구성 요소(RQC.exe)를 사용하여 공유 키를 VPN 서버의 원격 액세스 임시 차단 서비스(RQS.exe)로 보낸 뒤 차단 정책을 무시합니다.

3.  **암호 만료**

    Woodgrove National Bank에서는 암호 만료 보류를 확인하는 스크립트를 실행하고 변경이 필요할 경우 사용자에게 이를 알려 줍니다.

    **참고:** 암호 만료 알림은 클라이언트에서 **전화 접속 연결을 사용하여 로그온** 옵션을 사용해 원격으로 회사 네트워크에 연결할 경우에만 발생합니다.

4.  **그룹 정책 새로 고침**

    도메인에 가입된 클라이언트에서 **전화 접속을 사용하여 로그온** 옵션을 사용해 원격으로 회사 네트워크에 연결하지 않는 경우 그룹 정책 업데이트가 적용되지 않습니다. 따라서 그룹 정책을 사용해 클라이언트에 있는 중요 보안 옵션을 설정할 때 보안이 노출될 수 있습니다. 이러한 잠재적인 문제를 해결하기 위해 Woodgrove National Bank에서는 사용자가 로그인하면 그룹 정책을 새로 고쳐 주는 연결 후 스크립트를 실행합니다. 스크립트에서는 **gpupdate.exe /force /wait:0** 명령을 사용하여 즉시 그룹 정책 설정을 새로 고칩니다. 그룹 정책 업데이트 유틸리티에 대한 자세한 내용을 보려면 http://support.microsoft.com/kb/298444/ko에서 [그룹 정책 업데이트 유틸리티에 대한 설명](http://support.microsoft.com/kb/298444/ko)을 참조하십시오.

다음 그림에는 연결 후 사용자 지정 작업 스크립트의 논리가 자세히 나와 있습니다.

[![](images/Dd547970.PGFG0403(ko-kr,TechNet.10).gif)](https://technet.microsoft.com/ko-kr/dd547970.pgfg0403_big(ko-kr,technet.10).gif)

**Figure 4.3 Woodgrove National Bank 연결 후 작업**

##### 연결 관리자 프로필 만들기 및 배포

연결 관리자는 사용자가 회사 리소스에 빠르고 간편하면서도 안정적으로 액세스할 수 있도록 편리한 메커니즘을 제공합니다. Woodgrove National Bank에서는 자사 IT 부서에서 CMAK를 사용해 만든 연결 관리자 프로필을 통해 사용자 지정 VPN 연결을 구현하기로 결정했습니다.

Woodgrove National Bank에서 구성하는 클라이언트에 대한 연결과 액세스 전화 번호의 수가 엄청나기 때문에 Woodgrove IT에서는 구성 전에 다음 정보를 검토해야 합니다.

-   위치, 시간 등의 요소에 따라 전화 접속 또는 VPN 연결 구성이 다릅니다.

-   오류가 발생하는 것을 막기 위해서는 사용자가 전화 접속 또는 VPN 연결 속성을 구성하거나 수정하지 못하도록 해야 합니다.

-   일부 함수는 동적이어야 하며 Woodgrove IT 직원들은 이러한 값을 관리해 보안 준수를 확인합니다.

-   구성 방법은 전세계 기업에서 사용할 수 있는 것이어야 합니다.

다음 표에는 Woodgrove IT에서 사용하는 원격 액세스 연결을 위한 몇 가지 연결 관리자 기능이 나와 있습니다.

**표 4.1: Woodgrove IT에서 사용하는 연결 관리자 기능**

 
<table style="border:1px solid black;">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >기능</th>
<th style="border:1px solid black;" >기능</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">브랜딩</td>
<td style="border:1px solid black;">사용자 지정된 그래픽, 아이콘, 메시지 및 도움말이 패키지의 회사다운 모양과 느낌을 살려 줍니다. 연결 관리자 패키지는 여행 중인 사용자를 위해 지역별 지원 전화 번호를 제공합니다.</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">사용자 지정 작업</td>
<td style="border:1px solid black;">로깅 및 응용 프로그램 업데이트 수행</td>
</tr>
</tbody>
</table>
  
Woodgrove IT에서는 CD 전자 메일, 웹 사이트 또는 파일 공유를 기준으로 원격 사용자에게 연결 관리자 프로필을 배포할 수 있습니다. Woodgrove National Bank에서는 이미 인터넷 웹 사이트를 통해 소프트웨어 및 업데이트를 배포하고 있습니다. 이미 지원 인프라가 구축되어 있으므로 Woodgrove에서는 이 방법을 사용해 연결 관리자 프로필을 배포할 수 있습니다.
  
##### IP 필터를 사용하여 네트워크 액세스 차단
  
사용자 지정 작업과 공급업체별 특성을 조합하면 연결 관리자를 통해 네트워크 차단 액세스를 지원할 수 있습니다. 공급업체별 특성은 RADIUS 표준 RFC 2138에서 정의하지 않는 RADIUS 표준의 허용된 확장입니다. Windows Server 2003 버전의 IAS에서 지정하는 Microsoft 공급업체 특성은 다음과 같습니다.
  
-   MS-Quarantine-IPFilter
  
-   MS-Quarantine-Session-Timeout
  
###### MS-Quarantine-IPFilter Setting
  
이러한 설정은 스크립트가 성공적으로 완료된 후에 클라이언트 알림 구성 요소(RQC)에서 들어오는 트래픽을 허용합니다. 예를 들어 Woodgrove National Bank 네트워크에서는 원격 클라이언트가 차단 작업 중에 인프라 서버와 통신할 수 있도록 DNS 및 DHCP 프로토콜을 허용해야 합니다.
  
**참고:** 필터를 사용하여 특정 프로토콜을 허용하면 전체 보안이 저하됩니다. 필요한 경우에만 이러한 프로토콜을 차단 정의에 포함시키십시오.
  
다음 표에서는 Woodgrove National Bank 차단 IP 필터가 여는 TCP/IP 포트를 보여 줍니다.
  
**표 4.2: VPN 차단 필터에서 TCP/IP 포트 열기**

 
<table style="border:1px solid black;">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th style="border:1px solid black;" >포트 번호</th>
<th style="border:1px solid black;" >사용</th>
<th style="border:1px solid black;" >설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="border:1px solid black;">UDP 67, 68</td>
<td style="border:1px solid black;">DHCP</td>
<td style="border:1px solid black;">클라이언트에 대한 IP 주소 요청</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">UDP 53</td>
<td style="border:1px solid black;">DNS</td>
<td style="border:1px solid black;">이름 확인</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">UDP 137</td>
<td style="border:1px solid black;">WINS</td>
<td style="border:1px solid black;">NetBIOS 이름 확인</td>
</tr>
<tr class="even">
<td style="border:1px solid black;">TCP 139, 445</td>
<td style="border:1px solid black;">파일 공유</td>
<td style="border:1px solid black;">절대적으로 필요한 경우에만 활성화하십시오. NetBIOS 세션 및 SMB 파일 공유를 제공합니다.</td>
</tr>
<tr class="odd">
<td style="border:1px solid black;">TCP 7250</td>
<td style="border:1px solid black;">RQC, RQS</td>
<td style="border:1px solid black;">VPN 차단 클라이언트 에이전트와 서버 쪽 수신기 구성 요소 사이에 통신을 활성화합니다.</td>
</tr>
</tbody>
</table>
  
###### MS-Quarantine-Session-Timeout
  
이 특성은 클라이언트 컴퓨터가 차단 상태로 남아 있어야 하는 최대 시간 제한을 설정합니다. 스크립트가 이 시간 안에 완료되지 않으면 클라이언트 컴퓨터로부터 원격 액세스 서버의 연결이 끊깁니다. Woodgrove National Bank에서는 시간 제한을 120초로 구현했기 때문에 들어오는 연결 중 무시되는 연결이 1% 미만입니다.
  
다음 그림에서는 VPN 차단을 지원하기 위해 원격 액세스 정책의 구성이 필요한 공급업체별 특성을 보여 줍니다.
  
[![](images/Dd547970.PGFG0404(ko-kr,TechNet.10).gif)](https://technet.microsoft.com/ko-kr/dd547970.pgfg0404_big(ko-kr,technet.10).gif)
  
**그림 4.4 VPN 차단에 필요한 MS 차단 공급업체별 특성**
  
시험 테스트 프로세스 동안 차단 IP 필터에서 허용되는 포트를 제거하면 클라이언트가 연결되지 않는지 확인하십시오. 시간 제한 값을 실질적으로 가장 낮은 설정으로 줄인 다음 증가된 네트워크 대기 시간이나 느린 링크에 대해 허용차를 추가하십시오.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
### 추가 고려 사항
  
이 섹션에서는 VPN 차단 구현 중 Woodgrove IT에서 추가 영역으로 간주하는 몇 가지 영역을 설명합니다.
  
#### 로깅 및 계정
  
IAS 사용 이점 중 하나는 RADIUS를 통해 클라이언트 연결을 로깅하기 위한 지원이 기본적으로 제공된다는 것입니다. Woodgrove National Bank는 회사 네트워크에 연결하는 작업자를 모니터하고자 합니다. VPN 차단을 사용하여 원격 액세스 솔루션을 구현하기 위해 로깅이 반드시 필요한 것은 아니지만 Microsoft에서는 이를 적극 권장합니다. RADIUS/IAS는 서비스를 개선할 목적으로 Woodgrove에 연결 경향을 분석할 수 있는 기능을 제공합니다.
  
각 IAS RADIUS 서버는 간단한 로컬 SQL Server 2000 데이터베이스인 SQL Server 2000 Desktop Engine(MSDE 2000)에서 사용자 세션 데이터를 수집합니다. 이 데이터베이스는 인프라 서버 성능 데이터 및 클라이언트별 데이터를 수집할 수 있으며 사용자 세션 데이터를 수집하는 각 IAS 서버에서 실행됩니다.
  
IAS는 MSDE에서 데이터를 중앙 SQL Server 2000 데이터베이스에 거의 실시간으로 전송합니다. 이러한 방식을 사용하면 SQL Server 라이선스를 비용 효율적으로 사용할 수 있으며 성능이 저하되지 않습니다.
  
Woodgrove National Bank는 지역 SQL Server 기반 데이터 수집 서버를 배포하여 원격 액세스 세션 데이터를 수집합니다. IAS를 사용하여 SQL Server 로깅 구성에 대한 자세한 내용은 www.microsoft.com/downloads/details.aspx?FamilyId=6E4357F7-4070-4902-95F1-3AD411D963B2&displaylang=en에서 [Deploying SQL Server Logging with Windows Server 2003 Internet Authentication Service(IAS) (영문)](http://www.microsoft.com/downloads/details.aspx?familyid=6e4357f7-4070-4902-95f1-3ad411d963b2&displaylang=en) 항목을 참조하십시오.
  
#### 시험 배포 구현
  
제작 환경에 원격 액세스 솔루션을 배포하기 전에 시험 배포에서 솔루션을 테스트해야 합니다. 이상적으로 시험 배포는 계획한 솔루션의 축소된 버전입니다.
  
Woodgrove National Bank에서는 경험이 많은 사용자를 위한 초기 시험 프로그램과 광범위한 참가자로 구성된 일반적인 시험 프로그램을 차례로 구현했습니다. Woodgrove IT 팀은 시험 프로그램을 모니터하고 그 결과를 사용해 최종 디자인을 수정했습니다.  
  
#### 고가용성 보장
  
Woodgrove National Bank는 전 세계에 지사를 두고 있는 글로벌 기업이므로 솔루션 시나리오의 안정성이 높아야 합니다. 따라서 Woodgrove National Bank는 다음을 포함한 가용성 조항을 고려해야 합니다.
  
-   로드 균형 조정된 여러 개의 VPN 서버
  
-   로드 균형 조정된 IAS 서버
  
-   내결함성이 있는 소프트웨어 업데이트 및 바이러스 백신 업데이트 서버
  
-   라우터나 스위치 오류로 인해 내부 서버에 대한 액세스가 금지되지 않도록 하는 중복된 내부 네트워크 경로
  
Woodgrove IT는 Microsoft Application Center 2000을 사용하여 웹 사이트에 대한 웹 응용 프로그램 클러스터 및 NLB(네트워크 로드 균형 조정)를 지원합니다. 응용 프로그램 센터 및 NLB는 인터넷 업데이트 서버에 대한 내결함성을 제공할 수도 있습니다. Woodgrove National Bank는 Windows Server 2003 Enterprise Edition의 표준 기능인 NLB를 사용하여 IAS 서버의 로드 균형을 조정합니다.
  
#### 적절한 네트워크 대역폭 보장
  
시스템 설계자는 기존 네트워크 경로, 예상 연결 시간 및 예상되는 원격 액세스 트래픽의 종류와 범위를 고려해야 합니다. 원격 액세스 사용자에게 필요한 추가 대역폭을 과소 평가하면 안 됩니다.
  
시험 배포는 원격 액세스 트래픽과 기존 인프라에 어떤 영향을 줄 수 있는지 등을 분석하는 데 도움이 되어야 합니다. 서비스가 불량하면 솔루션이 실패할 수 있으므로 평가판은 정상적인 사용법을 따르는 일반 작업자가 사용해야 합니다. 대역폭 프로파일링을 통합하는 네트워크 스위치는 다른 사용자의 원격 액세스 트래픽 효과를 감소시킬 수 있습니다.
  
Woodgrove National Bank는 대역폭이 높은 우수한 인터넷 연결을 보유하고 있습니다. 기존 대역폭의 대부분을 웹 검색 및 전자 메일의 내부 액세스에 사용하므로 추가 원격 액세스 트래픽을 처리하기 위해 조정이 필요할 수도 있습니다.
  
#### 예외 및 제외 처리
  
Woodgrove National Bank의 시스템 설계자들은 모든 솔루션이 비즈니스 요구에 따라 장치에 차단 요구 사항에 대한 일시적 예외를 부여해야 하는 경우를 해결해야 한다는 점을 잘 알고 있습니다. 예를 들어 IT 팀의 경우 중요한 회의 중에 관리 액세스에 대한 예외를 제공해야 합니다. 따라서 VPN 액세스 솔루션은 예외를 지원해야 합니다.
  
단일 컴퓨터 예외를 제공하지 못하면 관리자가 원격 액세스 요구 사항을 제거해야 할 수 있습니다. 조직에서 개별 예외를 해결할 수 있는 경우에만 IT 팀에서 솔루션을 배포할 수 있습니다.
  
**참고:** Woodgrove IT 보안 그룹은 업무상 예외가 보안 위험보다 더 중요한 경우를 결정하는 유일한 기관이어야 합니다.
  
조직에서는 다음 예외 시나리오를 고려해야 합니다.
  
-   **도메인이 아닌 구성원**. 회사에서는 도메인의 구성원이 아닌 원격 클라이언트가 네트워크에 액세스하도록 허용할 수 있습니다. 그러나 이러한 예외의 경우 다른 다수의 보안 및 기타 관리 옵션에서 그룹 정책을 요구하기 때문에 추가 관리 오버헤드가 발생합니다. 그룹 정책은 도메인의 구성원인 컴퓨터에서만 사용할 수 있습니다.
  
-   **도메인 로그온 옵션**. 도메인에 가입된 컴퓨터의 사용자가 연결 관리자를 사용하여 로그온할 때 Windows 로그온 옵션을 선택하지 않으면 Windows가 캐시된 자격 증명을 통해 사용자를 로그온합니다. 캐시된 자격 증명은 암호가 변경되거나 만료되면 인증에 실패합니다.
  
-   **응용 프로그램 시간 제한**. 컴퓨터가 너무 오래 차단 상태에 있으면 응용 프로그램이 실패할 수 있으며 지연으로 인해 응용 프로그램이 제한 시간을 초과하게 됩니다. 이로 인해 데이터가 손상될 수도 있습니다.
  
이 마지막 문제를 해결하기 위해 원격 액세스 클라이언트가 차단된 동안 응용 프로그램의 트래픽이 예상대로 작동할 수 있도록 하는 입력 패킷 필터를 만들 수 있습니다. 이 방법의 단점은 응용 프로그램의 네트워크 트래픽을 확인하고 추가 패킷 필터를 만들기 위해 오버헤드가 발생한다는 점입니다.
  
차단 패킷 파일의 수를 최소로 유지하고 터널 전 사용자 지정 작업을 사용하여 이 문제를 해결하는 것이 좋습니다. 잘못된 차단 패킷 필터를 구현하면 도메인 컨트롤러가 차단 네트워크에 노출될 수 있습니다.
  
응용 프로그램을 차단 네트워크에 연결할 때 응용 프로그램에 발생할 수 있는 지연을 경감시킬 수 있는 특정 구성도 있습니다. 비록 Microsoft에서 네트워크를 노출시키는 구성을 권장하지는 않지만 조직에서 필수 응용 프로그램에 대한 해결 방법을 제공해야 합니다. 다음과 같은 해결 방법을 고려해 보십시오.
  
-   사용자 피드백 제공
  
-   차단 세션 시간 제한만 사용
  
-   즉각적인 알림 사용
  
##### 사용자 피드백 제공
  
연결 관리자 인터페이스를 통해 피드백을 제공하여 사용자가 연결 과정의 어느 지점에 있는지 알려 줄 수 있습니다. 이렇게 하면 아무런 변화가 일어나지 않을 때 사용자가 느끼는 혼란을 완화시킬 수 있습니다.
  
##### 차단 세션 시간 제한만 사용
  
이 구성에서는 MS-Quarantine-IPFilter 특성이 아닌 MS-Quarantine-Session-Timeout 특성을 설정해야 합니다. 원격 액세스 서버는 원격 액세스 클라이언트에게 차단 패킷 필터에서 제한하지 않는 정상적인 액세스를 즉시 허용합니다. 그러나 원격 액세스 클라이언트는 네트워크 정책 준수를 알려 주는 알림 메시지를 계속 보내야 합니다. 원격 액세스 서버는 차단 세션 시간 제한이 만료되기 전에 알림을 보내지 않는 경우 클라이언트 컴퓨터와 연결을 끊습니다.
  
이 구성의 장점은 차단 패킷 필터를 구성하지 않아도 되며 응용 프로그램 지연 문제가 발생하지 않는다는 점입니다. 원격 액세스는 차단이 없을 때와 동일한 방식으로 이루어집니다. 이 구성의 단점은 원격 액세스 클라이언트가 네트워크 정책을 준수하지 않는 경우에도 원격 액세스 서버가 차단 세션 제한 시간 동안 원격 액세스 클라이언트에 정상적인 네트워크 액세스를 허용한다는 점입니다. 이 경우는 확실한 보안 허점을 드러냅니다.
  
##### 즉각적인 알림 사용
  
이 구성에서 차단 스크립트는 RQC.exe를 실행하여 테스트가 완료되기 전에 알림을 보냅니다. 원격 액세스 서버가 연결에서 차단 제한을 제거하고 원격 액세스 클라이언트는 즉시 정상적으로 액세스할 수 있습니다. 차단 스크립트 내에서 네트워크 정책 확인 테스트는 계속해서 실행됩니다. 테스트 중 하나라도 실패하면 차단 스크립트가 사용자에게 필요한 수정 작업을 알려 주고 차단 모드 및 차단 세션 타이머 사용을 에뮬레이션하며 특정 시간이 지난 뒤 사용자 연결을 자동으로 끊습니다.
  
**참고:** 이 구성에서는 컴퓨터에 오래된 연결 관리자 패키지나 스크립트가 있는 경우 MS-Quarantine-Session-Timeout 또는 MS-Quarantine-IPFilter 특성이 필요한 차단 제한을 제공하도록 계속해서 구성할 수 있습니다.
  
즉각적인 알림을 사용할 때의 이점은 응용 프로그램 지연 문제가 없다는 것입니다. 원격 액세스는 차단이 없는 경우와 같은 방식으로 발생합니다. 그러나 권장하는 방법은 아닙니다.
  
#### 최상의 방법 적용
  
이 섹션에서는 Woodgrove 솔루션의 주요한 최상의 방법을 몇 가지 제공합니다. 최상의 방법은 다음과 같습니다.
  
-   모든 트래픽 차단 정책 사용
  
-   전화 접속 연결을 사용하는 로그온 지원
  
-   필수 보안 검사에 터널 전 사용자 지정 작업 사용
  
-   클라이언트 패키지에 사용이 허가된 소프트웨어 포함
  
##### 모든 트래픽 차단 정책 사용
  
연결 시 DHCP 서버는 클라이언트에 IP 주소를 할당합니다. 클라이언트 알림 구성 요소(RQC.exe)는 공유 키를 원격 액세스 서버에 있는 서버 수신(RQS.exe) 구성 요소로 전달합니다. RQS는 원격 액세스 서버의 내부 IP 주소만 수신합니다. 이 IP 주소는 차단 정책이 통신을 허용하는 유일한 IP 주소입니다. IP 필터는 RQS가 RQC로부터 공유 키를 받을 때까지 다른 모든 트래픽을 차단해야 하며 원격 액세스 서버는 차단을 무시합니다.
  
##### 전화 접속 연결을 사용하는 로그온 지원
  
사용자가 Windows 로그온 옵션 **전화 접속을 사용하여 로그온**을 선택하면 VPN 클라이언트가 LAN 클라이언트와 거의 같은 방식으로 그룹 정책 새로 고침을 받을 수 있습니다. 이 설정을 선택하면 내부 및 원격 클라이언트를 통합된 방식으로 관리할 수 있습니다.
  
**참고:** 시작 스크립트 및 컴퓨터 소프트웨어 할당을 전화 접속 연결을 통해 적용할 수 있는 방법은 없습니다.
  
이 옵션을 선택하면 사용자가 암호 만료에 대한 알림을 받을 수 있으며 컴퓨터에서 필요할 경우 컴퓨터 계정을 새로 고칠 수 있습니다. 그룹 정책 설정은 연결 과정 후 원격 클라이언트에 적용되므로 연결 관리자에서 첫 번째 연결 후 작업은 VPN 차단을 제거하는 작업이어야 합니다. 차단 제거가 지연되면 그룹 정책 새로 고침, 암호 만료 알림 및 컴퓨터 계정 새로 고침이 실패할 수 있습니다.
  
그룹 정책 **저속 연결 검색** 설정을 모든 클라이언트에 적용되는 최소 하나의 그룹 정책 개체에서 사용하지 않도록 설정한 경우 그룹 정책 설정을 VPN 클라이언트 및 LAN 클라이언트에 동일하게 적용할 수 있습니다. 조직에서는 구현을 고려하기 전에 이 설정의 전체적인 영향을 테스트하고 철저하게 평가해야 합니다. 절대적으로 필요할 경우에만 이 옵션을 구현해야 합니다. 그룹 정책 설정에 대한 자세한 내용은 www.microsoft.com/windowsserver2003/techinfo/overview/gpintro.mspx에서 [Introduction to Group Policy in Windows Server 2003 (영문)](http://www.microsoft.com/windowsserver2003/techinfo/overview/gpintro.mspx)을 참조하십시오.
  
저속 연결 검색에 대한 자세한 내용은 www.microsoft.com/resources/documentation/WindowsServ/2003/all/deployguide/en-us/dmebb\_gpu\_fvfu.asp에서 [Specifying Group Policy for Slow Link Detection (영문)](http://www.microsoft.com/resources/documentation/windowsserv/2003/all/deployguide/en-us/dmebb_gpu_fvfu.asp)을 참조하십시오.
  
##### 필수 보안 검사에 터널 전 사용자 지정 작업 사용
  
차단 모드에서 불필요한 지연을 방지하려면 모든 보안 검사를 터널 전 사용자 지정 작업으로 수행하십시오. 원격 액세스 클라이언트가 연결 전에 이러한 업데이트를 처리할 경우 사용자가 더욱 편리하게 작업할 수 있습니다.
  
##### 클라이언트 패키지에 사용이 허가된 소프트웨어 포함
  
조직에서는 원격 컴퓨터가 연결에 필요한 사용이 허가된 모든 소프트웨어를 갖추고 있는지 확인해야 합니다. 이 소프트웨어를 연결 관리자 패키지의 일부로 배포하여 지원 호출 및 구성 문제를 줄여야 합니다.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
### 모니터링 및 관리 구현
  
VPN 차단 솔루션에서는 해당 경보 및 임계값의 할당 및 모니터링을 허용하여 솔루션의 운영 상태를 모니터해야 합니다. 이 솔루션은 전체 네트워크, 단일 자산 또는 자산 목록을 실시간으로 모니터하는 기능을 제공해야 합니다. 모니터할 때 운영 지원 서비스를 보유한 조직에서 요구하는 표시기가 나타나야 합니다. 이 요구 사항을 만족하지 않으면 보안 부서에서 솔루션이 원격 액세스 연결의 보안을 유지하는지 확인할 수 없습니다.
  
#### 차단 작업 모니터
  
다음 섹션에는 VPN 차단 작업을 모니터할 때 고려해야 할 몇 가지 추가 사항을 제공합니다. 여기에는 다음이 포함됩니다.
  
-   대규모 조직에서 원격 클라이언트 문제를 해결할 때 시간대가 다른 여러 팀 사이에서 밀접한 협력이 이루어지도록 합니다. 엄격한 테스트와 적절한 시험 서비스 배포는 문제 해결 요구 사항을 줄이는 데 도움이 됩니다.
  
-   원격 액세스 시나리오, 보안 위협 및 이 둘 사이의 관계를 완벽하게 이해합니다. 경영진에서는 가장 많은 보호를 필요로 하는 자산의 우선 순위를 정하고 비용과 위험 간의 적절한 균형을 결정해야 합니다.
  
-   설치 과정 및 CD 배포 같은 기술 과제를 예측합니다. 계획 과정 내에서 추가 엔터프라이즈 관리 도구가 필요한지 고려합니다.
  
-   미리 잠재적인 성능 문제를 모니터 및 관리하고 사용자의 기대치를 설정합니다. 예를 들어 최근에 원격 액세스를 사용하여 네트워크에 로그온한 적이 없는 원격 사용자의 경우 Windows 로그온 옵션을 사용하면 로그온 시간이 길어질 수 있습니다. 클라이언트에서 서비스 팩을 필요로 하는 경우 클라이언트의 연결 속도에 따라 로그온하는 데 몇 시간까지 걸릴 수 있습니다. Woodgrove IT 팀에서는 사용자에게 전자 메일을 보내고 CD 배송을 선택할 수 있게 하거나 다운로드 사이트를 사용하여 이러한 지연을 방지할 수 있습니다.
  
-   서버 및 클라이언트 컴퓨터의 전체 프로젝트 디자인 과정 초기에 최신 기술로 업그레이드합니다. 이렇게 하면 기준이 되는 솔루션 플랫폼이 제공되므로 솔루션 배포 중 조직에 발생할 수 있는 다양한 문제가 대부분 제거됩니다. 이 덕분에 서비스의 안정성이 향상되고 사용자 지원 비용이 줄어듭니다.
  
-   프로젝트를 여러 단계로 나누어 구현하면 사용자 적용, 네트워크 시스템 및 프로세스의 안정화, 미세 조정 등의 단계 사이에 충분한 시간이 주어집니다. 겹치는 단계는 서비스 사용자에게 악영향을 미칠 수 있습니다. 서비스 내에서 문제를 확인하고 격리할 때 발생하는 어려움도 크게 증가할 수 있습니다.
  
-   직원의 가정용 컴퓨터는 개인 재산이며 회사 IT에서 관리하지 않는다는 것을 기억하십시오. 직원이 해당 컴퓨터에서 원격 액세스를 위해 필요한 소프트웨어 및 하드웨어 솔루션을 설치하지 않거나 설치할 수 없는 경우 다른 옵션을 사용할 수 있습니다. 예를 들어 Microsoft Outlook Web Access에서는 직원들이 개인 데이터(전자 메일, 연락처, 작업 및 일정 기능) 및 Microsoft Exchange Server 2003의 공용 폴더에 암호화된 방식으로 연결할 수 있는 전 세계적인 보안 대체 방식을 제공합니다.
  
#### 솔루션 확장
  
VPN 차단 솔루션을 사용해도 다른 사람이 사용자의 자격 증명을 도용한 뒤 네트워크에 로그온하려는 시도를 막을 수는 없습니다. 이러한 문제가 발생할 확률을 줄이려면 스마트 카드에 포함된 디지털 인증서를 사용하도록 솔루션을 확장하는 방법을 고려해 보십시오.
  
스마트 카드 같이 이중 인증 메커니즘을 사용하여 원격 액세스 연결을 인증하면 네트워크의 보안이 향상되는 동시에 더욱 많은 직원이 원격 위치에서 작업하는 이점을 누릴 수 있습니다. 스마트 카드를 구현하려면 EAP-TLS(Extensible Authentication Protocol – Transport level Security) 프로토콜이 있어야 합니다.
  
Woodgrove National Bank에서는 이미 안정된 PKI(공용 키 인프라)를 구축하고 있으므로 스마트 카드를 포함하도록 원격 액세스 솔루션을 확장할 수 있습니다. 이중 인증을 계획하는 방법에 대한 자세한 내용은 http://www.microsoft.com/korea/technet/security/topics/networksecurity/securesmartcards/default.mspx에서 [The Secure Access Using Smart Cards Planning Guide](http://www.microsoft.com/korea/technet/security/topics/networksecurity/securesmartcards/default.mspx)를 참조하십시오.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
### 요약
  
Windows Server 2003 SP1의 새 기능을 사용하면 안정적이고 완벽하게 지원되는 방법을 통해 조직에서 VPN 차단을 구현할 수 있습니다. VPN 차단 배포를 적절히 계획해야만 원격 사용자에게 제공되는 서비스가 불필요하게 중단되는 문제를 방지할 수 있습니다. 이 가이드에서는 VPN 차단 구현 계획과 관련된 요인 및 프로세스를 고려하고 Woodgrove National Bank에서 자사 네트워크에 이 솔루션을 구현한 방법을 설명했습니다. VPN 차단을 구현하는 방법에 대한 자세한 내용은 이 문서의 부록 C "관련 링크"를 참조하십시오.
  
[](#mainsection)[페이지 위쪽](#mainsection)
  
##### Download
  
[Microsoft 가상 사설망으로 차단 서비스 구현 계획 가이드 (영문)](http://go.microsoft.com/fwlink/?linkid=41308)
  
[](#mainsection)[페이지 위쪽](#mainsection)

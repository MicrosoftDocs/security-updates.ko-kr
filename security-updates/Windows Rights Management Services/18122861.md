---
TOCTitle: 성능 최적화
Title: 성능 최적화
ms:assetid: '24dc9ca4-652b-41a6-9a99-95fdeca9120b'
ms:contentKeyID: 18122861
ms:mtpsurl: 'https://technet.microsoft.com/ko-kr/library/Cc720220(v=WS.10)'
---

성능 최적화
===========

이 섹션에 있는 항목에서는 RMS 배포의 성능 최적화에 대한 정보를 제공합니다.

디렉터리 서비스 성능 최적화
---------------------------

RMS에 포함되어 있는 디렉터리 서비스 성능 카운터를 모니터링할 수 있습니다. 필요한 경우 Active Directory 캐시의 속성을 제어하는 레지스트리 설정을 수정하여 성능을 최적화할 수 있습니다.

레지스트리 설정은 Active Directory 캐시의 다음 속성을 제어합니다.

-   캐시할 최대 사용자 수
-   사용자에 대해 캐시된 정보의 유효 기간
-   캐시할 최대 그룹 수
-   그룹에 대해 캐시된 정보의 유효 기간
-   최대 그룹 구성원 항목 수
-   그룹 구성원에 대해 캐시된 정보의 유효 기간

일반적으로 캐시된 정보의 유효 기간이 길어 질수록 또는 캐시에 있는 항목 수가 많아 질수록, 디렉터리 서비스 정보를 얻고자 하는 요청에 대한 RMS의 응답 속도는 더욱 빨라집니다. Active Directory 캐시에 정보가 저장되면 조회를 수행하기 위해 Active Directory로 왕복하는 과정이 필요 없습니다. 그렇기 때문에 요청에 대한 응답 시간이 줄어듭니다.

Active Directory 캐시에 많은 정보를 저장하면 그만큼 시스템 메모리 리소스가 많이 사용됩니다. 레지스트리 설정을 구성할 때에는 항목에 지정된 유효 기간이 길어 질수록 Active Directory 캐시에서 반환되는 결과 중 일부가 올바르지 않을 가능성이 커질 수 있다는 점도 고려해야 합니다. Active Directory에서 정보가 변경되었지만 Active Directory 캐시에서 해당 변경 사항이 아직 반영되지 않은 경우에 이러한 문제가 발생될 수 있습니다. Active Directory가 자주 변경될 경우에는 변경된 내용이 자주 반영되도록 캐시에 저장된 정보에 대한 유효 기간을 보다 짧게 지정할 수 있습니다.

디렉터리 서비스 성능 카운터는 이 항목 뒷부분의 "[RMS: DirectoryServices 성능 카운터](https://technet.microsoft.com/37afea1d-f320-4040-96d8-57c0b45e6d46)"에 설명되어 있습니다. 디렉터리 서비스 성능 카운터 사용에 대한 설명은 이 항목 앞부분의 "[성능 카운터 사용](https://technet.microsoft.com/096c3b17-c082-46c4-939c-4373af0c9dec)"을 참조하십시오. 모니터링할 카운터는 "적중" 대 "누락"입니다. RMS는 누락마다 Active Directory 조회를 수행해야 합니다.

레지스트리 설정에 대한 자세한 내용과 레지스트리 설정 수정에 대한 관련 내용은 이 항목 뒷부분의 "[Active Directory 캐시 설정 변경](https://technet.microsoft.com/8789a7a5-2065-4fae-9104-e0a70f1f2fb6)"을 참조하십시오.

Active Directory 연결 풀 설정 최적화
------------------------------------

시스템 성능을 향상시키려면 Active Directory LDAP(Lightweight Directory Access Protocol) 연결 풀 설정을 제어하는 레지스트리 키를 추가하고 수정합니다. 레지스트리 키 구성 방법은 이 항목 뒷부분의 "[연결 풀 레지스트리 설정 변경](https://technet.microsoft.com/c61d91db-a1ad-4ca5-a492-015da629afbc)"에 설명되어 있습니다.

RMS는 LDAP 연결을 최적화하도록 설계되어 있습니다. 모든 Active Directory 글로벌 카탈로그에 대해 하나의 연결을 설정하며 각 연결에서 여러 스레드를 처리할 수 있습니다. 견고성을 제공하기 위해 RMS는 요청을 처리할 연결 풀을 유지 관리합니다. 단일 글로벌 카탈로그에 로드가 많이 걸리지 않도록 RMS는 쿼리할 글로벌 카탈로그 목록에 있는 글로벌 카탈로그 간의 로드 균형을 조정하여 요청을 분산하는 알고리즘을 사용합니다. 또한 LDAP 오류를 자동으로 처리하고 필요에 따라 다른 글로벌 카탈로그로 요청을 다시 라우팅합니다.

RMS는 토폴로지 검색 알고리즘을 사용하여 쿼리할 글로벌 카탈로그 목록을 만듭니다. RMS 서비스를 시작하기 전에 토폴로지 검색이 찾아야 하는 사용 가능한 글로벌 카탈로그의 최소 수와 최대 수를 지정할 수 있습니다. 토폴로지 검색은 먼저 현재 사이트에 있는 글로벌 카탈로그를 검색합니다. 추가 글로벌 카탈로그가 필요한 경우 토폴로지 검색이 다른 사이트에 있는 글로벌 카탈로그를 검색합니다. RMS의 요청 수락이 중지되기 전에 사용할 수 없게 되는 최대 연결 수를 지정할 수도 있습니다. 쿼리 목록에 있는 하나 이상의 글로벌 카탈로그가 나중에 사용할 수 없게 되면 토폴로지 검색이 쿼리 목록에 추가할 대체 글로벌 카탈로그를 검색하기 시작합니다.

또는 RMS에서 사용할 글로벌 카탈로그를 나열할 수도 있습니다. 이 경우 토폴로지 검색은 쿼리 목록에 추가할 글로벌 카탈로그를 검색하지 않습니다.

RMS에서 글로벌 카탈로그 간의 로드 균형을 조정하는 방법에 대한 설정을 구성할 수도 있습니다. 특정 글로벌 카탈로그에 특정 요청을 보낼지를 결정할 때 다음 고려 사항의 상대적 중요도를 지정할 수 있습니다.

-   **라운드 로빈(WtRoundRobin)**. 이 매개 변수는 라운드 로빈 논리를 사용하는 로드 균형 조정의 상대적 중요도를 지정합니다. 기본 가중치 설정은 1이며 서버에서 글로벌 카탈로그를 선택할 때 계정에 가장 낮은 중요도를 부여한다는 것을 의미합니다.
-   **연결되어 있는 동안 스레드 수(WtThreadCount)**. 이 매개 변수는 연결에 할당된 스레드 수의 상대적 중요도를 지정합니다. 기본 가중치 설정은 100이며 선택될 연결의 경우 글로벌 카탈로그의 스레드 수가 적은 것이 라운드 로빈 논리를 사용하여 로드 균형을 조정하는 것보다 100배나 더 중요함을 의미합니다.
-   **저속 연결(WtSlow)**. 이 매개 변수는 저속 연결의 상대적 중요도를 지정합니다. 기본 가중치 설정은 1,000이며 선택할 글로벌 카탈로그 연결의 경우 해당 연결이 느리지 않다는 것이 스레드 수가 적은 것보다 10배나 더 중요함을 의미합니다.

---
TOCTitle: 'Data Encryption Toolkit for Mobile PCs 2장: BitLocker 드라이브 암호화'
Title: 'Data Encryption Toolkit for Mobile PCs 2장: BitLocker 드라이브 암호화'
ms:assetid: '4e6ce820-fcac-495a-9f23-73d65d846638'
ms:contentKeyID: 20213896
ms:mtpsurl: 'https://technet.microsoft.com/ko-kr/library/Cc162804(v=TechNet.10)'
---

Data Encryption Toolkit for Mobile PCs - 보안 분석
==================================================

### 2장: BitLocker 드라이브 암호화

게시 날짜: 2007년 4월 4일

Microsoft® BitLocker™ 드라이브 암호화는 Windows Vista™ 운영 체제의 Enterprise 및 Ultimate 버전에서 제공하는 새로운 통합 보안 기능으로, 컴퓨터에서 강력한 오프라인 데이터 및 운영 체제 보호 기능을 제공합니다.

전체 볼륨 암호화 기술인 BitLocker는 Windows Vista 실행 컴퓨터의 운영 체제가 오프라인일 때 해당 컴퓨터가 무단 변경되는 경우 컴퓨터에 저장된 데이터가 노출되지 않도록 합니다. BitLocker는 호환 TPM(Trusted Platform Module) 마이크로칩과 BIOS를 가진 시스템을 위해 설계되었습니다. BitLocker는 이러한 구성 요소를 사용하여 보다 향상된 데이터 보호 기능을 제공하고 초기 부팅 구성 요소 무결성을 보장합니다. 이 기능은 볼륨 전체를 암호화함으로써 도난 또는 무단 유출로부터 데이터를 보호하는 데 도움을 줍니다.

TPM은 일반적으로 컴퓨터 마더보드에 설치되며 하드웨어 버스를 사용하여 컴퓨터의 나머지 부분과 통신합니다. TPM이 포함된 컴퓨터는 TPM에 의해서만 해독할 수 있는 암호화 키를 생성하고 이를 암호화할 수 있는 기능을 갖고 있습니다. 종종 키 *래핑* 또는 *바인딩*이라고도 하는 이 과정은 키가 노출되지 않도록 보호합니다. 각 TPM에는 SRK(Storage Root Key)라고 하는 마스터 래핑 키가 있으며 TPM 자체에 저장됩니다. TPM에서 생성된 키 쌍의 개인 부분은 절대 다른 구성 요소, 소프트웨어, 프로세서 또는 사람에게 노출되지 않습니다.

BitLocker는 다음과 같은 두 가지 기본 기능을 제공합니다.

-   운영 체제 볼륨의 내용을 암호화하여 컴퓨터별 암호화 기능을 제공합니다. 볼륨을 제거한 공격자는 키를 확보하지 않는 한 이를 읽을 수 없으므로, 그 다음에는 복구 인프라 또는 원래 컴퓨터의 TPM을 공격해야 합니다.

-   Windows Vista가 사용하는 파일, 부트 섹터 및 사용 중인 파일에 이전에 할당된 슬랙 공간을 포함하여 보호되는 볼륨의 내용 전체를 암호화함으로써 전체 볼륨 암호화 기능을 제공합니다. 공격자는 키를 복구하지 않으면 디스크의 어떠한 부분도 분석할 수 없고 유용한 정보를 얻기 어렵습니다.

복구 메커니즘은 복구가 필요한 합당한 조건을 갖춘 권한이 부여된 사용자에게 존재합니다. 예를 들어 필수 업그레이드로 인해 또는 운영 체제 볼륨이 들어 있는 하드 디스크 드라이브를 다른 컴퓨터로 이동함으로써 TPM이 검증에 실패한 경우 시스템은 복구 모드를 시작하고 사용자는 USB 장치 또는 Active Directory® 디렉터리에 저장된 복구 키를 사용하여 볼륨에 다시 액세스할 수 있습니다.

복구 프로세스는 모든 BitLocker 시나리오에 대해 동일합니다. 복구 키가 물리적으로 컴퓨터와 분리되어 있고(따라서 컴퓨터와 함께 분실되지 않음) 공격이 도메인 관리자와 같은 사람에 의한 내부자 공격이 아닌 경우 복구 키에 대한 공격은 매우 어렵습니다.

BitLocker가 보호된 운영 체제 볼륨에 대한 액세스를 인증한 다음 데이터가 보호된 볼륨에 기록되거나 보호된 볼륨의 데이터를 읽을 때 BitLocker 파일 시스템 필터 드라이버가 FVEK(Full Volume Encryption Key)를 사용하여 디스크 섹터를 투명하게 암호화 및 해독합니다. 컴퓨터가 절전 모드가 되면 암호화된 최대 절전 모드 파일은 보호된 볼륨에 저장됩니다. 액세스 인증을 보류하는 경우 이 저장된 파일은 컴퓨터가 절전 모드에서 다시 시작될 때 해독됩니다.

BitLocker는 컴퓨팅 장치의 하드웨어 기능 및 원하는 보안 수준에 따라 다양한 옵션을 지원합니다. 이러한 옵션은 다음과 같습니다.

-   TPM이 포함된 BitLocker

-   USB(Universal Serial Bus) 장치가 포함된 BitLocker

-   TPM 및 PIN(Personal Identification Number)이 포함된 BitLocker

-   TPM 및 USB가 포함된 BitLocker

##### 이 페이지에서

[](#egaa)[BitLocker 옵션: TPM이 포함된 BitLocker](#egaa)
[](#efaa)[BitLocker 옵션: USB 장치를 사용하는 BitLocker](#efaa)
[](#eeaa)[BitLocker 옵션: TPM 및 PIN이 포함된 BitLocker](#eeaa)
[](#edaa)[BitLocker 옵션: TPM 및 USB 장치를 사용하는 BitLocker](#edaa)
[](#ecaa)[BitLocker 위험 분석 요약](#ecaa)
[](#ebaa)[자세한 정보](#ebaa)

### BitLocker 옵션: TPM이 포함된 BitLocker

TPM을 사용하는 BitLocker에는 TPM 버전 1.2 하드웨어가 장착된 컴퓨터가 필요합니다. 이 옵션은 부팅 프로세스가 어떠한 방식으로도 변경되지 않으며 추가적인 암호 또는 하드웨어가 필요하지 않으므로 사용자에게 투명합니다.

TPM 전용 인증 모드는 보안 정책을 충족하기 위해 기본 수준의 데이터 보호 기능을 필요로 하는 조직에 가장 투명한 사용자 환경을 제공합니다. TPM 전용 모드는 배포, 관리 및 사용이 가장 용이한 모드입니다. 또한 TPM 전용 모드는 무인 컴퓨터 또는 무인 상태에서 다시 시작해야 하는 컴퓨터에 더 적합합니다.

그러나 TPM 전용 모드에 의해 보호되는 데이터의 양은 가장 적습니다. 이 모드는 초기 부팅 구성 요소를 변경하는 공격에 대한 보호 기능을 제공하지만, 보호 수준은 하드웨어 또는 초기 부팅 구성 요소가 지닌 잠재적 취약성의 영향을 받을 수 있습니다. BitLocker의 다중 요소 인증 모드는 이러한 다수의 공격을 완화시킬 수 있습니다.

귀사의 일부 부서에서 모바일 컴퓨터에 매우 중요한 데이터를 보관하고 있는 경우 가장 좋은 방법으로 해당 컴퓨터에 다중 요소 인증을 사용하는 BitLocker의 배포를 고려해 보십시오. 사용자가 PIN을 입력하거나 USB 시작 키를 입력하게 함으로써 중요한 데이터를 쉽게 공격할 수 있는 가능성을 크게 감소시킬 수 있습니다.

다음 그림은 이 옵션에서의 암호 해독 과정에 대한 논리적 흐름을 보여줍니다.

![](images/Cc162804.d118f78b-f599-4be8-a53e-f1d62b9cad8c(ko-kr,TechNet.10).jpg)

**그림 2.1. TPM을 사용하는 BitLocker 해독 프로세스**

그림에 나타난 순차적 단계는 다음과 같습니다.

1.  BIOS가 시작되고 TPM을 초기화합니다. 신뢰할 수 있는/측정된 구성 요소가 TPM과의 상호 작용을 통해 구성 요소 측정 값을 TPM의 PCR(Platform Configuration Registers)에 저장합니다.

2.  PCR 값이 예상 값과 일치하면 TPM은 SRK(Storage Root Key)를 사용하여 VMK(Volume Master Key)를 해독합니다.

3.  암호화된 FVEK를 볼륨에서 읽고 이를 해독할 때 VMK를 사용합니다.

4.  디스크 섹터에 액세스할 때 FVEK를 사용하여 해독합니다.

5.  일반 텍스트 데이터가 응용 프로그램 및 프로세스에 제공됩니다.

VMK에 대한 보안은 디스크 볼륨의 데이터를 보호하는 간접적인 방법입니다. 디스크 볼륨 전체의 해독 및 재암호화는 번거로우므로, 트러스트 체인에서 업스트림인 키가 분실되거나 유출된 경우 VMK를 추가하면 손쉽게 시스템 키를 발급할 수 있습니다.

앞의 과정에서 설명한 바와 같이 BitLocker는 MBR(Master Boot Record) 코드, NTFS 부트 섹터, NTFS 부팅 블록, 부팅 관리자 및 기타 중요한 구성 요소에 대한 변화를 감지하면 볼륨 해독 및 운영 체제 로드를 중단합니다.

#### 위험 완화: TPM이 포함된 BitLocker

TPM을 사용하는 BitLocker 옵션은 데이터에 대한 다음과 같은 위험을 감소시킵니다.

-   **오프라인 공격을 통한 키 검색**. VMK는 TPM 하드웨어에 보관되는 키인 SRK를 사용하여 암호화됩니다. 그런 다음 VMK를 사용하여 FVEK를 암호화합니다. 암호화된 볼륨에 있는 데이터를 해독하려면 공격자는 무차별 대입(brute-force) 공격을 탑재하여 FVEK 값을 알아내야 합니다.

    **참고:**

    기본적으로 BitLocker는 고급 암호화 표준(Advanced Encryption Standard) AES-128 알고리즘과 강력한 128비트의 Elephant 확산기를 사용합니다. (BitLocker 보안 강화에 대한 확산기 역할의 자세한 내용은 BitLocker 드라이브 암호화 [AES-CBC + Elephant 확산기](http://www.microsoft.com/downloads/details.aspx?familyid=131dae03-39ae-48be-a8d6-8b0034c92555&displaylang=en) 백서를 참조하십시오.) 또한 AES-256과 256비트 버전의 Elephant, 일반 AES-128 또는 일반 AES-256을 사용하도록 BitLocker를 구성할 수도 있습니다. BitLocker에 사용할 암호 선택 방법의 자세한 내용은 Windows Vista 설명서를 참조하십시오.

-   **운영 체제에 대한 오프라인 공격**. 운영 체제에 대한 오프라인 공격은 공격자가 TPM으로부터 SRK를 성공적으로 복구한 다음 이를 사용하여 VMK를 해독하거나 FVEK에 대한 무차별 대입 공격을 수행해야 하기 때문에 그 가능성이 낮습니다. 또한 암호 텍스트에 대한 사소한 변경도 더 큰 영역으로 확산되기 때문에 확산기 기술(기본 설정)을 사용하도록 구성된 BitLocker는 정확하게 초점을 맞춘 이러한 공격을 완화시킵니다.

-   **최대 절전 모드 파일을 통한 일반 텍스트 데이터 유출**. BitLocker의 가장 큰 목표는 컴퓨터를 끄거나 컴퓨터가 최대 절전 모드에 있을 때 하드 디스크 드라이브의 운영 체제 볼륨에 있는 데이터를 보호하는 것입니다. BitLocker를 사용하도록 설정되어 있는 경우 최대 절전 모드 파일이 암호화됩니다.

-   **시스템 페이징 파일을 통한 일반 텍스트 데이터 유출**. BitLocker를 사용하도록 설정되어 있는 경우 시스템 페이징 파일이 암호화됩니다.

-   **사용자 오류**. BitLocker는 볼륨 전체에 대한 암호화 기술이므로 Windows Vista 운영 체제 볼륨에 저장된 모든 파일을 암호화합니다. 이 기능은 사용자가 암호화 적용 여부에 대한 결정을 잘못 내리는 실수를 방지합니다.

#### 기타 위험 및 완화 조치: TPM이 포함된 BitLocker

TPM을 사용하는 BitLocker 옵션은 추가적인 제어 및 정책을 적용하지 않으면 다음과 같은 위험 요소를 완화하지 못합니다.

-   **최대 절전 모드 상태의 컴퓨터**. 랩톱 컴퓨터가 최대 절전 모드가 되면 랩톱 컴퓨터의 상태 및 BitLocker 암호화 키가 변경되지 않습니다. 이러한 위험은 **절전 상태에서 컴퓨터를 다시 시작할 때 암호 확인(Prompt for password when computer resumes from sleep)**을 사용하도록 설정하여 완화할 수 있습니다.

-   **절전(대기) 모드 상태의 컴퓨터**. 최대 절전 모드에서와 마찬가지로 랩톱 컴퓨터가 절전 모드가 될 때 랩톱 컴퓨터 상태 및 BitLocker 암호화 키는 변경되지 않습니다. 절전 모드에서 다시 시작할 때 FVEK는 컴퓨터에 액세스할 수 있습니다. 이러한 위험은 **절전 상태에서 컴퓨터를 다시 시작할 때 암호 확인(Prompt for password when computer resumes from sleep)**을 사용하도록 설정하여 완화할 수 있습니다.

-   **로그온되고 데스크톱이 잠금 해제 상태인 컴퓨터**. 컴퓨터가 부팅되고 VMK가 개봉된 후 키보드에 액세스할 수 있는 사람은 누구든지 암호화되지 않은 데이터에 액세스할 수 있습니다. 이 위험을 가장 유용하게 완화할 수 있는 방법은 컴퓨터에 중요한 정보를 보관하는 사용자들에게 보안 인식 교육을 제공하는 것입니다.

-   **로컬/도메인 암호 검색**. TPM은 사용자 컴퓨터에 영구적으로 장착되어 있으므로 인증에 대한 두 번째 자격 증명 또는 암호화된 파일에 대한 액세스로 간주하지 않습니다. 사용자 암호가 위협을 받는 경우 암호화 솔루션 역시 위협을 받습니다. 암호를 올바르게 만들고, 다른 사람에게 알려주지 않으며 잘 보이는 곳에 적어 놓지 않도록 사용자를 교육함으로써 이러한 위험은 완화할 수 있습니다. 강력한 네트워크 암호 정책을 구현하면 손쉽게 구할 수 있는 도구를 사용하는 공격자에 의한 암호에 대한 사전 공격을 효과적으로 예방할 수 있습니다.

-   **내부자가 암호화된 데이터를 읽을 수 있음**. TPM을 사용하는 BitLocker는 컴퓨터에 있는 모든 암호화된 데이터에 액세스하기 위해 유효한 사용자 계정 암호 이외의 어떠한 자격 증명도 필요로 하지 않습니다. 따라서 컴퓨터에 로그온할 수 있는 모든 사용자 계정은 BitLocker를 사용하도록 설정되어 있지 않은 것처럼 BitLocker로 암호화된 파일의 일부 또는 모두에 액세스할 수 있습니다. 이 위험을 완화할 수 있는 가장 유용한 방법은 컴퓨터 사용 시 추가적인 인증 요소를 요구하거나 로그온 가능한 사용자에 대해 각 컴퓨터의 정책을 철저하게 통제하는 것입니다. 또한 적절한 EFS 배포를 통해 이 위험을 크게 완화할 수 있습니다.

-   **운영 체제에 대한 온라인 공격**. 운영 체제에 대한 온라인 공격은 이 옵션으로 완화되지 *않습니다*. 공격자가 볼륨을 개봉하고 정상 부팅을 실행할 수 있는 경우 운영 체제는 권한 승격 및 원격 코드 실행 공격 등의 다양한 공격을 받을 수 있습니다.

-   **플랫폼 공격**. BitLocker를 기본 모드(TPM 전용)로 구성한 컴퓨터는 별도의 BitLocker 인증 요소 없이도 Microsoft Windows® 사용자 자격 증명 인터페이스까지 운영 체제를 부팅 및 로드할 수 있습니다. 암호화된 볼륨에서 운영 체제를 로드하려면 컴퓨터는 암호 해독 키에 대한 권한 액세스를 확보해야 합니다. 이는 TPM을 사용하여 검증하는 TCB(Trusted Computing Base) 내에서 작동하므로 안전한 방식으로 수행됩니다. PCI 버스에서 DMA(Direct Memory Access)와 같은 플랫폼에 대한 공격으로 키 자료가 노출될 수 있습니다.

-   **컴퓨터의 필수 인증 요소**. TPM은 추가 보안 계층을 제공합니다. TPM 없이 봉인된 볼륨을 해독할 수 없기 때문입니다. 이 기능은 한 컴퓨터에서 다른 컴퓨터로 암호화된 볼륨을 이동하는 공격으로부터 보호합니다. 그러나 TPM을 컴퓨터에서 분리할 수 없으므로 TPM은 항상 있어야 하며 완전히 독립된 인증 요소와 동등하게 강력하지는 않습니다. TPM은 공격자가 사용자의 컴퓨터 계정 암호(TPM을 사용하는 BitLocker만 해당), 사용자의 USB 토큰 또는 사용자의 BitLocker PIN과 같은 추가 인증 요소를 발견하는 경우 보호 기능을 제공하지 못합니다.

[](#mainsection)[페이지 위쪽](#mainsection)

### BitLocker 옵션: USB 장치를 사용하는 BitLocker

BitLocker는 TPM 버전 1.2 칩이 없는 컴퓨터에서 전체 볼륨 암호화를 지원합니다. TPM이 제공하는 추가 보호 기능이 이 옵션에 없더라도 기본적인 암호화 솔루션을 필요로 하는 많은 조직에서는 강력한 사용자 계정 암호 및 절전 모드 또는 최대 절전 모드에서 컴퓨터가 다시 시작될 때 암호 확인(**Prompt for password when computer resumes from sleep or hibernate**) 설정과 같은 정책과 결합하여 사용할 때 USB 장치를 사용하는 BitLocker의 기능에 만족할 수 있습니다.

이 옵션에 TPM이 없으므로 VMK에 봉인/개봉 조작이 없습니다. 대신 VMK는 USB 장치에 있는 대칭 키를 사용하는 종래의 소프트웨어 메커니즘을 사용하여 암호화 및 해독됩니다. USB 장치가 컴퓨터에 연결된 후 BitLocker는 키를 검색하고 VMK를 해독합니다. 그런 다음 아래 그림에서와 같이 VMK를 사용하여 FVEK를 해독합니다.

![](images/Cc162804.5cc88486-b6fc-4393-9159-596ad2187ec5(ko-kr,TechNet.10).jpg)

**그림 2.2. USB 장치를 사용하는 BitLocker 해독 프로세스**

그림에 나타난 순차적 단계는 다음과 같습니다.

1.  운영 체제가 시작되고 USB 키가 들어 있는 USB 장치를 연결하라는 메시지가 사용자에게 표시됩니다.

2.  USB 장치의 키를 사용하여 VMK가 해독됩니다.

3.  암호화된 FVEK를 볼륨에서 읽고 이를 해독할 때 VMK를 사용합니다.

4.  디스크 섹터에 액세스할 때 FVEK를 사용하여 해독합니다.

5.  일반 텍스트 데이터가 응용 프로그램 및 프로세스에 제공됩니다.

#### 위험 완화: USB 장치를 사용하는 BitLocker

USB 장치를 사용하는 BitLocker 옵션은 데이터에 대한 다음과 같은 위험을 감소시킵니다.

-   **최대 절전 모드 상태의 컴퓨터**. 최대 절전 모드 후 BitLocker는 USB 장치를 사용하여 재인증을 요구합니다.

-   **로컬/도메인 암호 검색**. USB 장치를 사용하는 BitLocker는 컴퓨터의 암호화된 데이터에 액세스하기 위해 유효한 컴퓨터 계정 암호 이외에 인증 요소가 필요합니다.

-   **내부자가 암호화된 데이터를 읽을 수 있음**. 앞의 위험 완화 조치 설명과 동일합니다.

-   **오프라인 공격을 통한 키 검색**. VMK는 USB 장치의 키를 사용하여 암호화됩니다. USB 장치를 사용할 수 없는 경우, 공격자는 FVEK 값을 알아내기 위해 무차별 대입(brute-force) 공격을 탑재해야 합니다.

-   **운영 체제에 대한 오프라인 공격**. VMK는 USB 장치의 키를 사용하여 암호화됩니다. USB 장치를 사용할 수 없는 경우 공격자는 FVEK 값을 알아내기 위해 운영 체제 모듈이 들어 있는 수 천 개의 섹터의 조작에 성공해야 합니다(무차별 대입 공격에 준함). 또한 암호 텍스트에 대한 사소한 변경도 더 큰 영역으로 확산되기 때문에 확산기 기술(기본 설정)을 사용하도록 구성된 BitLocker는 정확하게 초점을 맞춘 이러한 공격을 완화시킵니다.

-   **최대 절전 모드 파일을 통한 일반 텍스트 데이터 유출**. BitLocker의 가장 큰 목표는 컴퓨터를 끄거나 컴퓨터가 최대 절전 모드에 있을 때 하드 디스크 드라이브의 운영 체제 볼륨에 있는 데이터를 보호하는 것입니다. BitLocker를 사용하도록 설정되어 있는 경우 최대 절전 모드 파일이 암호화됩니다.

-   **시스템 페이징 파일을 통한 일반 텍스트 데이터 유출**. BitLocker를 사용하도록 설정되어 있는 경우 시스템 페이징 파일이 암호화됩니다.

-   **사용자 오류**. BitLocker는 볼륨 전체에 대한 암호화 기술이므로 Windows Vista 운영 체제 볼륨에 저장된 모든 파일을 암호화합니다. 이 기능은 사용자가 암호화 적용 여부에 대한 결정을 잘못 내리는 실수를 방지합니다.

#### 기타 위험 및 완화 조치: USB 장치를 사용하는 BitLocker

USB 장치를 사용하는 BitLocker 옵션은 추가적인 제어 및 정책을 적용하지 않으면 다음과 같은 위험 요소를 완화하지 못합니다.

-   **절전(대기) 모드 상태의 컴퓨터**. 랩톱 컴퓨터가 절전 모드가 되면 랩톱 컴퓨터의 상태 및 BitLocker 암호화 키가 변경되지 않습니다. 절전 모드에서 다시 시작할 때 FVEK는 컴퓨터에 액세스할 수 있습니다. 이러한 위험은 **절전 상태에서 컴퓨터를 다시 시작할 때 암호 확인(Prompt for password when computer resumes from sleep)**을 사용하도록 설정하여 완화할 수 있습니다.

-   **로그온되고 데스크톱이 잠금 해제 상태인 컴퓨터**. 컴퓨터가 부팅되고 VMK가 개봉된 후 키보드에 액세스할 수 있는 사람은 누구든지 암호화되지 않은 데이터에 액세스할 수 있습니다. 이 위험을 가장 유용하게 완화할 수 있는 방법은 컴퓨터에 중요한 정보를 보관하는 사용자들에게 보안 인식 교육을 제공하는 것입니다.

-   **운영 체제에 대한 온라인 공격**. 운영 체제에 대한 온라인 공격은 이 옵션으로 완화되지 *않습니다*. 공격자가 부팅 시에 USB 장치를 제공하여 정상 부팅이 수행되도록 할 수 있는 경우 운영 체제는 권한 승격 및 원격 코드 실행 공격과 같은 다양한 공격에 노출될 수 있습니다.

-   **플랫폼 공격**. BitLocker 및 USB 장치를 사용하여 구성된 컴퓨터는 USB 장치에 들어 있는 키를 사용하여 Windows 사용자 자격 증명 인터페이스(Winlogon)까지 운영 체제를 부팅 및 로드합니다. PCI 버스에서의 DMA 또는 IEEE 1394 인터페이스를 통한 공격과 같은 플랫폼에 대한 모든 공격으로 인해 키 자료가 노출될 수 있습니다.

-   **컴퓨터의 필수 인증 요소**. USB 장치는 유일한 물리적 인증 요소로 암호화 솔루션은 전적으로 USB 장치에 의존합니다. 교육 받지 못한 사용자 또는 부주의한 사용자는 모바일 PC와 함께 USB 장치를 보관할 수 있고 그런 경우 도난의 위험이 있습니다. 컴퓨터와 USB 장치를 동시에 분실하는 경우의 위험은 PIN(Personal Identification Number) 또는 암호와 같은 이차적인 비물리적 인증 요소를 사용하는 위험 완화 조치를 시행함으로써 감소시킬 수 있습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

### BitLocker 옵션: TPM 및 PIN이 포함된 BitLocker

TPM 버전 1.2 칩 및 BitLocker를 지원하는 BIOS가 있는 컴퓨터는 BitLocker를 사용하여 암호화된 데이터를 해독할 때 두 가지 요소가 필요하도록 구성할 수 있습니다. 첫 번째 요소는 TPM이고 두 번째 요소는 PIN입니다.

**참고:**

보안이 중요한 조직의 경우 Microsoft는 분실되거나 공격할 외부 토큰이 없는 TPM 및 PIN을 BitLocker와 함께 사용하도록 권장합니다.

BitLocker를 사용하는 컴퓨터에 PIN 요구 사항을 추가하면 BitLocker 기술 보안이 향상되지만 사용의 편의성과 관리 기능이 저하됩니다. 이 옵션에서 사용자는 컴퓨터를 사용하기 위해 BitLocker에 대한 암호(부팅 시)와 로그온 시 컴퓨터 또는 도메인에 대한 암호의 두 가지 암호를 입력하도록 요청 받습니다. PIN은 기능 키를 통해 입력하는 숫자로 제한되고 대부분의 도메인 암호 정책은 숫자로만 구성되는 암호를 받아들이지 않으므로 두 가지 암호는 같을 수 없으며 서로 다를 것입니다.

PIN이 추가적인 보안 기능을 제공하지만 공격자가 끈질기게 시도한다면 공격 받을 수도 있습니다. BitLocker는 지역화된 키보드 지원을 사용할 수 있게 되기 전부터 PIN을 처리했으므로 기능 키(F0 - F9)만 사용할 수 있습니다. 이 기능은 키의 유사성을 제한하고 그리 빠르지는 않지만 무차별 대입 공격 가능성을 열어줍니다. 다행히 TPM PIN 메커니즘은 사전 공격을 막아낼 수 있도록 설계되었습니다. 세부적인 사항은 업체마다 다르지만, 잘못된 PIN이 입력된 후 새로운 숫자를 입력할 수 있을 때까지 시간이 크게 지연됩니다. 이러한 지연은 가능한 무차별 대입 공격의 속도를 늦추는 효과를 가져오고 이는 공격을 무효화합니다. 이러한 입력 지연을 *안티 해머링(anti-hammering)* 보호라고 합니다. 사용자들은 서로 다른 숫자가 최소 4개 포함되는 7자리의 비교적 강력한 PIN을 선택함으로써 PIN에 대한 무차별 대입 공격을 완화할 수 있습니다. 강력한 PIN 선택에 대한 자세한 내용은 MSDN [시스템 무결성 팀 블로그](http://blogs.msdn.com/si_team/archive/2006/04/10/572888.aspx)를 참조하십시오.

BitLocker의 현재 버전은 PIN 백업을 직접 지원하지 않습니다. 사용자는 두 개의 암호를 기억해야 하므로 BitLocker PIN을 잊었을 때 사용할 수 있는 BitLocker 복구 키를 만드는 것이 더 중요합니다.

다음 그림에서는 TPM 및 PIN을 사용하는 BitLocker 옵션에서의 해독 과정에 대한 논리적 흐름을 보여줍니다.

![](images/Cc162804.11056951-8e9f-4482-9ac4-bc7dac6e48a6(ko-kr,TechNet.10).jpg)

**그림 2.3. TPM 및 PIN을 사용하는 BitLocker 해독 과정**

그림에 나타난 순차적 단계는 다음과 같습니다.

1.  BIOS가 시작되고 TPM을 초기화합니다. 신뢰할 수 있는/측정된 구성 요소가 TPM과의 상호 작용을 통해 구성 요소 측정 값을 TPM의 PCR(Platform Configuration Registers)에 저장합니다. PIN을 입력하도록 사용자에게 요청합니다.

2.  PCR 값이 예상 값과 일치하고 *동시에* PIN이 올바른 경우 VMK는 SRK를 사용하여 TPM에 의해 해독됩니다.

3.  암호화된 FVEK를 볼륨에서 읽고 이를 해독할 때 VMK를 사용합니다.

4.  디스크 섹터에 액세스할 때 FVEK를 사용하여 해독합니다.

5.  일반 텍스트 데이터가 응용 프로그램 및 프로세스에 제공됩니다.

이 옵션과 기본적인 TPM을 사용하는 기본적인 BitLocker 옵션 간의 흥미로운 차이점은 VMK를 개봉하기 위해 PIN이 TPM과 결합되어 사용된다는 점입니다. 개봉 조작이 성공적으로 수행된 후 BitLocker는 기본 옵션대로 작업을 수행합니다.

#### 위험 완화: TPM 및 PIN이 포함된 BitLocker

TPM 및 PIN을 사용하는 BitLocker 옵션은 데이터에 대한 다음과 같은 위험을 감소시킵니다.

-   **최대 절전 모드 상태의 컴퓨터**. 최대 절전 모드에서 랩톱이 다시 시작될 때 사용자에게 PIN 입력을 요청하므로 TPM 및 PIN을 사용하는 BitLocker는 이러한 위험을 감소시킵니다.

-   **로컬/도메인 암호 검색**. TPM 및 PIN을 사용하는 BitLocker 옵션의 가장 큰 장점은 컴퓨터를 부팅하거나 최대 절전 모드에서 다시 시작하는 데 필요한 다른 요소 또는 자격 증명을 도입한다는 점입니다. 이 장점은 사회 공학 공격의 위험에 처해 있는 사용자나 Windows 암호를 신뢰할 수 없는 컴퓨터에서 사용하는 등 암호 사용 습관이 올바르지 않은 사용자들에게 있어 중요합니다.

-   **내부자가 암호화된 데이터를 읽을 수 있음**. 권한이 부여된 도메인 계정을 갖고 있는 사용자만 부팅되는 컴퓨터에 로그온할 수 있습니다. 권한이 부여된 도메인 계정을 갖고 있으나 추가적인 권한 인증 요소가 없는 사용자는 컴퓨터를 부팅하여 로그온할 수 없습니다. PIN을 모르면 랩톱에서 데이터를 액세스할 수 없으며, 도메인 정책으로 인해 다른 방법으로 해당 컴퓨터에 로그온할 수 있는 도메인 사용자라 하더라도 마찬가지입니다.

-   **오프라인 공격을 통한 키 검색**. VMK는 PIN과 결합된 TPM 하드웨어 내의 키를 사용하여 암호화됩니다. PIN을 모르는 경우, 공격자는 FVEK 값을 알아내기 위해 무차별 대입(brute-force) 공격을 탑재해야 합니다.

-   **운영 체제에 대한 오프라인 공격**. VMK는 PIN과 결합된 TPM 하드웨어 내의 키를 사용하여 암호화됩니다. PIN을 모르는 경우 공격자는 FVEK 값을 알아내기 위해 무차별 대입 오프라인 공격을 탑재해야 하고 FVEK 값을 사용해야 볼륨을 해독하고 운영 체제 파일을 공격할 수 있습니다.

-   **최대 절전 모드 파일을 통한 일반 텍스트 데이터 유출**. BitLocker의 가장 큰 목표는 컴퓨터를 끄거나 컴퓨터가 최대 절전 모드에 있을 때 하드 디스크 드라이브의 운영 체제 볼륨에 있는 데이터를 보호하는 것입니다. BitLocker를 사용하도록 설정되어 있는 경우 최대 절전 모드 파일이 암호화됩니다.

-   **시스템 페이징 파일을 통한 일반 텍스트 데이터 유출**. BitLocker를 사용하도록 설정되어 있는 경우 시스템 페이징 파일이 암호화됩니다.

-   **컴퓨터의 필수 인증 요소**. PIN은 컴퓨터와 함께 분실되어서는 안 되는 비물리적 이차 인증 요소이므로, 메모지 등에 기록해 놓아야 합니다.

-   **사용자 오류**. BitLocker는 볼륨 전체에 대한 암호화 기술이므로 Windows Vista 운영 체제 볼륨에 저장된 모든 파일을 암호화합니다. 이 기능은 사용자가 암호화 적용 여부에 대한 결정을 잘못 내리는 실수를 방지합니다.

#### 기타 위험 및 완화 조치: TPM 및 PIN이 포함된 BitLocker

TPM 및 PIN을 사용하는 BitLocker 옵션은 추가적인 제어 및 정책을 적용하지 않으면 다음과 같은 위험 요소를 완화하지 못합니다.

-   **절전(대기) 모드 상태의 컴퓨터**. 랩톱 컴퓨터가 절전 모드가 되면 랩톱 컴퓨터의 상태 및 BitLocker 암호화 키가 변경되지 않습니다. 절전 모드에서 다시 시작할 때 FVEK는 컴퓨터에 액세스할 수 있습니다. 이러한 위험은 **절전 상태에서 컴퓨터를 다시 시작할 때 암호 확인(Prompt for password when computer resumes from sleep)**을 사용하도록 설정하여 완화할 수 있습니다.

-   **로그온되고 데스크톱이 잠금 해제 상태인 컴퓨터**. 컴퓨터가 부팅되고 VMK가 개봉된 후 키보드에 액세스할 수 있는 사람은 누구든지 암호화되지 않은 데이터에 액세스할 수 있습니다. 이 위험을 가장 유용하게 완화할 수 있는 방법은 컴퓨터에 중요한 정보를 보관하는 사용자들에게 보안 인식 교육을 제공하는 것입니다.

-   **운영 체제에 대한 온라인 공격**. 운영 체제에 대한 온라인 공격은 이 옵션으로 완화되지 *않습니다*.

-   **플랫폼 공격**. BitLocker, TPM 및 사용자 PIN을 사용하여 구성된 컴퓨터는 사용자 PIN이 입력된 후 Windows 사용자 자격 증명 인터페이스(Winlogon)까지 운영 체제를 부팅 및 로드합니다. 사용자가 PIN을 입력할 때까지 플랫폼 공격은 키 자료를 복구하지 못합니다. PIN이 입력된 후 이러한 공격으로 키 자료가 노출될 수 있습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

### BitLocker 옵션: TPM 및 USB 장치를 사용하는 BitLocker

이전 옵션에서 BitLocker는 TPM과 함께 권한 인증의 2차 요소로 PIN을 사용하도록 구성되었습니다. PIN 대신 USB 장치 사용도 가능합니다. 이 옵션에서 부팅 시 또는 최대 절전 모드에서 다시 시작할 때 USB 장치를 연결하라는 메시지가 사용자에게 표시됩니다.

다음 그림에서는 TPM 및 USB을 사용하는 BitLocker 옵션에서의 해독 과정에 대한 논리적 흐름을 보여줍니다.

![](images/Cc162804.da7b15a1-1d74-4a40-86b4-adb3720183c5(ko-kr,TechNet.10).jpg)

**그림 2.4. TPM 및 USB 장치를 사용하는 BitLocker 해독 과정**

그림에 나타난 순차적 단계는 다음과 같습니다.

1.  BIOS가 시작되고 TPM을 초기화합니다. 신뢰할 수 있는/측정된 구성 요소가 TPM과의 상호 작용을 통해 구성 요소 측정 값을 TPM의 PCR(Platform Configuration Registers)에 저장합니다.

2.  BitLocker 키가 들어 있는 USB 장치를 연결하라는 메시지가 사용자에게 표시됩니다.

3.  PCR 값이 예상한 값과 일치하는 경우 중간 키는 SRK를 사용하여 TPM에 의해 해독됩니다. 이 중간 키는 USB 장치에 있는 키와 결합하여 VMK 해독에 사용되는 다른 중간 키를 만들어냅니다.

4.  암호화된 FVEK를 볼륨에서 읽고 이를 해독할 때 VMK를 사용합니다.

5.  디스크 섹터에 액세스할 때 FVEK를 사용하여 해독합니다.

6.  일반 텍스트 데이터가 응용 프로그램 및 프로세스에 제공됩니다.

이 옵션은 USB에 저장되어 있는 키 자료가 TPM 키와 결합되어 VMK를 해독한다는 점에서 기본적인 TPM을 사용하는 BitLocker 또는 TPM 및 PIN을 사용하는 BitLocker 옵션과 다릅니다. 개봉 조작이 성공적으로 완료된 후 BitLocker는 기본 옵션과 동일하게 작동합니다.

#### 위험 완화: TPM 및 USB 장치를 사용하는 BitLocker

TPM 및 USB을 사용하는 BitLocker 옵션은 데이터에 대한 다음과 같은 위험을 감소시킵니다.

-   **최대 절전 모드 상태의 컴퓨터**. 최대 절전 모드 후 BitLocker는 USB 장치를 사용하여 재인증을 요구합니다.

-   **로컬/도메인 암호 검색**. 이전 옵션에서와 같이 TPM 및 USB를 사용하는 BitLocker 옵션의 가장 큰 장점은 컴퓨터를 부팅하거나 최대 절전 모드에서 다시 시작할 때 필요한 다른 요소 또는 자격 증명을 도입한다는 점입니다.

-   **내부자가 암호화된 데이터를 읽을 수 있음**. 이 옵션에서는 인증 요소가 추가되므로 유효한 계정을 갖고 있는 무단 사용자가 컴퓨터를 부팅하고, 로그온하고 암호화된 데이터를 읽을 수 있는 위험을 감소시킵니다.

-   **오프라인 공격을 통한 키 검색**. USB 장치가 없는 경우 공격자는 FVEK 값을 알아내기 위해 USB 장치에 보관된 키에 대해 무차별 대입 공격을 탑재해야 합니다.

-   **운영 체제에 대한 오프라인 공격**. USB 장치가 없는 경우 공격자가 운영 체제에 대한 공격에 성공하려면 USB 장치에 보관된 키에 대해 무차별 대입 공격을 탑재해야 합니다.

-   **최대 절전 모드 파일을 통한 일반 텍스트 데이터 유출**. BitLocker의 가장 큰 목표는 컴퓨터를 끄거나 컴퓨터가 최대 절전 모드에 있을 때 하드 디스크 드라이브의 운영 체제 볼륨에 있는 데이터를 보호하는 것입니다. BitLocker를 사용하도록 설정되어 있는 경우 최대 절전 모드 파일이 암호화됩니다.

-   **시스템 페이징 파일을 통한 일반 텍스트 데이터 유출**. Windows Vista에서 페이지 파일은 부팅 시 생성되나 디스크에 기록되지는 않는 임시 대칭 키를 사용하여 암호화됩니다. 시스템 종료 후에 이 키는 폐기되므로 페이지 파일에서 데이터를 복구하려면 무차별 대입 공격을 통해 페이지 파일 암호화에 사용된 대칭 키를 찾아내야 합니다.

-   **사용자 오류**. BitLocker는 볼륨 전체에 대한 암호화 기술이므로 Windows Vista 운영 체제 볼륨에 저장된 모든 파일을 암호화합니다. 이 기능은 사용자가 암호화 적용 여부에 대한 결정을 잘못 내리는 실수를 방지합니다.

#### 기타 위험 및 완화 조치: TPM 및 USB 장치를 사용하는 BitLocker

TPM 및 USB 장치를 사용하는 BitLocker 옵션은 추가적인 제어 및 정책을 적용하지 않으면 다음과 같은 위험 요소를 완화하지 못합니다.

-   **절전(대기) 모드 상태의 컴퓨터**. 랩톱 컴퓨터가 절전 모드가 되면 랩톱 컴퓨터의 상태 및 BitLocker 암호화 키가 변경되지 않습니다. 절전 모드에서 다시 시작할 때 FVEK는 컴퓨터에 액세스할 수 있습니다. 이러한 위험은 **절전 상태에서 컴퓨터를 다시 시작할 때 암호 확인(Prompt for password when computer resumes from sleep)**을 사용하도록 설정하여 완화할 수 있습니다.

-   **로그온되고 데스크톱이 잠금 해제 상태인 컴퓨터**. 컴퓨터가 부팅되고 VMK가 해독된 후 키보드에 액세스할 수 있는 사람은 누구든지 암호화되지 않은 데이터에 액세스할 수 있습니다. 이 위험을 가장 유용하게 완화할 수 있는 방법은 컴퓨터에 중요한 정보를 보관하는 사용자들에게 보안 인식 교육을 제공하는 것입니다.

-   **운영 체제에 대한 온라인 공격**. 부팅 프로세스에 포함된 USB 장치를 제공함으로써 정상 부팅을 일으키는 공격자는 권한 승격 공격 및 원격으로 악용할 수 있는 공격 등, 다양한 공격을 탑재할 수 있습니다.

-   **플랫폼 공격**. BitLocker, TPM 및 USB 장치로 구성되는 컴퓨터는 Windows 사용자 자격 증명 인터페이스(Winlogon)까지 운영 체제를 부팅 및 로드할 수 있습니다. 플랫폼 공격으로 인해 키 자료가 노출될 수 있습니다.

-   **컴퓨터의 필수 인증 요소**. USB 장치는 유일한 물리적 인증 요소로 암호화 솔루션은 전적으로 USB 장치에 의존합니다. 컴퓨터와 USB 장치를 동시에 분실하는 경우 PIN 또는 암호와 같은 비물리적 이차 인증 요소를 요구함으로써 그 위험을 완화할 수 있습니다.

[](#mainsection)[페이지 위쪽](#mainsection)

### BitLocker 위험 분석 요약

다음 표에서는 여러 가지 데이터 위험 및 다양한 BitLocker 옵션들이 각 위험을 어떻게 완화할 수 있는지를 보여줍니다. 특정 옵션을 사용할 때 완화되는 위험은 **Y**로 표시됩니다. 하이픈(**-**)은 해당 옵션을 사용해도 위험이 거의 완화되지 않음을 의미합니다.

**표 2.1. BitLocker 위험 완화**

![](images/Cc162804.fd057821-a2d0-48df-a0b1-5b07eaa7c90a(ko-kr,TechNet.10).gif)
[](#mainsection)[페이지 위쪽](#mainsection)

### 자세한 정보

-   [시스템 무결성 팀 블로그](http://blogs.msdn.com/si_team/archive/2006/04/10/572888.aspx)

-   BitLocker 드라이브 암호화 [AES-CBC + Elephant 확산기](http://www.microsoft.com/downloads/details.aspx?familyid=131dae03-39ae-48be-a8d6-8b0034c92555&displaylang=en) 백서

[](#mainsection)[페이지 위쪽](#mainsection)

**다운로드**

[Data Encryption Toolkit for Mobile PCs 받기](http://go.microsoft.com/fwlink/?linkid=81666)

**참여**

[Data Encryption Toolkit 베타 프로그램 등록](https://connect.microsoft.com/invitationuse.aspx?programid=790&invitationid=desa-r7gd-3f73&siteid=14)

**업데이트 알림**

[업데이트 및 새 릴리스에 대해 알아보려면 등록](http://go.microsoft.com/fwlink/?linkid=54982)

**사용자 의견**

[사용자 의견 및 제안 보내기](mailto:secwish@microsoft.com?subject=data%20encryption%20toolkit%20for%20mobile%20pcs%20security%20analysis%20on%20technet)

[](#mainsection)[페이지 위쪽](#mainsection)
